/*! For license information please see main.27779269.js.LICENSE.txt */
(()=>{"use strict";var e={2730:(e,t,n)=>{var i=n(5043),s=n(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)r.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,i,s,a,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=r}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}function b(e,t,n,i){var s=m.hasOwnProperty(t)?m[t]:null;(null!==s?0!==s.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,i)&&(n=null),i||null===s?function(e){return!!u.call(f,e)||!u.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,i=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,A);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,A);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,A);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var N,O=Object.assign;function z(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),a=i.stack.split("\n"),r=s.length-1,o=a.length-1;1<=r&&0<=o&&s[r]!==a[o];)o--;for(;1<=r&&0<=o;r--,o--)if(s[r]!==a[o]){if(1!==r||1!==o)do{if(r--,0>--o||s[r]!==a[o]){var l="\n"+s[r].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=r&&0<=o);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function H(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case S:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=q(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){$(e,t);var n=V(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(i&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ae(e,t){var n=V(t.value),i=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),s=ge(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ae(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,Ee=null;function Se(e){if(e=bs(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=ws(t),xe(e.stateNode,e.type,t))}}function Ce(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function _e(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Pe(){}var Me=!1;function Le(e,t,n){if(Me)return e(t,n);Me=!0;try{return Te(e,t,n)}finally{Me=!1,(null!==ke||null!==Ee)&&(Pe(),_e())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var i=ws(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){De=!1}function Fe(e,t,n,i,s,a,r,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ne=!1,Oe=null,ze=!1,je=null,Be={onError:function(e){Ne=!0,Oe=e}};function He(e,t,n,i,s,a,r,o,l){Ne=!1,Oe=null,Fe.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(null===s)break;var r=s.alternate;if(null===r){if(null!==(i=s.return)){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Ve(s),e;if(r===i)return Ve(s),t;r=r.sibling}throw Error(a(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Xe=s.unstable_scheduleCallback,Ke=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,Qe=s.unstable_requestPaint,$e=s.unstable_now,Ze=s.unstable_getCurrentPriorityLevel,Je=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,it=s.unstable_IdlePriority,st=null,at=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes,r=268435455&n;if(0!==r){var o=r&~s;0!==o?i=ut(o):0!==(a&=r)&&(i=ut(a))}else 0!==(r=n&~s)?i=ut(r):0!==a&&(i=ut(a));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)s=1<<(n=31-rt(t)),i|=e[n],t&=~s;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function At(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-rt(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,kt,Et,St,Ct=!1,_t=[],Tt=null,Pt=null,Mt=null,Lt=new Map,Rt=new Map,Dt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Nt(e,t,n,i,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&xt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Ot(e){var t=As(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&xt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);ye=i,n.target.dispatchEvent(i),ye=null,t.shift()}return!0}function jt(e,t,n){zt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Tt&&zt(Tt)&&(Tt=null),null!==Pt&&zt(Pt)&&(Pt=null),null!==Mt&&zt(Mt)&&(Mt=null),Lt.forEach(jt),Rt.forEach(jt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Ht(t,e)}if(0<_t.length){Ht(_t[0],e);for(var n=1;n<_t.length;n++){var i=_t[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Tt&&Ht(Tt,e),null!==Pt&&Ht(Pt,e),null!==Mt&&Ht(Mt,e),Lt.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(i=Dt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ot(n),null===n.blockedOn&&Dt.shift()}var Wt=y.ReactCurrentBatchConfig,Vt=!0;function qt(e,t,n,i){var s=bt,a=Wt.transition;Wt.transition=null;try{bt=1,Xt(e,t,n,i)}finally{bt=s,Wt.transition=a}}function Gt(e,t,n,i){var s=bt,a=Wt.transition;Wt.transition=null;try{bt=4,Xt(e,t,n,i)}finally{bt=s,Wt.transition=a}}function Xt(e,t,n,i){if(Vt){var s=Yt(e,t,n,i);if(null===s)Vi(e,t,i,Kt,n),Ft(e,i);else if(function(e,t,n,i,s){switch(t){case"focusin":return Tt=Nt(Tt,e,t,n,i,s),!0;case"dragenter":return Pt=Nt(Pt,e,t,n,i,s),!0;case"mouseover":return Mt=Nt(Mt,e,t,n,i,s),!0;case"pointerover":var a=s.pointerId;return Lt.set(a,Nt(Lt.get(a)||null,e,t,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,Rt.set(a,Nt(Rt.get(a)||null,e,t,n,i,s)),!0}return!1}(s,e,t,n,i))i.stopPropagation();else if(Ft(e,i),4&t&&-1<It.indexOf(e)){for(;null!==s;){var a=bs(s);if(null!==a&&wt(a),null===(a=Yt(e,t,n,i))&&Vi(e,t,i,Kt,n),a===s)break;s=a}null!==s&&i.stopPropagation()}else Vi(e,t,i,null,n)}}var Kt=null;function Yt(e,t,n,i){if(Kt=null,null!==(e=As(e=we(i))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var $t=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,i=n.length,s="value"in $t?$t.value:$t.textContent,a=s.length;for(e=0;e<i&&n[e]===s[e];e++);var r=i-e;for(t=1;t<=r&&n[i-t]===s[a-t];t++);return Jt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function sn(){return!1}function an(e){function t(t,n,i,s,a){for(var r in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(s):s[r]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:sn,this.isPropagationStopped=sn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var rn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=O({},cn,{view:0,detail:0}),hn=an(un),pn=O({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(rn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=rn=0,ln=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=an(pn),gn=an(O({},pn,{dataTransfer:0})),mn=an(O({},un,{relatedTarget:0})),vn=an(O({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),An=O({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(An),yn=an(O({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return En}var Cn=O({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(Cn),Tn=an(O({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(O({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Mn=an(O({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=O({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Ln),Dn=[9,13,27,32],In=d&&"CompositionEvent"in window,Fn=null;d&&"documentMode"in document&&(Fn=document.documentMode);var Nn=d&&"TextEvent"in window&&!Fn,On=d&&(!In||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,i){Ce(i),0<(t=Gi(t,"onChange")).length&&(n=new dn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Gn=null,Xn=null;function Kn(e){zi(e,0)}function Yn(e){if(X(ys(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(d){var Zn;if(d){var Jn="oninput"in document;if(!Jn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Jn="function"===typeof ei.oninput}Zn=Jn}else Zn=!1;$n=Zn&&(!document.documentMode||9<document.documentMode)}function ti(){Gn&&(Gn.detachEvent("onpropertychange",ni),Xn=Gn=null)}function ni(e){if("value"===e.propertyName&&Yn(Xn)){var t=[];qn(t,Xn,e,we(e)),Le(Kn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Xn=n,(Gn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function si(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Xn)}function ai(e,t){if("click"===e)return Yn(t)}function ri(e,t){if("input"===e||"change"===e)return Yn(t)}var oi="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(oi(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!u.call(t,s)||!oi(e[s],t[s]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function di(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function ui(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ui(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ui(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(i.start,s);i=void 0===i.end?a:Math.min(i.end,s),!e.extend&&a>i&&(s=i,i=a,a=s),s=di(n,a);var r=di(n,i);s&&r&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gi=d&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,Ai=null,bi=!1;function yi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==mi||mi!==K(i)||("selectionStart"in(i=mi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},Ai&&li(Ai,i)||(Ai=i,0<(i=Gi(vi,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=mi)))}function wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xi={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},ki={},Ei={};function Si(e){if(ki[e])return ki[e];if(!xi[e])return e;var t,n=xi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ei)return ki[e]=n[t];return e}d&&(Ei=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);var Ci=Si("animationend"),_i=Si("animationiteration"),Ti=Si("animationstart"),Pi=Si("transitionend"),Mi=new Map,Li="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(e,t){Mi.set(e,t),l(t,[e])}for(var Di=0;Di<Li.length;Di++){var Ii=Li[Di];Ri(Ii.toLowerCase(),"on"+(Ii[0].toUpperCase()+Ii.slice(1)))}Ri(Ci,"onAnimationEnd"),Ri(_i,"onAnimationIteration"),Ri(Ti,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Pi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ni=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function Oi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,s,r,o,l,c){if(He.apply(this,arguments),Ne){if(!Ne)throw Error(a(198));var d=Oe;Ne=!1,Oe=null,ze||(ze=!0,je=d)}}(i,t,void 0,e),e.currentTarget=null}function zi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var r=i.length-1;0<=r;r--){var o=i[r],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;Oi(s,o,c),a=l}else for(r=0;r<i.length;r++){if(l=(o=i[r]).instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;Oi(s,o,c),a=l}}}if(ze)throw e=je,ze=!1,je=null,e}function ji(e,t){var n=t[gs];void 0===n&&(n=t[gs]=new Set);var i=e+"__bubble";n.has(i)||(Wi(t,e,2,!1),n.add(i))}function Bi(e,t,n){var i=0;t&&(i|=4),Wi(n,e,i,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[Hi]){e[Hi]=!0,r.forEach((function(t){"selectionchange"!==t&&(Ni.has(t)||Bi(t,!1,e),Bi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hi]||(t[Hi]=!0,Bi("selectionchange",!1,t))}}function Wi(e,t,n,i){switch(Qt(t)){case 1:var s=qt;break;case 4:s=Gt;break;default:s=Xt}n=s.bind(null,t,n,e),s=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),i?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Vi(e,t,n,i,s){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var r=i.tag;if(3===r||4===r){var o=i.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===r)for(r=i.return;null!==r;){var l=r.tag;if((3===l||4===l)&&((l=r.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;r=r.return}for(;null!==o;){if(null===(r=As(o)))return;if(5===(l=r.tag)||6===l){i=a=r;continue e}o=o.parentNode}}i=i.return}Le((function(){var i=a,s=we(n),r=[];e:{var o=Mi.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Ci:case _i:case Ti:l=vn;break;case Pi:l=Mn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var p,f=i;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=Re(f,h))&&d.push(qi(f,g,p)))),u)break;f=f.return}0<d.length&&(o=new l(o,c,null,n,s),r.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!As(c)&&!c[fs])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?As(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(d=fn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=Tn,g="onPointerLeave",h="onPointerEnter",f="pointer"),u=null==l?o:ys(l),p=null==c?o:ys(c),(o=new d(g,f+"leave",l,n,s)).target=u,o.relatedTarget=p,g=null,As(s)===i&&((d=new d(h,f+"enter",c,n,s)).target=p,d.relatedTarget=u,g=d),u=g,l&&c)e:{for(h=c,f=0,p=d=l;p;p=Xi(p))f++;for(p=0,g=h;g;g=Xi(g))p++;for(;0<f-p;)d=Xi(d),f--;for(;0<p-f;)h=Xi(h),p--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=Xi(d),h=Xi(h)}d=null}else d=null;null!==l&&Ki(r,o,l,d,!1),null!==c&&null!==u&&Ki(r,u,c,d,!0)}if("select"===(l=(o=i?ys(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Qn;else if(Vn(o))if($n)m=ri;else{m=si;var v=ii}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ai);switch(m&&(m=m(e,i))?qn(r,m,n,s):(v&&v(e,o,i),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=i?ys(i):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(mi=v,vi=i,Ai=null);break;case"focusout":Ai=vi=mi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,yi(r,n,s);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":yi(r,n,s)}var A;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(On&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(A=en()):(Zt="value"in($t=s)?$t.value:$t.textContent,Un=!0)),0<(v=Gi(i,b)).length&&(b=new yn(b,e,null,n,s),r.push({event:b,listeners:v}),A?b.data=A:null!==(A=Hn(n))&&(b.data=A))),(A=Nn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(jn=!0,zn);case"textInput":return(e=t.data)===zn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!In&&Bn(e,t)?(e=en(),Jt=Zt=$t=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Gi(i,"onBeforeInput")).length&&(s=new yn("onBeforeInput","beforeinput",null,n,s),r.push({event:s,listeners:i}),s.data=A))}zi(r,t)}))}function qi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gi(e,t){for(var n=t+"Capture",i=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Re(e,n))&&i.unshift(qi(e,a,s)),null!=(a=Re(e,t))&&i.push(qi(e,a,s))),e=e.return}return i}function Xi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ki(e,t,n,i,s){for(var a=t._reactName,r=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===i)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Re(n,a))&&r.unshift(qi(n,l,o)):s||null!=(l=Re(n,a))&&r.push(qi(n,l,o))),n=n.return}0!==r.length&&e.push({event:t,listeners:r})}var Yi=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function $i(e){return("string"===typeof e?e:""+e).replace(Yi,"\n").replace(Qi,"")}function Zi(e,t,n){if(t=$i(t),$i(e)!==t&&n)throw Error(a(425))}function Ji(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var is="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,rs="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(os)}:is;function os(e){setTimeout((function(){throw e}))}function ls(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===i)return e.removeChild(s),void Ut(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=s}while(n);Ut(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),hs="__reactFiber$"+us,ps="__reactProps$"+us,fs="__reactContainer$"+us,gs="__reactEvents$"+us,ms="__reactListeners$"+us,vs="__reactHandles$"+us;function As(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[hs])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[hs]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ys(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ws(e){return e[ps]||null}var xs=[],ks=-1;function Es(e){return{current:e}}function Ss(e){0>ks||(e.current=xs[ks],xs[ks]=null,ks--)}function Cs(e,t){ks++,xs[ks]=e.current,e.current=t}var _s={},Ts=Es(_s),Ps=Es(!1),Ms=_s;function Ls(e,t){var n=e.type.contextTypes;if(!n)return _s;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Rs(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ds(){Ss(Ps),Ss(Ts)}function Is(e,t,n){if(Ts.current!==_s)throw Error(a(168));Cs(Ts,t),Cs(Ps,n)}function Fs(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var s in i=i.getChildContext())if(!(s in t))throw Error(a(108,W(e)||"Unknown",s));return O({},n,i)}function Ns(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_s,Ms=Ts.current,Cs(Ts,e),Cs(Ps,Ps.current),!0}function Os(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=Fs(e,t,Ms),i.__reactInternalMemoizedMergedChildContext=e,Ss(Ps),Ss(Ts),Cs(Ts,e)):Ss(Ps),Cs(Ps,n)}var zs=null,js=!1,Bs=!1;function Hs(e){null===zs?zs=[e]:zs.push(e)}function Us(){if(!Bs&&null!==zs){Bs=!0;var e=0,t=bt;try{var n=zs;for(bt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}zs=null,js=!1}catch(s){throw null!==zs&&(zs=zs.slice(e+1)),Xe(Je,Us),s}finally{bt=t,Bs=!1}}return null}var Ws=[],Vs=0,qs=null,Gs=0,Xs=[],Ks=0,Ys=null,Qs=1,$s="";function Zs(e,t){Ws[Vs++]=Gs,Ws[Vs++]=qs,qs=e,Gs=t}function Js(e,t,n){Xs[Ks++]=Qs,Xs[Ks++]=$s,Xs[Ks++]=Ys,Ys=e;var i=Qs;e=$s;var s=32-rt(i)-1;i&=~(1<<s),n+=1;var a=32-rt(t)+s;if(30<a){var r=s-s%5;a=(i&(1<<r)-1).toString(32),i>>=r,s-=r,Qs=1<<32-rt(t)+s|n<<s|i,$s=a+e}else Qs=1<<a|n<<s|i,$s=e}function ea(e){null!==e.return&&(Zs(e,1),Js(e,1,0))}function ta(e){for(;e===qs;)qs=Ws[--Vs],Ws[Vs]=null,Gs=Ws[--Vs],Ws[Vs]=null;for(;e===Ys;)Ys=Xs[--Ks],Xs[Ks]=null,$s=Xs[--Ks],Xs[Ks]=null,Qs=Xs[--Ks],Xs[Ks]=null}var na=null,ia=null,sa=!1,aa=null;function ra(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ia=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ys?{id:Qs,overflow:$s}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ia=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(sa){var t=ia;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=cs(n.nextSibling);var i=na;t&&oa(e,t)?ra(i,n):(e.flags=-4097&e.flags|2,sa=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,na=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ua(e){if(e!==na)return!1;if(!sa)return da(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ia)){if(la(e))throw ha(),Error(a(418));for(;t;)ra(e,t),t=cs(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=na?cs(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ia;e;)e=cs(e.nextSibling)}function pa(){ia=na=null,sa=!1}function fa(e){null===aa?aa=[e]:aa.push(e)}var ga=y.ReactCurrentBatchConfig;function ma(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var s=i,r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=s.refs;null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Aa(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function r(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=zc(n,e.mode,i)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,i){var a=n.type;return a===k?u(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Aa(a)===t.type)?((i=s(t,n.props)).ref=ma(e,t,n),i.return=e,i):((i=Fc(n.type,n.key,n.props,null,e.mode,i)).ref=ma(e,t,n),i.return=e,i)}function d(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,i)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,i,a){return null===t||7!==t.tag?((t=Nc(n,e.mode,i,a)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=ma(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Nc(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function p(e,t,n,i){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,i):null;case x:return n.key===s?d(e,t,n,i):null;case R:return p(e,t,(s=n._init)(n._payload),i)}if(te(n)||F(n))return null!==s?null:u(e,t,n,i,null);va(e,n)}return null}function f(e,t,n,i,s){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,s);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return c(t,e=e.get(null===i.key?n:i.key)||null,i,s);case x:return d(t,e=e.get(null===i.key?n:i.key)||null,i,s);case R:return f(e,t,n,(0,i._init)(i._payload),s)}if(te(i)||F(i))return u(t,e=e.get(n)||null,i,s,null);va(t,i)}return null}function g(s,a,o,l){for(var c=null,d=null,u=a,g=a=0,m=null;null!==u&&g<o.length;g++){u.index>g?(m=u,u=null):m=u.sibling;var v=p(s,u,o[g],l);if(null===v){null===u&&(u=m);break}e&&u&&null===v.alternate&&t(s,u),a=r(v,a,g),null===d?c=v:d.sibling=v,d=v,u=m}if(g===o.length)return n(s,u),sa&&Zs(s,g),c;if(null===u){for(;g<o.length;g++)null!==(u=h(s,o[g],l))&&(a=r(u,a,g),null===d?c=u:d.sibling=u,d=u);return sa&&Zs(s,g),c}for(u=i(s,u);g<o.length;g++)null!==(m=f(u,s,g,o[g],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?g:m.key),a=r(m,a,g),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach((function(e){return t(s,e)})),sa&&Zs(s,g),c}function m(s,o,l,c){var d=F(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,g=o,m=o=0,v=null,A=l.next();null!==g&&!A.done;m++,A=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=p(s,g,A.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(s,g),o=r(b,o,m),null===u?d=b:u.sibling=b,u=b,g=v}if(A.done)return n(s,g),sa&&Zs(s,m),d;if(null===g){for(;!A.done;m++,A=l.next())null!==(A=h(s,A.value,c))&&(o=r(A,o,m),null===u?d=A:u.sibling=A,u=A);return sa&&Zs(s,m),d}for(g=i(s,g);!A.done;m++,A=l.next())null!==(A=f(g,s,m,A.value,c))&&(e&&null!==A.alternate&&g.delete(null===A.key?m:A.key),o=r(A,o,m),null===u?d=A:u.sibling=A,u=A);return e&&g.forEach((function(e){return t(s,e)})),sa&&Zs(s,m),d}return function e(i,a,r,l){if("object"===typeof r&&null!==r&&r.type===k&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case w:e:{for(var c=r.key,d=a;null!==d;){if(d.key===c){if((c=r.type)===k){if(7===d.tag){n(i,d.sibling),(a=s(d,r.props.children)).return=i,i=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Aa(c)===d.type){n(i,d.sibling),(a=s(d,r.props)).ref=ma(i,d,r),a.return=i,i=a;break e}n(i,d);break}t(i,d),d=d.sibling}r.type===k?((a=Nc(r.props.children,i.mode,l,r.key)).return=i,i=a):((l=Fc(r.type,r.key,r.props,null,i.mode,l)).ref=ma(i,a,r),l.return=i,i=l)}return o(i);case x:e:{for(d=r.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===r.containerInfo&&a.stateNode.implementation===r.implementation){n(i,a.sibling),(a=s(a,r.children||[])).return=i,i=a;break e}n(i,a);break}t(i,a),a=a.sibling}(a=jc(r,i.mode,l)).return=i,i=a}return o(i);case R:return e(i,a,(d=r._init)(r._payload),l)}if(te(r))return g(i,a,r,l);if(F(r))return m(i,a,r,l);va(i,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==a&&6===a.tag?(n(i,a.sibling),(a=s(a,r)).return=i,i=a):(n(i,a),(a=zc(r,i.mode,l)).return=i,i=a),o(i)):n(i,a)}}var ya=ba(!0),wa=ba(!1),xa=Es(null),ka=null,Ea=null,Sa=null;function Ca(){Sa=Ea=ka=null}function _a(e){var t=xa.current;Ss(xa),e._currentValue=t}function Ta(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Pa(e,t){ka=e,Sa=Ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Ma(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},null===Ea){if(null===ka)throw Error(a(308));Ea=e,ka.dependencies={lanes:0,firstContext:e}}else Ea=Ea.next=e;return t}var La=null;function Ra(e){null===La?La=[e]:La.push(e)}function Da(e,t,n,i){var s=t.interleaved;return null===s?(n.next=n,Ra(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ia(e,i)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fa=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ja(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Pl)){var s=i.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Ia(e,n)}return null===(s=i.interleaved)?(t.next=t,Ra(i)):(t.next=s.next,s.next=t),i.interleaved=t,Ia(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,At(e,n)}}function Ha(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var r={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=r:a=a.next=r,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,i){var s=e.updateQueue;Fa=!1;var a=s.firstBaseUpdate,r=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===r?a=c:r.next=c,r=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==r&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=s.baseState;for(r=0,d=c=l=null,o=a;;){var h=o.lane,p=o.eventTime;if((i&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,g=o;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(p,u,h);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(p,u,h):f)||void 0===h)break e;u=O({},u,h);break e;case 2:Fa=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,r|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{r|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Ol|=r,e.lanes=r,e.memoizedState=u}}function Wa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(null!==s){if(i.callback=null,i=n,"function"!==typeof s)throw Error(a(191,s));s.call(i)}}}var Va={},qa=Es(Va),Ga=Es(Va),Xa=Es(Va);function Ka(e){if(e===Va)throw Error(a(174));return e}function Ya(e,t){switch(Cs(Xa,t),Cs(Ga,e),Cs(qa,Va),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(qa),Cs(qa,t)}function Qa(){Ss(qa),Ss(Ga),Ss(Xa)}function $a(e){Ka(Xa.current);var t=Ka(qa.current),n=le(t,e.type);t!==n&&(Cs(Ga,e),Cs(qa,n))}function Za(e){Ga.current===e&&(Ss(qa),Ss(Ga))}var Ja=Es(0);function er(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tr=[];function nr(){for(var e=0;e<tr.length;e++)tr[e]._workInProgressVersionPrimary=null;tr.length=0}var ir=y.ReactCurrentDispatcher,sr=y.ReactCurrentBatchConfig,ar=0,rr=null,or=null,lr=null,cr=!1,dr=!1,ur=0,hr=0;function pr(){throw Error(a(321))}function fr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oi(e[n],t[n]))return!1;return!0}function gr(e,t,n,i,s,r){if(ar=r,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ir.current=null===e||null===e.memoizedState?Jr:eo,e=n(i,s),dr){r=0;do{if(dr=!1,ur=0,25<=r)throw Error(a(301));r+=1,lr=or=null,t.updateQueue=null,ir.current=to,e=n(i,s)}while(dr)}if(ir.current=Zr,t=null!==or&&null!==or.next,ar=0,lr=or=rr=null,cr=!1,t)throw Error(a(300));return e}function mr(){var e=0!==ur;return ur=0,e}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lr?rr.memoizedState=lr=e:lr=lr.next=e,lr}function Ar(){if(null===or){var e=rr.alternate;e=null!==e?e.memoizedState:null}else e=or.next;var t=null===lr?rr.memoizedState:lr.next;if(null!==t)lr=t,or=e;else{if(null===e)throw Error(a(310));e={memoizedState:(or=e).memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},null===lr?rr.memoizedState=lr=e:lr=lr.next=e}return lr}function br(e,t){return"function"===typeof t?t(e):t}function yr(e){var t=Ar(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=or,s=i.baseQueue,r=n.pending;if(null!==r){if(null!==s){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(null!==s){r=s.next,i=i.baseState;var l=o=null,c=null,d=r;do{var u=d.lane;if((ar&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=i):c=c.next=h,rr.lanes|=u,Ol|=u}d=d.next}while(null!==d&&d!==r);null===c?o=i:c.next=l,oi(i,t.memoizedState)||(yo=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){s=e;do{r=s.lane,rr.lanes|=r,Ol|=r,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wr(e){var t=Ar(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{r=e(r,o.action),o=o.next}while(o!==s);oi(r,t.memoizedState)||(yo=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function xr(){}function kr(e,t){var n=rr,i=Ar(),s=t(),r=!oi(i.memoizedState,s);if(r&&(i.memoizedState=s,yo=!0),i=i.queue,Fr(Cr.bind(null,n,i,e),[e]),i.getSnapshot!==t||r||null!==lr&&1&lr.memoizedState.tag){if(n.flags|=2048,Mr(9,Sr.bind(null,n,i,s,t),void 0,null),null===Ml)throw Error(a(349));0!==(30&ar)||Er(n,t,s)}return s}function Er(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sr(e,t,n,i){t.value=n,t.getSnapshot=i,_r(t)&&Tr(e)}function Cr(e,t,n){return n((function(){_r(t)&&Tr(e)}))}function _r(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oi(e,n)}catch(i){return!0}}function Tr(e){var t=Ia(e,1);null!==t&&ic(t,e,1,-1)}function Pr(e){var t=vr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:e},t.queue=e,e=e.dispatch=Kr.bind(null,rr,e),[t.memoizedState,e]}function Mr(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Lr(){return Ar().memoizedState}function Rr(e,t,n,i){var s=vr();rr.flags|=e,s.memoizedState=Mr(1|t,n,void 0,void 0===i?null:i)}function Dr(e,t,n,i){var s=Ar();i=void 0===i?null:i;var a=void 0;if(null!==or){var r=or.memoizedState;if(a=r.destroy,null!==i&&fr(i,r.deps))return void(s.memoizedState=Mr(t,n,a,i))}rr.flags|=e,s.memoizedState=Mr(1|t,n,a,i)}function Ir(e,t){return Rr(8390656,8,e,t)}function Fr(e,t){return Dr(2048,8,e,t)}function Nr(e,t){return Dr(4,2,e,t)}function Or(e,t){return Dr(4,4,e,t)}function zr(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function jr(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Dr(4,4,zr.bind(null,t,e),n)}function Hr(){}function Ur(e,t){var n=Ar();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&fr(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Wr(e,t){var n=Ar();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&fr(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Vr(e,t,n){return 0===(21&ar)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=n):(oi(n,t)||(n=gt(),rr.lanes|=n,Ol|=n,e.baseState=!0),t)}function qr(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var i=sr.transition;sr.transition={};try{e(!1),t()}finally{bt=n,sr.transition=i}}function Gr(){return Ar().memoizedState}function Xr(e,t,n){var i=nc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Yr(e))Qr(t,n);else if(null!==(n=Da(e,t,n,i))){ic(n,e,i,tc()),$r(n,t,i)}}function Kr(e,t,n){var i=nc(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yr(e))Qr(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var r=t.lastRenderedState,o=a(r,n);if(s.hasEagerState=!0,s.eagerState=o,oi(o,r)){var l=t.interleaved;return null===l?(s.next=s,Ra(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Da(e,t,s,i))&&(ic(n,e,i,s=tc()),$r(n,t,i))}}function Yr(e){var t=e.alternate;return e===rr||null!==t&&t===rr}function Qr(e,t){dr=cr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $r(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,At(e,n)}}var Zr={readContext:Ma,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},Jr={readContext:Ma,useCallback:function(e,t){return vr().memoizedState=[e,void 0===t?null:t],e},useContext:Ma,useEffect:Ir,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rr(4194308,4,zr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rr(4,2,e,t)},useMemo:function(e,t){var n=vr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=vr();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Xr.bind(null,rr,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},vr().memoizedState=e},useState:Pr,useDebugValue:Hr,useDeferredValue:function(e){return vr().memoizedState=e},useTransition:function(){var e=Pr(!1),t=e[0];return e=qr.bind(null,e[1]),vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=rr,s=vr();if(sa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ml)throw Error(a(349));0!==(30&ar)||Er(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,Ir(Cr.bind(null,i,r,e),[e]),i.flags|=2048,Mr(9,Sr.bind(null,i,r,n,t),void 0,null),n},useId:function(){var e=vr(),t=Ml.identifierPrefix;if(sa){var n=$s;t=":"+t+"R"+(n=(Qs&~(1<<32-rt(Qs)-1)).toString(32)+n),0<(n=ur++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eo={readContext:Ma,useCallback:Ur,useContext:Ma,useEffect:Fr,useImperativeHandle:jr,useInsertionEffect:Nr,useLayoutEffect:Or,useMemo:Wr,useReducer:yr,useRef:Lr,useState:function(){return yr(br)},useDebugValue:Hr,useDeferredValue:function(e){return Vr(Ar(),or.memoizedState,e)},useTransition:function(){return[yr(br)[0],Ar().memoizedState]},useMutableSource:xr,useSyncExternalStore:kr,useId:Gr,unstable_isNewReconciler:!1},to={readContext:Ma,useCallback:Ur,useContext:Ma,useEffect:Fr,useImperativeHandle:jr,useInsertionEffect:Nr,useLayoutEffect:Or,useMemo:Wr,useReducer:wr,useRef:Lr,useState:function(){return wr(br)},useDebugValue:Hr,useDeferredValue:function(e){var t=Ar();return null===or?t.memoizedState=e:Vr(t,or.memoizedState,e)},useTransition:function(){return[wr(br)[0],Ar().memoizedState]},useMutableSource:xr,useSyncExternalStore:kr,useId:Gr,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function io(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var so={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tc(),s=nc(e),a=za(i,s);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ja(e,a,s))&&(ic(t,e,s,i),Ba(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tc(),s=nc(e),a=za(i,s);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ja(e,a,s))&&(ic(t,e,s,i),Ba(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),i=nc(e),s=za(n,i);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=ja(e,s,i))&&(ic(t,e,i,n),Ba(t,e,i))}};function ao(e,t,n,i,s,a,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,r):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(s,a))}function ro(e,t,n){var i=!1,s=_s,a=t.contextType;return"object"===typeof a&&null!==a?a=Ma(a):(s=Rs(t)?Ms:Ts.current,a=(i=null!==(i=t.contextTypes)&&void 0!==i)?Ls(e,s):_s),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=so,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function oo(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function lo(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Na(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Ma(a):(a=Rs(t)?Ms:Ts.current,s.context=Ls(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(io(e,t,a,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&so.enqueueReplaceState(s,s.state,null),Ua(e,n,s,i),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function co(e,t){try{var n="",i=t;do{n+=H(i),i=i.return}while(i);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var po="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=za(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){ql||(ql=!0,Gl=i),ho(0,t)},n}function go(e,t,n){(n=za(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){ho(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof i&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new po;var s=new Set;i.set(t,s)}else void 0===(s=i.get(t))&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ao(e,t,n,i,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=za(-1,1)).tag=2,ja(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var bo=y.ReactCurrentOwner,yo=!1;function wo(e,t,n,i){t.child=null===e?wa(t,null,n,i):ya(t,e.child,n,i)}function xo(e,t,n,i,s){n=n.render;var a=t.ref;return Pa(t,s),i=gr(e,t,n,i,a,s),n=mr(),null===e||yo?(sa&&n&&ea(t),t.flags|=1,wo(e,t,i,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qo(e,t,s))}function ko(e,t,n,i,s){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,i,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eo(e,t,a,i,s))}if(a=e.child,0===(e.lanes&s)){var r=a.memoizedProps;if((n=null!==(n=n.compare)?n:li)(r,i)&&e.ref===t.ref)return qo(e,t,s)}return t.flags|=1,(e=Ic(a,i)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,i,s){if(null!==e){var a=e.memoizedProps;if(li(a,i)&&e.ref===t.ref){if(yo=!1,t.pendingProps=i=a,0===(e.lanes&s))return t.lanes=e.lanes,qo(e,t,s);0!==(131072&e.flags)&&(yo=!0)}}return _o(e,t,n,i,s)}function So(e,t,n){var i=t.pendingProps,s=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cs(Il,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cs(Il,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==a?a.baseLanes:n,Cs(Il,Dl),Dl|=i}else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,Cs(Il,Dl),Dl|=i;return wo(e,t,s,n),t.child}function Co(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,n,i,s){var a=Rs(n)?Ms:Ts.current;return a=Ls(t,a),Pa(t,s),n=gr(e,t,n,i,a,s),i=mr(),null===e||yo?(sa&&i&&ea(t),t.flags|=1,wo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qo(e,t,s))}function To(e,t,n,i,s){if(Rs(n)){var a=!0;Ns(t)}else a=!1;if(Pa(t,s),null===t.stateNode)Vo(e,t),ro(t,n,i),lo(t,n,i,s),i=!0;else if(null===e){var r=t.stateNode,o=t.memoizedProps;r.props=o;var l=r.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ma(c):c=Ls(t,c=Rs(n)?Ms:Ts.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate;u||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==i||l!==c)&&oo(t,r,i,c),Fa=!1;var h=t.memoizedState;r.state=h,Ua(t,i,r,s),l=t.memoizedState,o!==i||h!==l||Ps.current||Fa?("function"===typeof d&&(io(t,n,d,i),l=t.memoizedState),(o=Fa||ao(t,n,o,i,h,l,c))?(u||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),r.props=i,r.state=l,r.context=c,i=o):("function"===typeof r.componentDidMount&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Oa(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:no(t.type,o),r.props=c,u=t.pendingProps,h=r.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ma(l):l=Ls(t,l=Rs(n)?Ms:Ts.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==u||h!==l)&&oo(t,r,i,l),Fa=!1,h=t.memoizedState,r.state=h,Ua(t,i,r,s);var f=t.memoizedState;o!==u||h!==f||Ps.current||Fa?("function"===typeof p&&(io(t,n,p,i),f=t.memoizedState),(c=Fa||ao(t,n,c,i,h,f,l)||!1)?(d||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(i,f,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),r.props=i,r.state=f,r.context=l,i=c):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Po(e,t,n,i,a,s)}function Po(e,t,n,i,s,a){Co(e,t);var r=0!==(128&t.flags);if(!i&&!r)return s&&Os(t,n,!1),qo(e,t,a);i=t.stateNode,bo.current=t;var o=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&r?(t.child=ya(t,e.child,null,a),t.child=ya(t,null,o,a)):wo(e,t,o,a),t.memoizedState=i.state,s&&Os(t,n,!0),t.child}function Mo(e){var t=e.stateNode;t.pendingContext?Is(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Is(0,t.context,!1),Ya(e,t.containerInfo)}function Lo(e,t,n,i,s){return pa(),fa(s),t.flags|=256,wo(e,t,n,i),t.child}var Ro,Do,Io,Fo,No={dehydrated:null,treeContext:null,retryLane:0};function Oo(e){return{baseLanes:e,cachePool:null,transitions:null}}function zo(e,t,n){var i,s=t.pendingProps,r=Ja.current,o=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&r)),i?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),Cs(Ja,1&r),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Oc(l,s,0,null),e=Nc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Oo(n),t.memoizedState=No,e):jo(t,l));if(null!==(r=e.memoizedState)&&null!==(i=r.dehydrated))return function(e,t,n,i,s,r,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,i=uo(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=i.fallback,s=t.mode,i=Oc({mode:"visible",children:i.children},s,0,null),(r=Nc(r,s,o,null)).flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,0!==(1&t.mode)&&ya(t,e.child,null,o),t.child.memoizedState=Oo(o),t.memoizedState=No,r);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===s.data){if(i=s.nextSibling&&s.nextSibling.dataset)var l=i.dgst;return i=l,Bo(e,t,o,i=uo(r=Error(a(419)),i,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(i=Ml)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(i.suspendedLanes|o))?0:s)&&s!==r.retryLane&&(r.retryLane=s,Ia(e,s),ic(i,e,s,-1))}return mc(),Bo(e,t,o,i=uo(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),s._reactRetry=t,null):(e=r.treeContext,ia=cs(s.nextSibling),na=t,sa=!0,aa=null,null!==e&&(Xs[Ks++]=Qs,Xs[Ks++]=$s,Xs[Ks++]=Ys,Qs=e.id,$s=e.overflow,Ys=t),t=jo(t,i.children),t.flags|=4096,t)}(e,t,l,s,i,r,n);if(o){o=s.fallback,l=t.mode,i=(r=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==r?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ic(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==i?o=Ic(i,o):(o=Nc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Oo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=No,s}return e=(o=e.child).sibling,s=Ic(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function jo(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,i){return null!==i&&fa(i),ya(t,e.child,null,n),(e=jo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ho(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Ta(e.return,t,n)}function Uo(e,t,n,i,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s)}function Wo(e,t,n){var i=t.pendingProps,s=i.revealOrder,a=i.tail;if(wo(e,t,i.children,n),0!==(2&(i=Ja.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ho(e,n,t);else if(19===e.tag)Ho(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Cs(Ja,i),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===er(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Uo(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===er(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Uo(t,!0,n,null,a);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Xo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,i|=14680064&s.subtreeFlags,i|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ko(e,t,n){var i=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xo(t),null;case 1:case 17:return Rs(t.type)&&Ds(),Xo(t),null;case 3:return i=t.stateNode,Qa(),Ss(Ps),Ss(Ts),nr(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Do(e,t),Xo(t),null;case 5:Za(t);var s=Ka(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)Io(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(a(166));return Xo(t),null}if(e=Ka(qa.current),ua(t)){i=t.stateNode,n=t.type;var r=t.memoizedProps;switch(i[hs]=t,i[ps]=r,e=0!==(1&t.mode),n){case"dialog":ji("cancel",i),ji("close",i);break;case"iframe":case"object":case"embed":ji("load",i);break;case"video":case"audio":for(s=0;s<Fi.length;s++)ji(Fi[s],i);break;case"source":ji("error",i);break;case"img":case"image":case"link":ji("error",i),ji("load",i);break;case"details":ji("toggle",i);break;case"input":Q(i,r),ji("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},ji("invalid",i);break;case"textarea":se(i,r),ji("invalid",i)}for(var l in Ae(n,r),s=null,r)if(r.hasOwnProperty(l)){var c=r[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==r.suppressHydrationWarning&&Zi(i.textContent,c,e),s=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==r.suppressHydrationWarning&&Zi(i.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&ji("scroll",i)}switch(n){case"input":G(i),J(i,r,!0);break;case"textarea":G(i),re(i);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(i.onclick=Ji)}i=s,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[hs]=t,e[ps]=i,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,i),n){case"dialog":ji("cancel",e),ji("close",e),s=i;break;case"iframe":case"object":case"embed":ji("load",e),s=i;break;case"video":case"audio":for(s=0;s<Fi.length;s++)ji(Fi[s],e);s=i;break;case"source":ji("error",e),s=i;break;case"img":case"image":case"link":ji("error",e),ji("load",e),s=i;break;case"details":ji("toggle",e),s=i;break;case"input":Q(e,i),s=Y(e,i),ji("invalid",e);break;case"option":default:s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=O({},i,{value:void 0}),ji("invalid",e);break;case"textarea":se(e,i),s=ie(e,i),ji("invalid",e)}for(r in Ae(n,s),c=s)if(c.hasOwnProperty(r)){var d=c[r];"style"===r?me(e,d):"dangerouslySetInnerHTML"===r?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===r?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(o.hasOwnProperty(r)?null!=d&&"onScroll"===r&&ji("scroll",e):null!=d&&b(e,r,d,l))}switch(n){case"input":G(e),J(e,i,!1);break;case"textarea":G(e),re(e);break;case"option":null!=i.value&&e.setAttribute("value",""+V(i.value));break;case"select":e.multiple=!!i.multiple,null!=(r=i.value)?ne(e,!!i.multiple,r,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xo(t),null;case 6:if(e&&null!=t.stateNode)Fo(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));if(n=Ka(Xa.current),Ka(qa.current),ua(t)){if(i=t.stateNode,n=t.memoizedProps,i[hs]=t,(r=i.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zi(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zi(i.nodeValue,n,0!==(1&e.mode))}r&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hs]=t,t.stateNode=i}return Xo(t),null;case 13:if(Ss(Ja),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==ia&&0!==(1&t.mode)&&0===(128&t.flags))ha(),pa(),t.flags|=98560,r=!1;else if(r=ua(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hs]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xo(t),r=!1}else null!==aa&&(oc(aa),aa=null),r=!0;if(!r)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ja.current)?0===Fl&&(Fl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Xo(t),null);case 4:return Qa(),Do(e,t),null===e&&Ui(t.stateNode.containerInfo),Xo(t),null;case 10:return _a(t.type._context),Xo(t),null;case 19:if(Ss(Ja),null===(r=t.memoizedState))return Xo(t),null;if(i=0!==(128&t.flags),null===(l=r.rendering))if(i)Go(r,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=er(e))){for(t.flags|=128,Go(r,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(r=n).flags&=14680066,null===(l=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,e=l.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cs(Ja,1&Ja.current|2),t.child}e=e.sibling}null!==r.tail&&$e()>Wl&&(t.flags|=128,i=!0,Go(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=er(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!sa)return Xo(t),null}else 2*$e()-r.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,i=!0,Go(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=$e(),t.sibling=null,n=Ja.current,Cs(Ja,i?1&n|2:1&n),t):(Xo(t),null);case 22:case 23:return hc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Xo(t),6&t.subtreeFlags&&(t.flags|=8192)):Xo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yo(e,t){switch(ta(t),t.tag){case 1:return Rs(t.type)&&Ds(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),Ss(Ps),Ss(Ts),nr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(Ss(Ja),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss(Ja),null;case 4:return Qa(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Do=function(){},Io=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Ka(qa.current);var a,r=null;switch(n){case"input":s=Y(e,s),i=Y(e,i),r=[];break;case"select":s=O({},s,{value:void 0}),i=O({},i,{value:void 0}),r=[];break;case"textarea":s=ie(e,s),i=ie(e,i),r=[];break;default:"function"!==typeof s.onClick&&"function"===typeof i.onClick&&(e.onclick=Ji)}for(d in Ae(n,i),n=null,s)if(!i.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in i){var c=i[d];if(l=null!=s?s[d]:void 0,i.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(r||(r=[]),r.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(r=r||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(r=r||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&ji("scroll",e),r||l===c||(r=[])):(r=r||[]).push(d,c))}n&&(r=r||[]).push("style",n);var d=r;(t.updateQueue=d)&&(t.flags|=4)}},Fo=function(e,t,n,i){n!==i&&(t.flags|=4)};var Qo=!1,$o=!1,Zo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Sc(e,t,i)}else n.current=null}function tl(e,t,n){try{n()}catch(i){Sc(e,t,i)}}var nl=!1;function il(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var s=i=i.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&tl(t,n,a)}s=s.next}while(s!==i)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[ps],delete t[gs],delete t[ms],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ji));else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function dl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var ul=null,hl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:$o||el(n,t);case 6:var i=ul,s=hl;ul=null,pl(e,t,n),hl=s,null!==(ul=i)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Ut(e)):ls(ul,n.stateNode));break;case 4:i=ul,s=hl,ul=n.stateNode.containerInfo,hl=!0,pl(e,t,n),ul=i,hl=s;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){s=i=i.next;do{var a=s,r=a.destroy;a=a.tag,void 0!==r&&(0!==(2&a)||0!==(4&a))&&tl(n,t,r),s=s.next}while(s!==i)}pl(e,t,n);break;case 1:if(!$o&&(el(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){Sc(n,t,o)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?($o=(i=$o)||null!==n.memoizedState,pl(e,t,n),$o=i):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var i=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var s=n[i];try{var r=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));fl(r,o,s),ul=null,hl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(d){Sc(s,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),Al(e),4&i){try{il(3,e,e.return),sl(3,e)}catch(m){Sc(e,e.return,m)}try{il(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:ml(t,e),Al(e),512&i&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),Al(e),512&i&&null!==n&&el(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(m){Sc(e,e.return,m)}}if(4&i&&null!=(s=e.stateNode)){var r=e.memoizedProps,o=null!==n?n.memoizedProps:r,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===r.type&&null!=r.name&&$(s,r),be(l,o);var d=be(l,r);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?me(s,h):"dangerouslySetInnerHTML"===u?ue(s,h):"children"===u?he(s,h):b(s,u,h,d)}switch(l){case"input":Z(s,r);break;case"textarea":ae(s,r);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var f=r.value;null!=f?ne(s,!!r.multiple,f,!1):p!==!!r.multiple&&(null!=r.defaultValue?ne(s,!!r.multiple,r.defaultValue,!0):ne(s,!!r.multiple,r.multiple?[]:"",!1))}s[ps]=r}catch(m){Sc(e,e.return,m)}}break;case 6:if(ml(t,e),Al(e),4&i){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,r=e.memoizedProps;try{s.nodeValue=r}catch(m){Sc(e,e.return,m)}}break;case 3:if(ml(t,e),Al(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:ml(t,e),Al(e);break;case 13:ml(t,e),Al(e),8192&(s=e.child).flags&&(r=null!==s.memoizedState,s.stateNode.isHidden=r,!r||null!==s.alternate&&null!==s.alternate.memoizedState||(Ul=$e())),4&i&&gl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?($o=(d=$o)||u,ml(t,e),$o=d):ml(t,e),Al(e),8192&i){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Jo=e,u=e.child;null!==u;){for(h=Jo=u;null!==Jo;){switch(f=(p=Jo).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:el(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){i=p,n=p.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Sc(i,n,m)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==f?(f.return=p,Jo=f):xl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{s=h.stateNode,d?"function"===typeof(r=s.style).setProperty?r.setProperty("display","none","important"):r.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",o))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),Al(e),4&i&&gl(e);case 21:}}function Al(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var i=n;break e}n=n.return}throw Error(a(160))}switch(i.tag){case 5:var s=i.stateNode;32&i.flags&&(he(s,""),i.flags&=-33),dl(e,ll(e),s);break;case 3:case 4:var r=i.stateNode.containerInfo;cl(e,ll(e),r);break;default:throw Error(a(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Jo=e,yl(e,t,n)}function yl(e,t,n){for(var i=0!==(1&e.mode);null!==Jo;){var s=Jo,a=s.child;if(22===s.tag&&i){var r=null!==s.memoizedState||Qo;if(!r){var o=s.alternate,l=null!==o&&null!==o.memoizedState||$o;o=Qo;var c=$o;if(Qo=r,($o=l)&&!c)for(Jo=s;null!==Jo;)l=(r=Jo).child,22===r.tag&&null!==r.memoizedState?kl(s):null!==l?(l.return=r,Jo=l):kl(s);for(;null!==a;)Jo=a,yl(a,t,n),a=a.sibling;Jo=s,Qo=o,$o=c}wl(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Jo=a):wl(e)}}function wl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||sl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!$o)if(null===n)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:no(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&Wa(t,r,i);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wa(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(a(163))}$o||512&t.flags&&al(t)}catch(Br){Sc(t,t.return,Br)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function xl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function kl(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var s=t.return;try{i.componentDidMount()}catch(l){Sc(t,s,l)}}var a=t.return;try{al(t)}catch(l){Sc(t,a,l)}break;case 5:var r=t.return;try{al(t)}catch(l){Sc(t,r,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var El,Sl=Math.ceil,Cl=y.ReactCurrentDispatcher,_l=y.ReactCurrentOwner,Tl=y.ReactCurrentBatchConfig,Pl=0,Ml=null,Ll=null,Rl=0,Dl=0,Il=Es(0),Fl=0,Nl=null,Ol=0,zl=0,jl=0,Bl=null,Hl=null,Ul=0,Wl=1/0,Vl=null,ql=!1,Gl=null,Xl=null,Kl=!1,Yl=null,Ql=0,$l=0,Zl=null,Jl=-1,ec=0;function tc(){return 0!==(6&Pl)?$e():-1!==Jl?Jl:Jl=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Rl?Rl&-Rl:null!==ga.transition?(0===ec&&(ec=gt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function ic(e,t,n,i){if(50<$l)throw $l=0,Zl=null,Error(a(185));vt(e,n,i),0!==(2&Pl)&&e===Ml||(e===Ml&&(0===(2&Pl)&&(zl|=n),4===Fl&&lc(e,Rl)),sc(e,i),1===n&&0===Pl&&0===(1&t.mode)&&(Wl=$e()+500,js&&Us()))}function sc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var r=31-rt(a),o=1<<r,l=s[r];-1===l?0!==(o&n)&&0===(o&i)||(s[r]=pt(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var i=ht(e,e===Ml?Rl:0);if(0===i)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){js=!0,Hs(e)}(cc.bind(null,e)):Hs(cc.bind(null,e)),rs((function(){0===(6&Pl)&&Us()})),n=null;else{switch(yt(i)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Mc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Jl=-1,ec=0,0!==(6&Pl))throw Error(a(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var i=ht(e,e===Ml?Rl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=vc(e,i);else{t=i;var s=Pl;Pl|=2;var r=gc();for(Ml===e&&Rl===t||(Vl=null,Wl=$e()+500,pc(e,t));;)try{bc();break}catch(l){fc(e,l)}Ca(),Cl.current=r,Pl=s,null!==Ll?t=0:(Ml=null,Rl=0,t=Fl)}if(0!==t){if(2===t&&(0!==(s=ft(e))&&(i=s,t=rc(e,s))),1===t)throw n=Nl,pc(e,0),lc(e,i),sc(e,$e()),n;if(6===t)lc(e,i);else{if(s=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!oi(a(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=vc(e,i))&&(0!==(r=ft(e))&&(i=r,t=rc(e,r))),1===t))throw n=Nl,pc(e,0),lc(e,i),sc(e,$e()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Hl,Vl);break;case 3:if(lc(e,i),(130023424&i)===i&&10<(t=Ul+500-$e())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&i)!==i){tc(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=is(xc.bind(null,e,Hl,Vl),t);break}xc(e,Hl,Vl);break;case 4:if(lc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,s=-1;0<i;){var o=31-rt(i);r=1<<o,(o=t[o])>s&&(s=o),i&=~r}if(i=s,10<(i=(120>(i=$e()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Sl(i/1960))-i)){e.timeoutHandle=is(xc.bind(null,e,Hl,Vl),i);break}xc(e,Hl,Vl);break;default:throw Error(a(329))}}}return sc(e,$e()),e.callbackNode===n?ac.bind(null,e):null}function rc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Hl,Hl=n,null!==t&&oc(t)),e}function oc(e){null===Hl?Hl=e:Hl.push.apply(Hl,e)}function lc(e,t){for(t&=~jl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),i=1<<n;e[n]=-1,t&=~i}}function cc(e){if(0!==(6&Pl))throw Error(a(327));kc();var t=ht(e,0);if(0===(1&t))return sc(e,$e()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=rc(e,i))}if(1===n)throw n=Nl,pc(e,0),lc(e,t),sc(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Hl,Vl),sc(e,$e()),null}function dc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Wl=$e()+500,js&&Us())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Pl)&&kc();var t=Pl;Pl|=1;var n=Tl.transition,i=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=i,Tl.transition=n,0===(6&(Pl=t))&&Us()}}function hc(){Dl=Il.current,Ss(Il)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Ll)for(n=Ll.return;null!==n;){var i=n;switch(ta(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Ds();break;case 3:Qa(),Ss(Ps),Ss(Ts),nr();break;case 5:Za(i);break;case 4:Qa();break;case 13:case 19:Ss(Ja);break;case 10:_a(i.type._context);break;case 22:case 23:hc()}n=n.return}if(Ml=e,Ll=e=Ic(e.current,null),Rl=Dl=t,Fl=0,Nl=null,jl=zl=Ol=0,Hl=Bl=null,null!==La){for(t=0;t<La.length;t++)if(null!==(i=(n=La[t]).interleaved)){n.interleaved=null;var s=i.next,a=n.pending;if(null!==a){var r=a.next;a.next=s,i.next=r}n.pending=i}La=null}return e}function fc(e,t){for(;;){var n=Ll;try{if(Ca(),ir.current=Zr,cr){for(var i=rr.memoizedState;null!==i;){var s=i.queue;null!==s&&(s.pending=null),i=i.next}cr=!1}if(ar=0,lr=or=rr=null,dr=!1,ur=0,_l.current=null,null===n||null===n.return){Fl=1,Nl=t,Ll=null;break}e:{var r=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=vo(o);if(null!==f){f.flags&=-257,Ao(f,o,l,0,t),1&f.mode&&mo(r,d,t),c=d;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){mo(r,d,t),mc();break e}c=Error(a(426))}else if(sa&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Ao(v,o,l,0,t),fa(co(c,l));break e}}r=c=co(c,l),4!==Fl&&(Fl=2),null===Bl?Bl=[r]:Bl.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,Ha(r,fo(0,c,t));break e;case 1:l=c;var A=r.type,b=r.stateNode;if(0===(128&r.flags)&&("function"===typeof A.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xl||!Xl.has(b)))){r.flags|=65536,t&=-t,r.lanes|=t,Ha(r,go(r,l,t));break e}}r=r.return}while(null!==r)}wc(n)}catch(y){t=y,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function gc(){var e=Cl.current;return Cl.current=Zr,null===e?Zr:e}function mc(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===Ml||0===(268435455&Ol)&&0===(268435455&zl)||lc(Ml,Rl)}function vc(e,t){var n=Pl;Pl|=2;var i=gc();for(Ml===e&&Rl===t||(Vl=null,pc(e,t));;)try{Ac();break}catch(s){fc(e,s)}if(Ca(),Pl=n,Cl.current=i,null!==Ll)throw Error(a(261));return Ml=null,Rl=0,Fl}function Ac(){for(;null!==Ll;)yc(Ll)}function bc(){for(;null!==Ll&&!Ye();)yc(Ll)}function yc(e){var t=El(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):Ll=t,_l.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Dl)))return void(Ll=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Ll=n);if(null===e)return Fl=6,void(Ll=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===Fl&&(Fl=5)}function xc(e,t,n){var i=bt,s=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,i){do{kc()}while(null!==Yl);if(0!==(6&Pl))throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-rt(n),a=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~a}}(e,r),e===Ml&&(Ll=Ml=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Mc(tt,(function(){return kc(),null}))),r=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||r){r=Tl.transition,Tl.transition=null;var o=bt;bt=1;var l=Pl;Pl|=4,_l.current=null,function(e,t){if(es=Vt,pi(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==r||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++d===s&&(l=o),p===r&&++u===i&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Vt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,A=t.stateNode,b=A.getSnapshotBeforeUpdate(t.elementType===t.type?m:no(t.type,m),v);A.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}g=nl,nl=!1}(e,n),vl(n,e),fi(ts),Vt=!!es,ts=es=null,e.current=n,bl(n,e,s),Qe(),Pl=l,bt=o,Tl.transition=r}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Ql=s),r=e.pendingLanes,0===r&&(Xl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),sc(e,$e()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(ql)throw ql=!1,e=Gl,Gl=null,e;0!==(1&Ql)&&0!==e.tag&&kc(),r=e.pendingLanes,0!==(1&r)?e===Zl?$l++:($l=0,Zl=e):$l=0,Us()}(e,t,n,i)}finally{Tl.transition=s,bt=i}return null}function kc(){if(null!==Yl){var e=yt(Ql),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Yl)var i=!1;else{if(e=Yl,Yl=null,Ql=0,0!==(6&Pl))throw Error(a(331));var s=Pl;for(Pl|=4,Jo=e.current;null!==Jo;){var r=Jo,o=r.child;if(0!==(16&Jo.flags)){var l=r.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Jo=d;null!==Jo;){var u=Jo;switch(u.tag){case 0:case 11:case 15:il(8,u,r)}var h=u.child;if(null!==h)h.return=u,Jo=h;else for(;null!==Jo;){var p=(u=Jo).sibling,f=u.return;if(rl(u),u===d){Jo=null;break}if(null!==p){p.return=f,Jo=p;break}Jo=f}}}var g=r.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Jo=r}}if(0!==(2064&r.subtreeFlags)&&null!==o)o.return=r,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(r=Jo).flags))switch(r.tag){case 0:case 11:case 15:il(9,r,r.return)}var A=r.sibling;if(null!==A){A.return=r.return,Jo=A;break e}Jo=r.return}}var b=e.current;for(Jo=b;null!==Jo;){var y=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,Jo=y;else e:for(o=b;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(x){Sc(l,l.return,x)}if(l===o){Jo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Jo=w;break e}Jo=l.return}}if(Pl=s,Us(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(x){}i=!0}return i}finally{bt=n,Tl.transition=t}}return!1}function Ec(e,t,n){e=ja(e,t=fo(0,t=co(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),sc(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Xl||!Xl.has(i))){t=ja(t,e=go(t,e=co(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),sc(t,e));break}}t=t.return}}function Cc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Rl&n)===n&&(4===Fl||3===Fl&&(130023424&Rl)===Rl&&500>$e()-Ul?pc(e,0):jl|=n),sc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=tc();null!==(e=Ia(e,t))&&(vt(e,t,n),sc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(a(314))}null!==i&&i.delete(t),_c(e,n)}function Mc(e,t){return Xe(e,t)}function Lc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,i){return new Lc(e,t,n,i)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,i,s,r){var o=2;if(i=e,"function"===typeof e)Dc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Nc(n.children,s,r,t);case E:o=8,s|=8;break;case S:return(e=Rc(12,n,t,2|s)).elementType=S,e.lanes=r,e;case P:return(e=Rc(13,n,t,s)).elementType=P,e.lanes=r,e;case M:return(e=Rc(19,n,t,s)).elementType=M,e.lanes=r,e;case D:return Oc(n,s,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case _:o=9;break e;case T:o=11;break e;case L:o=14;break e;case R:o=16,i=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,s)).elementType=e,t.type=i,t.lanes=r,t}function Nc(e,t,n,i){return(e=Rc(7,e,i,t)).lanes=n,e}function Oc(e,t,n,i){return(e=Rc(22,e,i,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,i,s,a,r,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function Uc(e){if(!e)return _s;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Rs(n))return Fs(e,n,t)}return t}function Wc(e,t,n,i,s,a,r,o,l){return(e=Hc(n,i,!0,e,0,a,0,o,l)).context=Uc(null),n=e.current,(a=za(i=tc(),s=nc(n))).callback=void 0!==t&&null!==t?t:null,ja(n,a,s),e.current.lanes=s,vt(e,s,i),sc(e,i),e}function Vc(e,t,n,i){var s=t.current,a=tc(),r=nc(s);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=za(a,r)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=ja(s,t,r))&&(ic(e,s,r,a),Ba(e,s,r)),r}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ps.current)yo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yo=!1,function(e,t,n){switch(t.tag){case 3:Mo(t),pa();break;case 5:$a(t);break;case 1:Rs(t.type)&&Ns(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;Cs(xa,i._currentValue),i._currentValue=s;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Cs(Ja,1&Ja.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zo(e,t,n):(Cs(Ja,1&Ja.current),null!==(e=qo(e,t,n))?e.sibling:null);Cs(Ja,1&Ja.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Wo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cs(Ja,Ja.current),i)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return qo(e,t,n)}(e,t,n);yo=0!==(131072&e.flags)}else yo=!1,sa&&0!==(1048576&t.flags)&&Js(t,Gs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Vo(e,t),e=t.pendingProps;var s=Ls(t,Ts.current);Pa(t,n),s=gr(null,t,i,e,s,n);var r=mr();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(i)?(r=!0,Ns(t)):r=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Na(t),s.updater=so,t.stateNode=s,s._reactInternals=t,lo(t,i,e,n),t=Po(null,t,i,!0,r,n)):(t.tag=0,sa&&r&&ea(t),wo(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Vo(e,t),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===L)return 14}return 2}(i),e=no(i,e),s){case 0:t=_o(null,t,i,e,n);break e;case 1:t=To(null,t,i,e,n);break e;case 11:t=xo(null,t,i,e,n);break e;case 14:t=ko(null,t,i,no(i.type,e),n);break e}throw Error(a(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,_o(e,t,i,s=t.elementType===i?s:no(i,s),n);case 1:return i=t.type,s=t.pendingProps,To(e,t,i,s=t.elementType===i?s:no(i,s),n);case 3:e:{if(Mo(t),null===e)throw Error(a(387));i=t.pendingProps,s=(r=t.memoizedState).element,Oa(e,t),Ua(t,i,null,n);var o=t.memoizedState;if(i=o.element,r.isDehydrated){if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Lo(e,t,i,n,s=co(Error(a(423)),t));break e}if(i!==s){t=Lo(e,t,i,n,s=co(Error(a(424)),t));break e}for(ia=cs(t.stateNode.containerInfo.firstChild),na=t,sa=!0,aa=null,n=wa(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),i===s){t=qo(e,t,n);break e}wo(e,t,i,n)}t=t.child}return t;case 5:return $a(t),null===e&&ca(t),i=t.type,s=t.pendingProps,r=null!==e?e.memoizedProps:null,o=s.children,ns(i,s)?o=null:null!==r&&ns(i,r)&&(t.flags|=32),Co(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&ca(t),null;case 13:return zo(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ya(t,null,i,n):wo(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,xo(e,t,i,s=t.elementType===i?s:no(i,s),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,r=t.memoizedProps,o=s.value,Cs(xa,i._currentValue),i._currentValue=o,null!==r)if(oi(r.value,o)){if(r.children===s.children&&!Ps.current){t=qo(e,t,n);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var l=r.dependencies;if(null!==l){o=r.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===r.tag){(c=za(-1,n&-n)).tag=2;var d=r.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}r.lanes|=n,null!==(c=r.alternate)&&(c.lanes|=n),Ta(r.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===r.tag)o=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(o=r.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ta(o,n,t),o=r.sibling}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===t){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}wo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,Pa(t,n),i=i(s=Ma(s)),t.flags|=1,wo(e,t,i,n),t.child;case 14:return s=no(i=t.type,t.pendingProps),ko(e,t,i,s=no(i.type,s),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:no(i,s),Vo(e,t),t.tag=1,Rs(i)?(e=!0,Ns(t)):e=!1,Pa(t,n),ro(t,i,s),lo(t,i,s,n),Po(null,t,i,!0,e,n);case 19:return Wo(e,t,n);case 22:return So(e,t,n)}throw Error(a(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function ed(e,t,n,i,s){var a=n._reactRootContainer;if(a){var r=a;if("function"===typeof s){var o=s;s=function(){var e=qc(r);o.call(e)}}Vc(t,r,e,s)}else r=function(e,t,n,i,s){if(s){if("function"===typeof i){var a=i;i=function(){var e=qc(r);a.call(e)}}var r=Wc(t,i,e,0,null,!1,0,"",Jc);return e._reactRootContainer=r,e[fs]=r.current,Ui(8===e.nodeType?e.parentNode:e),uc(),r}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof i){var o=i;i=function(){var e=qc(l);o.call(e)}}var l=Hc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fs]=l.current,Ui(8===e.nodeType?e.parentNode:e),uc((function(){Vc(t,l,n,i)})),l}(n,t,e,s,i);return qc(r)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Vc(null,e,null,null)})),t[fs]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ot(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(At(t,1|n),sc(t,$e()),0===(6&Pl)&&(Wl=$e()+500,Us()))}break;case 13:uc((function(){var t=Ia(e,1);if(null!==t){var n=tc();ic(t,e,1,n)}})),Xc(e,1)}},xt=function(e){if(13===e.tag){var t=Ia(e,134217728);if(null!==t)ic(t,e,134217728,tc());Xc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Ia(e,t);if(null!==n)ic(n,e,t,tc());Xc(e,t)}},Et=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=ws(i);if(!s)throw Error(a(90));X(i),Z(i,s)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=dc,Pe=uc;var td={usingClientEntryPoint:!1,Events:[bs,ys,ws,Ce,_e,dc]},nd={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},id={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{st=sd.inject(id),at=sd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,i="",s=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Hc(e,1,!1,null,0,n,0,i,s),e[fs]=t.current,Ui(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return ed(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var i=null!=n&&n.hydratedSources||null,s=!1,r="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,s,0,r,o),e[fs]=t.current,Ui(e),i)for(e=0;e<i.length;e++)s=(s=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Qc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return ed(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc((function(){ed(null,null,e,!1,(function(){e._reactRootContainer=null,e[fs]=null}))})),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ed(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{var i=n(7950);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},7950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},1153:(e,t,n)=>{var i=n(5043),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,a={},c=null,d=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,i)&&!l.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===a[i]&&(a[i]=t[i]);return{$$typeof:s,type:e,key:c,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},4202:(e,t)=>{var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function A(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},A.prototype=v.prototype;var y=b.prototype=new A;y.constructor=b,g(y,v.prototype),y.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,i){var s,a={},r=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(r=""+t.key),t)x.call(t,s)&&!E.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=i;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return{$$typeof:n,type:e,key:r,ref:o,props:a,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,s,a,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return r=r(l=e),e=""===a?"."+T(l,0):a,w(r)?(s="",null!=e&&(s=e.replace(_,"$&/")+"/"),P(r,t,s,"",(function(e){return e}))):null!=r&&(C(r)&&(r=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,s+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(_,"$&/")+"/")+e)),t.push(r)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var d=a+T(o=e[c],c);l+=P(o,t,s,d,r)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,s,d=a+T(o,c++),r);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var i=[],s=0;return P(e,i,"","",(function(e){return t.call(n,e,s++)})),i}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},I={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:k};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=r,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=F,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=g({},e.props),a=e.key,r=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,o=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=i;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:n,type:e.type,key:a,ref:r,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{e.exports=n(4202)},579:(e,t,n)=>{e.exports=n(1153)},7234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,s=e[i];if(!(0<a(s,t)))break e;e[i]=t,e[n]=s,n=i}}function i(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,s=e.length,r=s>>>1;i<r;){var o=2*(i+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,n))c<s&&0>a(d,l)?(e[i]=d,e[c]=n,i=c):(e[i]=l,e[o]=n,i=o);else{if(!(c<s&&0>a(d,n)))break e;e[i]=d,e[c]=n,i=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,A="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=i(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=i(d)}}function w(e){if(m=!1,y(e),!g)if(null!==i(c))g=!0,D(x);else{var t=i(d);null!==t&&I(w,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,A(C),C=-1),f=!0;var a=p;try{for(y(n),h=i(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var r=h.callback;if("function"===typeof r){h.callback=null,p=h.priorityLevel;var o=r(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===i(c)&&s(c),y(n)}else s(c);h=i(c)}if(null!==h)var l=!0;else{var u=i(d);null!==u&&I(w,u.startTime-n),l=!1}return l}finally{h=null,p=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,S=null,C=-1,_=5,T=-1;function P(){return!(t.unstable_now()-T<_)}function M(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?k():(E=!1,S=null)}}else E=!1}if("function"===typeof b)k=function(){b(M)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,R=L.port2;L.port1.onmessage=M,k=function(){R.postMessage(null)}}else k=function(){v(M,0)};function D(e){S=e,E||(E=!0,k())}function I(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,a){var r=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?r+a:r:a=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>r?(e.sortIndex=a,n(d,e),null===i(c)&&e===i(d)&&(m?(A(C),C=-1):m=!0,I(w,a-r))):(e.sortIndex=o,n(c,e),g||f||(g=!0,D(x))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},8853:(e,t,n)=>{e.exports=n(7234)},6440:e=>{var t=function(){};e.exports=t},749:(e,t,n)=>{e.exports=n.p+"static/media/pdf.worker.min.8bec976a1a536e55abd8.mjs"}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,s){if(1&s&&(i=this(i)),8&s)return i;if("object"===typeof i&&i){if(4&s&&i.__esModule)return i;if(16&s&&"function"===typeof i.then)return i}var a=Object.create(null);n.r(a);var r={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&i;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>r[e]=()=>i[e]));return r.default=()=>i,n.d(a,r),a}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",n.b=document.baseURI||self.location.href;var i={};n.r(i),n.d(i,{dU:()=>Mr,ng:()=>Lr,EA:()=>Rr,Tm:()=>Dr,D6:()=>Ir,YE:()=>Fr});var s,a=n(5043),r=n.t(a,2),o=n(4391);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,i){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:r=!1}=i,o=a.history,u=s.Pop,g=null,m=v();function v(){return(o.state||{idx:null}).idx}function A(){u=s.Pop;let e=v(),t=null==e?null:e-m;m=e,g&&g({action:u,location:y.location,delta:t})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:f(e);return d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,o.replaceState(l({},o.state,{idx:m}),""));let y={get action(){return u},get location(){return e(a,o)},listen(e){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(c,A),g=e,()=>{a.removeEventListener(c,A),g=null}},createHref:e=>t(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=s.Push;let i=p(y.location,e,t);n&&n(i,e),m=v()+1;let l=h(i,m),c=y.createHref(i);try{o.pushState(l,"",c)}catch(d){a.location.assign(c)}r&&g&&g({action:u,location:y.location,delta:1})},replace:function(e,t){u=s.Replace;let i=p(y.location,e,t);n&&n(i,e),m=v();let a=h(i,m),l=y.createHref(i);o.replaceState(a,"",l),r&&g&&g({action:u,location:y.location,delta:0})},go:e=>o.go(e)};return y}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function A(e,t,n){void 0===n&&(n="/");let i=R(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let s=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let r=0;null==a&&r<s.length;++r)a=P(s[r],L(i));return a}function b(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let s=(e,s,a)=>{let r={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};r.relativePath.startsWith("/")&&(d(r.relativePath.startsWith(i),'Absolute route path "'+r.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),r.relativePath=r.relativePath.slice(i.length));let o=N([i,r.relativePath]),l=n.concat(r);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of y(e.path))s(e,t,i);else s(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===i.length)return s?[a,""]:[a];let r=y(i.join("/")),o=[];return o.push(...r.map((e=>""===e?a:[a,e].join("/")))),s&&o.push(...r),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:\w+$/,x=3,k=2,E=1,S=10,C=-2,_=e=>"*"===e;function T(e,t){let n=e.split("/"),i=n.length;return n.some(_)&&(i+=C),t&&(i+=k),n.filter((e=>!_(e))).reduce(((e,t)=>e+(w.test(t)?x:""===t?E:S)),i)}function P(e,t){let{routesMeta:n}=e,i={},s="/",a=[];for(let r=0;r<n.length;++r){let e=n[r],o=r===n.length-1,l="/"===s?t:t.slice(s.length)||"/",c=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(i,c.params);let d=e.route;a.push({params:i,pathname:N([s,c.pathname]),pathnameBase:O(N([s,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(s=N([s,c.pathnameBase]))}return a}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(i.push(t),"/([^\\/]+)")));e.endsWith("*")?(i.push("*"),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,i]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],r=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce(((e,t,n)=>{if("*"===t){let e=o[n]||"";r=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return u(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(o[n]||"",t),e}),{}),pathname:a,pathnameBase:r,pattern:e}}function L(e){try{return decodeURI(e)}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function D(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function F(e,t,n,i){let s;void 0===i&&(i=!1),"string"===typeof e?s=g(e):(s=l({},e),d(!s.pathname||!s.pathname.includes("?"),D("?","pathname","search",s)),d(!s.pathname||!s.pathname.includes("#"),D("#","pathname","hash",s)),d(!s.search||!s.search.includes("#"),D("#","search","hash",s)));let a,r=""===e||""===s.pathname,o=r?"/":s.pathname;if(i||null==o)a=n;else{let e=t.length-1;if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:s=""}="string"===typeof e?g(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:z(i),hash:j(s)}}(s,a),u=o&&"/"!==o&&o.endsWith("/"),h=(r||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}const N=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],U=(new Set(H),["get",...H]);new Set(U),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");const W="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},{useState:V,useEffect:q,useLayoutEffect:G,useDebugValue:X}=r;function K(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!W(n,e)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;const Y=a.createContext(null);const Q=a.createContext(null);const $=a.createContext(null);const Z=a.createContext(null);const J=a.createContext({outlet:null,matches:[]});const ee=a.createContext(null);function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},te.apply(this,arguments)}function ne(){return null!=a.useContext(Z)}function ie(){return ne()||d(!1),a.useContext(Z).location}function se(){ne()||d(!1);let{basename:e,navigator:t}=a.useContext($),{matches:n}=a.useContext(J),{pathname:i}=ie(),s=JSON.stringify(I(n).map((e=>e.pathnameBase))),r=a.useRef(!1);return a.useEffect((()=>{r.current=!0})),a.useCallback((function(n,a){if(void 0===a&&(a={}),!r.current)return;if("number"===typeof n)return void t.go(n);let o=F(n,JSON.parse(s),i,"path"===a.relative);"/"!==e&&(o.pathname="/"===o.pathname?e:N([e,o.pathname])),(a.replace?t.replace:t.push)(o,a.state,a)}),[e,t,s,i])}function ae(){let{matches:e}=a.useContext(J),t=e[e.length-1];return t?t.params:{}}function re(e,t){let{relative:n}=void 0===t?{}:t,{matches:i}=a.useContext(J),{pathname:s}=ie(),r=JSON.stringify(I(i).map((e=>e.pathnameBase)));return a.useMemo((()=>F(e,JSON.parse(r),s,"path"===n)),[e,r,s,n])}function oe(){let e=function(){var e;let t=a.useContext(ee),n=pe(he.UseRouteError),i=fe(he.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:s},n):null,null)}class le extends a.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?a.createElement(J.Provider,{value:this.props.routeContext},a.createElement(ee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:i}=e,s=a.useContext(Y);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(J.Provider,{value:t},i)}function de(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}let i=e,s=null==n?void 0:n.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&(null==s?void 0:s[e.route.id])));e>=0||d(!1),i=i.slice(0,Math.min(i.length,e+1))}return i.reduceRight(((e,r,o)=>{let l=r.route.id?null==s?void 0:s[r.route.id]:null,c=null;n&&(c=r.route.ErrorBoundary?a.createElement(r.route.ErrorBoundary,null):r.route.errorElement?r.route.errorElement:a.createElement(oe,null));let d=t.concat(i.slice(0,o+1)),u=()=>{let t=e;return l?t=c:r.route.Component?t=a.createElement(r.route.Component,null):r.route.element&&(t=r.route.element),a.createElement(ce,{match:r,routeContext:{outlet:e,matches:d},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?a.createElement(le,{location:n.location,component:c,error:l,children:u(),routeContext:{outlet:null,matches:d}}):u()}),null)}var ue,he;function pe(e){let t=a.useContext(Q);return t||d(!1),t}function fe(e){let t=function(){let e=a.useContext(J);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(ue||(ue={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(he||(he={}));function ge(e){let{to:t,replace:n,state:i,relative:s}=e;ne()||d(!1);let r=a.useContext(Q),o=se();return a.useEffect((()=>{r&&"idle"!==r.navigation.state||o(t,{replace:n,state:i,relative:s})})),null}function me(e){d(!1)}function ve(e){let{basename:t="/",children:n=null,location:i,navigationType:r=s.Pop,navigator:o,static:l=!1}=e;ne()&&d(!1);let c=t.replace(/^\/*/,"/"),u=a.useMemo((()=>({basename:c,navigator:o,static:l})),[c,o,l]);"string"===typeof i&&(i=g(i));let{pathname:h="/",search:p="",hash:f="",state:m=null,key:v="default"}=i,A=a.useMemo((()=>{let e=R(h,c);return null==e?null:{location:{pathname:e,search:p,hash:f,state:m,key:v},navigationType:r}}),[c,h,p,f,m,v,r]);return null==A?null:a.createElement($.Provider,{value:u},a.createElement(Z.Provider,{children:n,value:A}))}function Ae(e){let{children:t,location:n}=e,i=a.useContext(Y);return function(e,t){ne()||d(!1);let{navigator:n}=a.useContext($),i=a.useContext(Q),{matches:r}=a.useContext(J),o=r[r.length-1],l=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,h=ie();if(t){var p;let e="string"===typeof t?g(t):t;"/"===c||(null==(p=e.pathname)?void 0:p.startsWith(c))||d(!1),u=e}else u=h;let f=u.pathname||"/",m=A(e,{pathname:"/"===c?f:f.slice(c.length)||"/"}),v=de(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:N([c,n.encodeLocation?n.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:N([c,n.encodeLocation?n.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),r,i||void 0);return t&&v?a.createElement(Z.Provider,{value:{location:te({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:s.Pop}},v):v}(i&&!t?i.router.routes:ye(t),n)}var be;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(be||(be={}));new Promise((()=>{}));a.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,((e,i)=>{if(!a.isValidElement(e))return;let s=[...t,i];if(e.type===a.Fragment)return void n.push.apply(n,ye(e.props.children,s));e.type!==me&&d(!1),e.props.index&&e.props.children&&d(!1);let r={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(r.children=ye(e.props.children,s)),n.push(r)})),n}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},we.apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,i,s={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ee(e){let{basename:t,children:n,window:i}=e,s=a.useRef();var r;null==s.current&&(s.current=(void 0===(r={window:i,v5Compat:!0})&&(r={}),m((function(e,t){let{pathname:n,search:i,hash:s}=e.location;return p("",{pathname:n,search:i,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,r)));let o=s.current,[l,c]=a.useState({action:o.action,location:o.location});return a.useLayoutEffect((()=>o.listen(c)),[o]),a.createElement(ve,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}const Se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=a.forwardRef((function(e,t){let n,{onClick:i,relative:s,reloadDocument:r,replace:o,state:l,target:c,to:u,preventScrollReset:h}=e,p=xe(e,ke),{basename:g}=a.useContext($),m=!1;if("string"===typeof u&&Ce.test(u)&&(n=u,Se)){let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=R(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}let v=function(e,t){let{relative:n}=void 0===t?{}:t;ne()||d(!1);let{basename:i,navigator:s}=a.useContext($),{hash:r,pathname:o,search:l}=re(e,{relative:n}),c=o;return"/"!==i&&(c="/"===o?i:N([i,o])),s.createHref({pathname:c,search:l,hash:r})}(u,{relative:s}),A=function(e,t){let{target:n,replace:i,state:s,preventScrollReset:r,relative:o}=void 0===t?{}:t,l=se(),c=ie(),d=re(e,{relative:o});return a.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:f(c)===f(d);l(e,{replace:n,state:s,preventScrollReset:r,relative:o})}}),[c,l,d,i,s,n,e,r,o])}(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s});return a.createElement("a",we({},p,{href:n||v,onClick:m||r?i:function(e){i&&i(e),e.defaultPrevented||A(e)},ref:t,target:c}))}));var Te,Pe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Te||(Te={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));var Me=n(579);const Le=function(e){let{data:t,lang:n}=e;const i=t.elements.length;return(0,Me.jsxs)("div",{className:"nav-elem",children:[(0,Me.jsx)("span",{children:t.title[n]}),(0,Me.jsx)("div",{className:`nav-elem-dropdown-${i}`,children:(0,Me.jsx)("ul",{children:t.elements.map((e=>(0,Me.jsx)("li",{children:(0,Me.jsx)(_e,{to:e.to,children:e.display[n]})},e.display[n])))})})]})};const Re=n.p+"static/media/logo.ec88aa909cf3becbc0bebdf1b28d8c26.svg";const De=function(e){let{saveAndChangeLang:t,lang:n}=e;const i={scrollableElements:[{title:{FR:"Evenements",EN:"Events"},elements:[{display:{FR:"Activit\xe9s",EN:"Activities"},to:"/activities"},{display:{FR:"Horaires",EN:"Schedule"},to:"/event-schedule"},{display:{FR:"Le challenge",EN:"The challenge"},to:"/the-challenge"},{display:{FR:"Le blog",EN:"The blog"},to:"/blog"}]},{title:{FR:"L'\xe9quipe",EN:"The Team"},elements:[{display:{FR:"Membres",EN:"Members"},to:"/members"},{display:{FR:"Notre engagement",EN:"Our Engagement"},to:"/our-engagement"},{display:{FR:"PV - status - AG",EN:"PV - status - AG"},to:"/pv-status-ag"}]}],"contact-button":{display:{FR:"Nous Contacter",EN:"Contact Us"},to:"/contact"},"change-language":{FR:"Modifier la langue",EN:"Change language"}};let[s,r]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{function e(){console.log("closing mobile menu"),r(!1)}return s?(document.body.style.overflow="hidden",window.addEventListener("resize",e)):(document.body.style.overflow="",window.removeEventListener("resize",e)),()=>{document.body.style.overflow="",window.removeEventListener("resize",e)}}),[s]),(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("header",{className:s?"mobile-menu-is-open":"mobile-menu-is-closed",children:[(0,Me.jsx)(_e,{className:"logo",to:"/",children:(0,Me.jsx)("img",{alt:"sic logo",src:Re})}),(0,Me.jsxs)("nav",{className:"desktop",children:[i.scrollableElements.map((e=>(0,Me.jsx)(Le,{data:e,lang:n},e.title[n]))),(0,Me.jsx)(_e,{to:i["contact-button"].to,children:i["contact-button"].display[n]})]}),(0,Me.jsx)("button",{id:"hamburger-button",onClick:()=>r(!s),children:s?"x":"\u2630"})]}),(0,Me.jsxs)("nav",{className:s?"opened-mobile-menu":"closed-mobile-menu",children:[i.scrollableElements.map((e=>(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{children:e.title[n]}),e.elements.map((e=>(0,Me.jsx)(_e,{to:e.to,children:e.display[n]},`mobile-nav${e.display[n]}`)))]},`mobile-nav${e.title[n]}`))),(0,Me.jsx)("h2",{children:i["change-language"][n]}),(0,Me.jsx)("button",{onClick:()=>t("FR"),children:"FR"}),(0,Me.jsx)("button",{onClick:()=>t("EN"),children:"EN"}),(0,Me.jsx)(_e,{className:"contact-button",to:i["contact-button"].to,children:i["contact-button"].display[n]})]})]})};const Ie=function(e){let{saveAndChangeLang:t,lang:n}=e;const i={"change-lang":{FR:"Modifier la langue",EN:"Change language"},"social-description":{FR:["Ne manquez jamais une mise \xe0 jour!","Suivez-nous sur nos r\xe9seaux sociaux."],EN:["Never miss an update!","Follow us on our social media"]}};return(0,Me.jsxs)("footer",{children:[(0,Me.jsxs)("article",{children:[(0,Me.jsxs)("div",{className:"social-networks-links",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("a",{href:"https://www.instagram.com/epflsic/",children:(0,Me.jsx)("svg",{fill:"red",width:"307",height:"307",viewBox:"0 0 307 307",xmlns:"http://www.w3.org/2000/svg",children:(0,Me.jsx)("path",{d:"M153.583 0.773438C112.082 0.773438 106.874 0.954716 90.5735 1.69599C74.3054 2.44037 63.201 5.01403 53.4845 8.79031C43.434 12.6904 34.9082 17.9076 26.4145 26.3982C17.9143 34.886 12.6931 43.4052 8.77732 53.4452C4.98877 63.1576 2.40999 74.2568 1.67788 90.5066C0.94888 106.795 0.757812 112.002 0.757812 153.473C0.757812 194.944 0.942509 200.132 1.68099 216.42C2.42925 232.676 5.00477 243.772 8.78043 253.481C12.6867 263.525 17.9078 272.044 26.4048 280.531C34.8956 289.025 43.4212 294.255 53.4654 298.156C63.1881 301.932 74.2959 304.505 90.5608 305.25C106.861 305.991 112.066 306.172 153.564 306.172C195.069 306.172 200.261 305.991 216.561 305.25C232.83 304.505 243.947 301.932 253.669 298.155C263.717 294.255 272.23 289.025 280.721 280.531C289.221 272.044 294.442 263.525 298.358 253.485C302.114 243.772 304.693 232.673 305.457 216.423C306.189 200.135 306.38 194.943 306.38 153.473C306.38 112.002 306.189 106.798 305.457 90.5098C304.693 74.2536 302.114 63.1576 298.358 53.4484C294.442 43.4052 289.221 34.8858 280.721 26.3982C272.22 17.9043 263.72 12.6871 253.66 8.79015C243.918 5.01403 232.807 2.44037 216.539 1.69599C200.239 0.954716 195.05 0.773438 153.536 0.773438H153.583ZM139.875 28.2912C143.944 28.2848 148.483 28.2912 153.583 28.2912C194.384 28.2912 199.22 28.4375 215.332 29.1692C230.232 29.85 238.318 32.3376 243.705 34.4277C250.836 37.1954 255.92 40.5039 261.265 45.8483C266.614 51.1929 269.925 56.2829 272.701 63.4088C274.793 68.785 277.285 76.8654 277.963 91.7537C278.696 107.851 278.855 112.686 278.855 153.438C278.855 194.189 278.696 199.025 277.963 215.122C277.282 230.01 274.793 238.091 272.701 243.467C269.931 250.593 266.614 255.667 261.265 261.008C255.917 266.353 250.839 269.661 243.705 272.429C238.324 274.528 230.232 277.01 215.332 277.691C199.224 278.422 194.384 278.581 153.583 278.581C112.779 278.581 107.943 278.422 91.8342 277.691C76.9351 277.004 68.8488 274.516 63.4588 272.426C56.3276 269.658 51.2337 266.349 45.8854 261.005C40.5369 255.661 37.226 250.583 34.4498 243.454C32.3582 238.078 29.8655 229.997 29.1874 215.109C28.4552 199.012 28.3087 194.177 28.3087 153.4C28.3087 112.623 28.4552 107.812 29.1874 91.7155C29.8687 76.8272 32.3582 68.747 34.4498 63.3643C37.2195 56.2383 40.5369 51.1483 45.8854 45.8039C51.2337 40.4593 56.3276 37.1509 63.4588 34.3769C68.8455 32.2772 76.9351 29.796 91.8342 29.1119C105.931 28.4756 111.394 28.2848 139.875 28.2528L139.875 28.2912ZM235.154 53.6456C225.03 53.6456 216.816 61.8437 216.816 71.9631C216.816 82.0795 225.03 90.2872 235.154 90.2872C245.277 90.2872 253.491 82.0795 253.491 71.9631C253.491 61.8468 245.277 53.6394 235.154 53.6394L235.154 53.6456ZM153.583 75.0553C110.245 75.0553 75.1077 110.167 75.1077 153.473C75.1077 196.779 110.245 231.874 153.583 231.874C196.922 231.874 232.046 196.779 232.046 153.473C232.046 110.167 196.919 75.0553 153.58 75.0553H153.583ZM153.583 102.573C181.714 102.573 204.521 125.36 204.521 153.473C204.521 181.582 181.714 204.373 153.583 204.373C125.45 204.373 102.646 181.582 102.646 153.473C102.646 125.36 125.45 102.573 153.583 102.573Z"})})}),(0,Me.jsx)("a",{href:"https://www.linkedin.com/company/epfl-sustainable-innovation-challenge",children:(0,Me.jsxs)("svg",{width:"72",height:"72",viewBox:"0 0 72 72",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Me.jsx)("g",{clipPath:"url(#clip0_694_12)",children:(0,Me.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M64 72H8C3.58172 72 0 68.4183 0 64V8C0 3.58172 3.58172 0 8 0H64C68.4183 0 72 3.58172 72 8V64C72 68.4183 68.4183 72 64 72ZM51.3156 62H62V40.0512C62 30.7645 56.7357 26.2742 49.3826 26.2742C42.026 26.2742 38.9301 32.0029 38.9301 32.0029V27.3333H28.6333V62H38.9301V43.8021C38.9301 38.9261 41.1746 36.0245 45.4707 36.0245C49.4198 36.0245 51.3156 38.8128 51.3156 43.8021V62ZM10 16.397C10 19.9297 12.8421 22.794 16.3493 22.794C19.8566 22.794 22.697 19.9297 22.697 16.397C22.697 12.8644 19.8566 10 16.3493 10C12.8421 10 10 12.8644 10 16.397ZM21.7694 62H11.0326V27.3333H21.7694V62Z"})}),(0,Me.jsx)("defs",{children:(0,Me.jsx)("clipPath",{id:"clip0_694_12",children:(0,Me.jsx)("rect",{width:"72",height:"72"})})})]})})]}),(0,Me.jsxs)("p",{children:[i["social-description"][n][0],(0,Me.jsx)("br",{}),i["social-description"][n][1]]})]}),(0,Me.jsxs)("div",{className:"desktop-language-changer",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("button",{onClick:()=>t("FR"),children:"FR"}),(0,Me.jsx)("p",{children:"|"}),(0,Me.jsx)("button",{onClick:()=>t("EN"),children:"EN"})]}),(0,Me.jsx)("p",{children:i["change-lang"][n]})]})]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("span",{className:"special-char",children:"\xa9"})," 2024 EPFL SIC"]})]})},Fe=n.p+"static/media/event-booklet.07797960c4a49f7677d0.pdf",Ne=n.p+"static/media/magazine.0fd1ca21502ba0670056.png",Oe=n.p+"static/media/logo_epfl.f5dd7731a201a7d2c0f7.png";n.p;const ze=n.p+"static/media/event_poster_en.108305a7adf8f62ef2a2.png",je=n.p+"static/media/event_poster_fr.317dcd505cdcbe1080ba.png",Be=n.p+"static/media/logo_carbon_removal_booster.8f305e73f8db4e163a12.png",He=[{name:"EPFL",link:"https://www.epfl.ch/",logo:Oe},{name:"Carbon removal booster",link:"https://www.cdr-booster.ch/",logo:Be}],Ue=n.p+"static/media/logo_fustic.427c8a7702fb4948fc8b.png",We=n.p+"static/media/logo_e4s.9bf6ae4abf56fed714f4.png";const Ve=n.p+"static/media/logo_eth_sph.3729c82eb63c6a32eee336beefeeb577.svg",qe=n.p+"static/media/logo_epfl_cctc.6cda7f33da7d9c8c10f5.png",Ge=[{name:"fustic",link:"https://www.architectes.ch/fr/membres/fustic-69248",logo:Ue},{name:"e4s",link:"https://e4s.center/",logo:We},{name:"EPFL CCTC",link:"https://www.epfl.ch/education/educational-initiatives/educational-initiatives/transversal-skills-and-career-center/",logo:qe},{name:"EPFL Sustainability",link:"https://www.epfl.ch/about/sustainability/",logo:qe},{name:"Planted",link:"https://ch.eatplanted.com/",logo:n.p+"static/media/logo_planted.d7848d51fd1a3c5b6dd9.png"},{name:"SPH ETH",link:"https://sph.ethz.ch/",logo:Ve}],Xe=n.p+"static/media/logo_chocopoly.8645f01673133f8d28e3.png",Ke=n.p+"static/media/logo_artepoly.1ce9c1996b0da6512d40.png",Ye=n.p+"static/media/logo_unipoly.636209b40ec52e4884c7.png",Qe=n.p+"static/media/logo_ingenieur_du_monde.b5edfb2c8e00ce4ce8e0.png",$e=n.p+"static/media/logo_ingenieur_engage.11a7147b0b530ae5d58d.png",Ze=[{name:"zero emission group",link:"https://zeroemission.group/",logo:n.p+"static/media/logo_zero_emission_group.e76197b576bc324e2d78.png"},{name:"artepoly",link:"https://artepoly.agepoly.ch/",logo:Ke},{name:"chocopoloy",link:"https://chocopoly.ch/",logo:Xe},{name:"unipoly",link:"https://unipoly.ch/",logo:Ye},{name:"ing\xe9nieur du monde",link:"https://www.epfl.ch/campus/associations/idm/fr/55-2/qui-sommes-nous/",logo:Qe},{name:"ing\xe9nieur.e.x.s engag\xe9.e.x.s",link:"https://unipoly.ch/ingenieur%C2%B7e%C2%B7s-engage%C2%B7e%C2%B7s/",logo:$e}];const Je=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,a.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,a.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"bienvenue":"welcome")+" | EPFL Sustainable Innovation Challenge"}),[]);const r={"sic-presentation":{FR:"D\xe9fi et Conf\xe9rence sur la Durabilit\xe9 organis\xe9s par des \xc9tudiants - rassemblant \xe9tudiants, chercheurs et l'industrie.",EN:"Student-led sustainable Challenge and Conference - gathering students, research and industry"},date:{FR:"Mars 13, 14 2025",EN:"March 13, 14 2025"},schedule:{FR:"Horaires",EN:"Schedule"},tickets:{FR:"billets",EN:"tickets"},"live-stream":{EN:"Live stream of the even",FR:"Diffusion en direct de l'\xe9v\xe8nement",to:"https://epfl.zoom.us/j/63806755805?pwd=ZVejlH4bYXBzTJ9S2unJIGJT9yebz0.1"},booklet:{EN:"Get the booklet \u2014 everything you need to know!",FR:"T\xe9l\xe9chargez le livret \u2014 tout ce qu'il faut savoir !"},"student-team":{FR:"Etudiants",EN:"Student Teams"},labs:{FR:"Laboratoires",EN:"Labs"},public:{FR:"Public",EN:"Public"},compagnies:{FR:"Entreprises et ONG",EN:"Companies and NGOs"},"sic-presentation-1":{FR:"Rejoignez-nous au RLC de Lausanne (EPFL) pour un \xe9v\xe9nement de deux jours d\xe9di\xe9 \xe0 la durabilit\xe9, avec une expo r\xe9unissant entreprises et monde acad\xe9mique ainsi qu\u2019un challenge \xe9tudiant.",EN:"Join us at the RLC in Lausanne (EPFL) for a two-day event dedicated to sustainability, featuring a company and academia expo alongside a student challenge."},"sic-presentation-2":{FR:"Notre focus : la r\xe9duction des \xe9missions, la restauration de la biodiversit\xe9 et des solutions align\xe9es avec les ODD.",EN:"Our focus: emission reductions, bioodiversity restoration, and solutions aligned with the SDGs."},"sic-presentation-3":{FR:"Nous promouvons l'innovation sociale, \xe9conomique et technologique, en mettant en avant des approches diversifi\xe9es qui privil\xe9gient la r\xe9duction de la consommation et un progr\xe8s durable.",EN:"We promote social, economic and technological innovation, showcasing diverse approaches that emphasize reduced consumption and sustainable progress."},"sic-presentation-4":{FR:"Ceci est un nouvel \xe9v\xe9nement.",EN:"This is a new event."},"sic-presentation-5":{FR:"Nous voulons le construire avec vous.",EN:"We want to build it with you."},"our-chart":{FR:"Notre charte",EN:"Our charter"},"reach-out":{FR:"Contactez nous",EN:"Reach out to us"},"event-poster":{FR:"poster de l'\xe9v\xe8nement",EN:"the event poster"},"our-chart-link":{FR:"Notre charte",EN:"Our charter",to:"/our-engagement"},"event-schedule-link":{FR:"Planning",EN:"Schedule",to:"/event-schedule"},"event-activities-link":{FR:"Activit\xe9s",EN:"Activities",to:"/activities"},"event-challenge-link":{FR:"Le challenge",EN:"The challenge",to:"/the-challenge"},"principal-partners":{FR:"Partenaires principaux",EN:"Principal partners"},"partner-other":{FR:"Autres partenaires",EN:"Other partners"},"partner-association":{FR:"Associations partenaires",EN:"Partner associations"}};return(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("section",{className:"welcome-page",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsxs)("a",{className:"get-your-ticket",href:"https://www.eventbrite.com/e/epfl-sustainable-innovation-challenge-tickets-1248211717849?aff=oddtdtcreator",children:[(0,Me.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACIUSURBVHgB7d15sGVVfS/w340MCjiBTEoig4CBdsAMCkExPAeMJkIU26cpU8kzcSAJvjwCRAuHp1hikYBD8Ek5vKcxGlQEFQUtRUFAnxoHxIkGR2a0ozQoKL3zW5zTFiENfc69e51z9t6fT9W3Vv9x7+2++5zev9/Ze+21IgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgdpZiQTRNU/4t+2QOyOw9zoMy22S2ztw3AGDxrc3cmFmXWZP5ZuZbmQuXlpa+Hgtirg1AFv0tc/jDzNMzj83sGADQX1dnPpV5X+bD2RDcHHMylwYgC/+Dczgyszp8sgdgmMqVgvdkXpeNwLdixmbaAGThf3gOL8n8cebXAgBYH6MrAsdnI/DVmJGZNABZ+O+TwysyR2TuFgDAHZVG4F2Zv81G4PqorHoDkMX/GTm8MbN9AACbcm3miGwC3hcVVWsAsvDfPYcTMn8TAMC03pl5fjYCN0UFVRqALP4753BWZr8AAJbri5mnZBNwdbSs9QYgi/9uOXwsRs/wAwAr853ME7MJuDRa1GoDkMX/N2P0fOMOAQC05ZrMY7MJ+Ga0pLUGIIv/A3K4IPPAAADa9sPM72UT8P1oQSsNwPgxv1L89wkAoJavxagJ+GmsUFuL8bw1FH8AqG1V5i3RghU3APnp/69jtLIfAFDf4Vl7nx8rtKJbAPkP2DOHizNbBgAwKz/LrMpbAZfHMq30CsDJofgDwKzdI3NKrMCyG4D89P+0HP4gAIB5eGLW4kNjmZZ1CyD/wvJ9ZceiVQEAzMvXMw/JWwHrY0rLvQJwWCj+ADBv5Qm8P4xlWO4VgM/l8LsBAMzbZ/MKwP4xpakbgCz++8ZoIQIAYDGU2wBT1ebNYnp/GrNzWebs8VjWQf5FAMDi2jyzY2aPzCHjcRaelXlx1FIm/2V+0NT30cxvBQB0WNay386c3dT33agp/4LfbOpal3l6AECPZG17xrjG1bTXNP+maZ8C+P2oZ23m0XkP430BAD2Ste20HB6T+feo5+BpvnjaBuCgqOOXmdV5gL4UANBDWeP+LYdnZm6NOqaq0dM2APtGHW/IA/PxAIAey1p3TqxwCd+7MNWuvBM/Bpj3Fu6Ww43R/tr/ZU/jPfKgXB8A0HNZT7eP0dNt94x2/Tyz9aSrAk5zBeCBUWfjnzMUfwCGImvedTmcGe27e+Y3Jv3iaRqA+0UdHwwAGJZatW/iWj1NA7BN1PHVAIBhqVX7Jq7V0zQAbd+r2OCqAIBhuWKqr57cvSb9wmkagC2igrwXsi4AYEAq1r6J5+otdztgAKDDNAAAMEAaAAAYIA0AAAyQBgAABkgDAAADpAEAgAHSAADAAGkAAGCANgsAFlLTNDvksHtmx8zaGC2dvmZpaakJWCENAMACyaK/dQ5HZFZn9sss3eFLrsyvKVvJnpSNwKUBy+QWAMCCyMJeiv6azAmZR8R/Lf7F/TMvyFySX39Spso+LfSfBgBgAWQhPz6Hd2d2mvBbNs+8KPOJ/N6J94CHDTQAAHOWBfzYHF4cG//EvykHZs7MnzHxLnBQaAAA5igL90E5HB8rc0DmNQFT0AAAzEkW//KJvxTuNs7FR+TP2zNgQhoAgPk5OPOoaMeGOQEwEQ0AwPwcGu06dHxVATZJAwAwPwdGu8ojgrsHTEADADA/u0T7avxMekgDADA/20X7rAnARDQAAPNT43698zoT8UYBgAHSAADAAGkAAGCANAAAMEAaAAAYIA0AAAyQBgAABkgDAAADpAEAgAHSAADAAGkAAGCANAAAMEAaAAAYIA0AAAyQBgAABkgDAAADpAEAgAHSAADAAGkAAGCANAAA89NE+9YHTEADADA/10f7rguYgAYAYH6uiPbV+Jn0kAYAYH7Oi3aV4n95wAQ0AADzc2a064ylpaUa8wroIQ0AwPycm7ko2vGLzMkBE9IAAMzJ+NP6MZlbY+Venz9vTcCENAAAc5RF+/wcXhwrc0HmJQFT0AAAzFk2Aa/N4VWxvHUBSgPx1PwZNwdMQQMAsACygB+Xw+rMlRN+yy2Zf8g8Lr/3RwFT0gAALIgs5O/NYc/M32W+EBu/IvDDzD9l9smvPypzS8AybBYMStM0987hSZl9M7tktg7ohmszV8Xo2fkLs/C1MXFu4eTvdVMOJ5bk/9ftc9w9s2NmbYx+/8s86kcbNAADkSeS3XJ4ZebwzBYB3XZtvqdLkXxDFsOfR0/l71aW9bW0L1W4BTAAeaJ8fg7fyDw7FH/6YYdMmTj3tXx/rwpgahqAnsuT4wk5vCmzZUD/7JG5MN/nBwUwFQ1Aj+VJ8c9zODqg3+6ZOT3f7w8KYGIagJ7Kk+GuOZwSMAzbZt4WwMQ0AP1VFhVx2Z8heXQ2vk8JYCIagB4aP+p3eMDwPDeAiWgA+umQMNufYXp8NsD3CGCTNAD99NCAYdoqYzIgTEAD0E87BwzXAwLYJA1AP1kmlCFbH8AmaQD66aqA4Zp0Nz0YNA1AP10cMExlI53LAtgkDUA/fSRzc8DwnLO0tPSzADZJA9BDeQK8IYfTAobnrQFMRAPQX8dlertNKmzEp7L5PSuAiWgAeipPhN/L4YUBw/DjsAogTEUD0GPZBLw9hxMC+q3c8jos3+8m/8EUNAA9lyfFY3N4XpgUSD+tyeyf7/PzApiKBmAA8uR4ag57Z94ZGgH64erMUZlV+f6+JICpbRYMwnhOwHOapvmrGG0WtCqzS2abgG64JkaL/JRP+xfle7r3K/7l/9cdctg9s2NmbYwW+VqTv7vVPpmdfCMe3tRh4w6AsTwnbp05OvPFzPqNnDOvyJyS2TPorFL7mjra3wq+qdcAFD/M/HPmLzJ7BMAA5flvdeaqCc+bt2ROytj6uwOaUcH/y8y7xjWvls41AHd0SebljWYAGIg83x3fbPwT/6acn7lfsHDydfn1zJGZzzSz0/kGYIPyn6G8uZ+d2TwAeijPb8c2K3NBZstg7vJ12CLzJ82o6C+noVup3jQAt1cui5WrAtsFQE/kOe2gzK3Nyp0UzE0e/3s3o0/732/ma+IGoEuPAe6UeVnme/kLvjpzrwDosDyPLeXwmmjnXHxEY2LgzOUxv0+mvIblCZWTM78eHdHFdQC2zvx95jt50I9pXPYCuuvgzKOiHeU26YuCmcjas3nmL/OP38ock9kqOqbLCwFtG6PO+eJ8ER4XAN1zaLTr0PFVBSrKY/z4HL6eeXNmh+ioPqwEWC55fSxfkDe7LQB0zIHRrvvHaOEgKig1ptSa/OM5mc6vYdOXpYBLx1suxXzV1QCgQ3aJ9tX4mYOXteUJOXwtRrWmF1dZpmkAbonF98DMOflCvdRlMKADajzVZE2AFmUt+bXMK/KPZ0c3JvhNXKunaQCujm4ov1N5sT5UZmcGwOKq8UHFJm8tGd9Wfn/mpdGdT/1XTvqF07xRvpvp0gYUT858Nl/AvQIAppC148E5fCHan6hZU6nR3530iyduAJaWlspOXP8W3VK2wC0rCT48AGACWTMeEaNdJ7u2rsLns1ZfN+kXT3up6F+je8ojGufmC3pAAMBdyFpRnsz4ZGb76J7TpvniaRuAU2K0H3XXlLkAH/OEAAB3ZjzTvzzid+/onisyb5rmG6ZqAPLSwo05HBndmguwQVlB8AP5Av9OAMDtZG14ZA6nRwdX9ItRTf6brNE3TfNNU88Wzb/gvTkcH920TeYs62UDsMF4sviHY/RBsYtembX59Cm/Z3mPi+RfdFyM1py+Nbqn3NcpawXsFAAMWtaCUhPOim6un1Bq8LFZk18Wy7Ds50XzL3xdDr+f+Vx0z26Z08tmDgHAII1rwAejm8v6fjZzUNbiE2KZVrRgRP7F5+ewf4x2tHp95kuZa6Ibyr972QcOgM57bbS3G2NtpbaWGls+fD82c0DW4AtiBaqtbJSd1X1jdD+l3Hcv3VVZVKE8l18ex9snFkOZOPG0PIgfCIAZy/NkjQnVzxjP1eIu5KF/Wg7lOC3KCn+XZC7MfDvzzcyazLrMjfl6ro0K5vKLj++/l9sHT4/Rin1bxvz8e2a/PMDfDYAZ0gDMRx72smNiWdhuno/73RyjiYfvy5w7XmxvWPKF2Dbzgsw3m/k5OwBmrKnj8OBO5fFZyny8mZ9S60rNu28w0ox2XFqd+UozH88OgBlq6tAA3IU8Ps9p5uPL5bXJ2KzpzjSjRqC8QNc3s3VdM3ocBGAmmjo0AHcij812mWub2VqbOTJzt1gwC9eJ5H2Q9Zl35B/3jdGqTLNSngHt6gJHAGxamfU/yw965f7+3uWx+UwX182Zr2Z0NeCmZjZ+2Yy2gASorqnDFYCNyOOyV+YXzWz8PHNkLLiFvxcxvhpwUMxmfYFyiWZZKyoBsNBeldks6rs683vjxfIWWicmI+SB/HyMFu65NOorExEfHgD0Qp7TH5rD06K+72QekzXri9EBnZmNmAf0tgMbo0USqv5VmeMCgL54ZdSvd9+K0ep8s/ig2opOPY6QB7ZcWnlc5gdR11OzY9w1AOqqsRDQ+uBX8lz+wBgtOFfTlZlDxjWqMzr3PGIe4FL8n5K5IeopcwH+IgDquj7ad11wey+I0Tm9lp9kntjF1WQ7uSBBHuiv5vDcqOsvsnO8ewDUc0W0r8bP7KQ8h5dl5v8s6nph1qSvRQd1dkWiPOCn5XBq1FOeFT0sAOo5L9pViv/lwQZlv5kdop5Tshb9S3RU15ck/J8xmnVZy+oAqOfMaNcZWZBqzCvoqprn8LJb3/8K5icv8RzS1FMWINo6ACpoRhvTXNi045bMg4Lb5LHYJvOzpp7aEwur6/ymBNntlp38PhR13CNzSABUMP60fkymjWViX58/b02wwR9kas3jOj2P9VnB/GUn9rDM+qaOfw6AivI8c3SzMp9pRhPeGMvj8Z6mjlJrVgWLI1+QM5s6yi6BSwFQUZ5nXtks74PMeZntgl9pRrdWrmvqeH+wWPJF2b+px301oLpmtF/8FROel27OnJjZIvhP8pjs3dTzyGDx5AvztaaO5wTADOT5ZqvMUZnPNxu/IvCDzBszewQblcfmz5o6LokemcXOSLNUnsc8PtpXNiJ6R/RAvoHvncOTMvtmdsl4yoGuuDZzVYyenb+wr/ur5+91Uw4nluT/17Ieye6ZHTNrY/T7X+ZRv03aP+r4f9Ejvbq33YzW76+xLsCX8j/cI6LD8tjsFqMNMcpe4S4Z0nWlGShF8g35f/PnAbeT57sv5/CwaN9vjJej74XeTW7LF77sFrhntGtdvuj3jI7KY/L8HE7OmCVM31yWObSrS7HSvmY0aXtdZqto1zfyfbZP9Ejn1wHYiE9G+8qCEjWXk6wm/90n5PCmUPzpp3IfvCykc1DAyE7RfvEvzo2e6WMD8Omoo3MTbvKk+Oc5HB3Qb+Xq3OmNp3UY2T3qaHvfhrnrYwNQa5ZmrTdVFeP5EKcEDMO2mbcF1Puw1rvbTH1sAC7NrI/2PSC65VXhsj/D8uhsfJ8SDN39o33liZPeLbPcuwZgaWnpZzl8P9q3TXTE+FG/wwOG57nB0NU4V38va8vN0TN9vAJQ/Cja16Xn5csGRh71Y4genw3wPYIhq3Guvj56qK8NwA3Rvs5cAUgPDRimMvvbZMBhq9EArIse6msD8NNoX5euAOwcMFxdm69Du2qcq2t8qJy7vjYAQ2eZUIasxiRg6J2+NgD3ivZ16RLQVQHDdWUwZDdG+zq7Euxd6WsDUOPFqvGmquXigGEqG+lcFgxZjXN1l+aATayvDcB20b4uNQAfyfTukRWYwDnjR4EZrhrn6vtFD/WuARg/AvQb0b7O3ALIE2CZsHJawPC8NRi6GufqB2Zt6d3Can28AlB2Aqzxe10R3XJcxjapDMmnsvk9Kxi6GnNA7hY9fLy0jw3AvlHH5dEheSL8Xg4vDBiGH4dVABmpNQdkVfRMHxuAx0YdnZtYlE3A23M4IaDfyi2vw/L9bvIfRa0Pa4+JnuljA3BwtG9dnlyujQ7Kf/exOTwvTAqkn8oGLfvn+7x3W7WybFfH6GmQttWoLXPVqwagaZrdos59mkujw/LkeGoOe2feGRoB+qGc5I/KrMr3d60twOmgfD+UhdBqnLMfnDXm16NHNot+eVbUcVF03HhOwHPyDfxXMdosqNzP2iV6+nwrvXRNjCZ4lU/7F+V7uvcr/uX/1x1y2D2zY2ZtjBb5WjMucty5z2YeFu0rNcZt1UWU/1m+0dTxJwEwA3m+2TpzdOaLmfUbOR9dkTkls2ewUXls/rSpw9WmRZQvzP5NPXYXA6rLc83qzFUTnpduyZyUsfX3HeQx2aup55HBYskX5YNNHdcEQGV5rjm+2fgn/k05P9PLleqWK4/HUubapo7Tg8WRL8jDmuX9x5nEOwKgojzPHNuszAVND1eqW4k8Hv/S1FFqzUOCxZAvxoeaev44ACrJc8xBmVublTsp+JU8Hoc39bgKsAjyhfijpp4bM1sHQAXN6FL1RU07ypwAEwPH8lhsk7mpqefJ0XGdXgcgX4Ctcnhd1POxpaWlLu0CCHRLWVzmUdGOzTMvCm6T5+6yKdDHo57XNaPN5zqr6wsBleK/a9TzrwFQz6HRrkOzKC0FG9TcFXWPzD8Gs9eMHpepqcwgNakGqCbPMV9q2rdHcJs8FltkrmnqenZ0VCevAOQBf3gOb4m6Ts1LSJbNBWraJdpX42d2Up7Db8nhbVFXWZSpk08FdK4BaEbr/X8k6i5h+8vM/wmAuraL9lkT4D97U+bWqOdembOzNu0aHdOpBiAP8M45nJPZOeo6IzvHHwZAXTXu1/dxl9dly3P593P4UNR1/8w54xrVGZ15o+SBLRtilE1Aaj/mUjYYeVUA0BcvjdG5vaa9MhdmrdorOqITDUAe0PKYTNndaRZr8r8nO8avBAC9kOf0i3N4b9S3a6Yszfy70QEL3wDkgfzLHD6d2T7qK/eJ/ncA0DflKsAvo76yhXNZmvmYZsEfyVzYBqDcS8mckX98c2ZWu129JTvFbwUAvZLn9m/n8H9jNjbLvCZzetfmBcxVHqxfK5/6Mz9pZuu6xo5awAw1dRwebFQem22b+usC3NG6ZnQ1YLNYMAtzBSAPzt0yz8o/lns15VP/vWK2/jo7xOsDgF7Kc/yPc/jbmK2yn0y5GvDlrHH/vdS6YCQPxnaZIzLfbubnrACYsaYOVwA2IY/R2c38lFpXal6NNSCmMpcJCvmLl2cm/1vmaZknxezu8W/M2sx+2Rl+LwBmqFSDaN8z8nw2ixnvndWMFu35UuY+MT9llcKyqN37M5/M1+zKmLFqDUAe4PvGaLW+kvJc5N7jHJB5cCyG8p/vsDzwZwbAjGkA5icP/WExKr6LMlP/m5kLx2OZjH5ppuxouC5fz7VRwYonJTSjxxzKlpZlV6tHZ3bK7Bjd8I+KP8Dw5Ln/A1m/TorZzwm4Mw+OO/lwPO4Tr8lclTk/U56QOzd/hxU1kCvqfPIfdVAOJ2Z+O7qndFqPzQP4iwCYA1cA5isP/+YxWmdm/+ie/585Kl/r82OZlv0UQB64I3P4ZHSz+F+eeZriDzBc4xrw1My3o3vKaoOfzlr88limZTUA+Rcen8PJ0c1NJ8pllCfkC391ADBoWQuuy+HJmWuje8pV/JdlTX5lLMPUBTz/otU5/H100w2ZJ+cLflkAQNzWBKyJUROwLrrpJc0yHv+cqgHIv6AsaFA++S/0+sZ3orywf5Qv9BcDAG4na8MXYnQ74MbonlKTT84avdU03zTtFYAjYjTLv2vK6k+Pyxf4UwEAG5E1osxre3yM1ofpmrK+zgun+YZpG4BnRveUe/4H5wv7uQCAu5C14qIYPdI+84V5WrB6mi+euAHISwvl2f6HR7d8I3NgvqBfCQCYQNaMS3L4/RgtyNMlv5W1evtJv3iaKwC7Rbfu/X84s/94cgcATGy8ffDvxGi1wK4oNXq3Sb94mgagK6v7rc+8JEYT/n4SAIurxkJA64NWZA0pT46V2fUvje4c150n/cJpGoB5btgzqe/EaLLfq1e6RCLADNTYgvy6oDWllmTKc/ZPyHw3Ft/EtbqLC/lsTCn2p2Yeli/UuQHQDVdE+2r8zMHL2vKJHPbNnBA9ucrShwag3Kcpn/qfN75cA9AV50W7SvG/PKgia8xNmWNjdDXg0ui4LjcAP8qUF+Ih42c3Abqm7d1Iz3D7s77bXQ14Xqazy8p3sQEon/JfldktX4QTMrcEQDeVW5YXRTvKxjYnBzNRNhLKlFvPe2deHR1cRrhLDUDZB/kVmV3zoB/ncj/QdeNP68dkbo2Ve73Hnmcvj/lPM+XJswdkXpT5fvRN2Wigmb1bM+dlnpnZLAB6KM9vRzcr85nMlsHc5euweeZZmfPHNWzWpt4UaJJfapYNwCWZl2d2D4AByPPdKzPrm+mVD0nbBQsnX5ddMkc2owZtOa/tcnSuAfhB5h2Z/5HZNQAGaHyevWLC8+bNmRMzXVijZfDyddptXOPeOa55tXSqAXhQAHCbPCdulTkq8/lm458aS/F4Y2aPoLNK7WvqmLgBmPt9dZNWZivfHPfO4UkxeoRll8zWAd1wbYwmA5dn5y/Mc0cbE+cWTnnWPIcTS5rRxi7lVmhZir1sUVt+/8s86td9pfbl6xvzZGLdQOQbrWwQUZazLN2hS4Z03bX5ni5F8g15Iv159FT+bmVZX0v7UkVflgLmLuSJ8vkx2hr52aH40w87ZF6b+Vq+v1cFMDUNQM/lybGsW/2mjEeE6KNyH/zCfJ8fFMBUNAA9lifFP8/h6IB+u2fmdBOKYToagJ5qRo9TnhIwDNtm3hbAxDQA/VX2S3DZnyF5dDa+TwlgIhqAHho/6tf+YhCw+J4bwEQ0AP10SJjtzzA9PhvgewSwSRqAfnpowDBtlTEZECagAeinnQOG6wEBbJIGoJ8sE8qQrQ9gkzQA/XRVwHBdGcAmaQD66eKAYSob6VwWwCZpAPrpI5mbA4bnnKWlpZ8FsEkagB7KE+ANOZwWMDxvDWAiGoD+Oi7T221SYSM+lc3vWQFMRAPQU3ki/F4OLwwYhh+HVQBhKhqAHssm4O05nBDQb+WW12H5fjf5D6agAei5PCkem8PzwqRA+mlNZv98n58XwFQ0AAOQJ8dTc9g7887QCNAPV2eOyqzK9/clAUxts2AQxnMCntM0zV/FaLOgVZldMtsEdMM1MVrkp3zavyjf071f8S//v+6Qw+6ZHTNrY7TI15r83a32yYppAAYmTxw/jdEjgh4ThAWURX/rHI7IrM7sl1m6w5dcmV9zZo4n5f/nSwOWyS0AgAWRhb0U/TKvoUzefUT81+Jf3D/zgswl+fUnZWz9zbJoAAAWQBby43N4d2anCb9l88yLMp/I771fwJQ0AABzlgW8PK3z4tj4J/5NOTBzZv6MLQOmoAEAmKMs3AflcHyszAGZ1wRMQQMAMCdZ/Msn/lK42zgXH5E/b8+ACWkAAObn4Myjoh0b5gTARDQAAPNzaLTr0PFVBdgkDQDA/BwY7SqPCO4eMAENAMD87BLtq/Ez6SENAMD8bBftsyYAE9EAAMxPjfv1zutMxBsFAAZIAwAAA6QBAIAB0gAAwABpAABggDQAADBAGgAAGCANAAAMkAYAAAZIAwAAA6QBAIAB0gAAwABpAABggDQAADBAGgAAGCANAAAMkAYAAAZIAwAAA6QBAIAB0gAAzE8T7VsfMAENAMD8XB/tuy5gAhoAgPm5ItpX42fSQxoAgPk5L9pViv/lARPQAADMz5nRrjOWlpZqzCughzQAAPNzbuaiaMcvMicHTEgDADAn40/rx2RujZV7ff68NQET0gAAzFEW7fNzeHGszAWZlwRMQQMAMGfZBLw2h1fF8tYFKA3EU/Nn3BwwBQ0AwALIAn5cDqszV074Lbdk/iHzuPzeHwVMSQMAsCCykL83hz0zf5f5Qmz8isAPM/+U2Se//qjMLQHLsFkAsDCyoN+Uw4klTdNsn+PumR0zazNXZS7zqB9t0AAALKgs9GVZX0v7UoVbAAAwQBoAABggDQAADJAGAAAGSAMAAAOkAQCAAdIAAMAAaQAAYIA0AAAwQNM0AFXWm26a5p4BAAOSte9eUcfEu0JO0wDcEHXsHAAwLA+IOn466RcuQgPw0ACAYXlI1LFu0i+cpgGotd/0HwUADEut2nf9pF+4NOkX5v2Ku+VwY2bLaFe5srDHeNcrAOi1rKc75HBZZpto18/Kz8x6un6SL574CkD+wFtzuDTaVyYBHhcAMAwvjfaLf3HppMW/mPYxwEuijhdmR/TEAIAey1r3pByeH3VMVaOnbQA+HXWU2wvvyQOzXwBAD2WN+60c3h2jmlfDVDV62gbg3KjnPpnz8wAdHgDQI1nbnpnDeZl7Rz2fjJryl/h+U985md8NAOiwrGWPzHysqe/ymNJmMb1y+eLoqOsJJfkLfSfHj8ZotuQ1UWk1QgBoyRaZnTJ7ZA7J7Baz8e4pv37yxwA3yKK8T9SbDAgATG/V0tJS1UmA5XHAr+fwuQAAFsFF0xb/Yrm7AZ4QAMAieE0sw9S3AIq8DVC+76uZVQEAzMtXMvvlFYAmprSsKwDjv+ilAQDM03HLKf7Fsq4AbJBXAj6cw5MDAJi1s7P4PymWaaUNwINyuDhz9wAAZqVs/LNvNgDfiWVa7iTA2+RfvCaHowIAmKUXraT4Fyu6ArBBXgl4Vw7PCgCgttOy+K+OFWqrAShrG38mPBUAADWVJ/AOzAbghlihVhqAIpuA++dwQWbXAADa9oPM72Xx/0G0YEVzAG4v/0FX5lBmI14TAECbrs48rq3iX7TWABT5D/tmDvtnLg0AoA1lp7/HZI39drSo1QagGM9KfHTmCwEArETZe2f/rK2tf7BuvQEo8h9abgMcmHl9ZlkrFAHAwJ0ao0/+10YFrU0CvDNN0/xxDqdkdgwAYFPK/f4XZOE/IyqqcgXg9vIXOD2HvWN0NeDWAAA2Zn2MPvU/uHbxL6pfAbi9vBrwkBxenHlGzKD5AIAOKB+OT8scn4X/kpiRmTYAG2QjsFcOR2aemdk2AGB4fpR5T+Z1NSb5bcpcGoANshHYIoc/yDw9c3Bm5wCA/ipr5nwi8/7MR7Pw3xJzMtcG4I6yIfjNHA6I0ZyBkj0z24xz3wCAxbc2s26c8uz+t8a5cLxeDgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMzn8AR2S/gKAN9vQAAAAASUVORK5CYII=",alt:"ticket"}),(0,Me.jsxs)("div",{children:[r.schedule[n],(0,Me.jsx)("br",{}),(0,Me.jsx)("span",{className:"special-char",children:" & "}),r.tickets[n]]})]}),(0,Me.jsxs)("article",{children:[(0,Me.jsxs)("h1",{children:["The ",(0,Me.jsx)("br",{}),"Sustainable ",(0,Me.jsx)("br",{}),"Innovation ",(0,Me.jsx)("br",{}),"Challenge ",(0,Me.jsx)("br",{}),(0,Me.jsx)("img",{className:"first-page-logo",src:Oe,alt:"epfl logo"})]}),(0,Me.jsxs)("p",{children:[r["sic-presentation"][n],(0,Me.jsx)("br",{}),(0,Me.jsx)("strong",{children:r.date[n]}),(0,Me.jsx)("br",{}),(0,Me.jsx)("strong",{children:"EPFL Rolex Learning Center"})]}),(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("a",{className:"main-link",href:r["live-stream"].to,children:[(0,Me.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABzESURBVHgB7d0J/H31nD/w9zdLkixjS2EsUWHIjIhItrGLkCHrGLsedmFM1kaJGFuWMcjyR1JKsjSVJSJri0qLxtIm0kJ79/86zrf6Scvv+/3dc+899zyfj8frcS6PB9/fr+/tfF733PfnnCoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYFQvVU6PR6Fo53D5ZP7lxstblskb1+O8HTMWFyVlXkBOSIxcWFv5QMCd6sUBmsb9+DvdLNk02TDZI1kuuWQCT87vkqMX8JDkgpeCogh6ayQKQBf/aOTwweUCyefJPyTUKYPacnByYHJB8PYXghIIemKkCkIV/kxyenvxLcqMC6JdR8p1k12S3lIEzCmbU1AtAFv2b5vDcahf+OxbAfDg32TP5SIrA/gUzZmoFIAv/Ojm8Mnlect0CmF/fT7ZPEdi7YEZMvABk4b9NDtsmz0pWL4Dh+FmyfbJ7ysDFBVM0sQKQhb/Zlvfa5NVl4QeG7ZDkhSkBPyyYkokUgCz+j8zhvcltC4BGcwXgQ8m/pwicXjBhnRaALPxr57BL8tgC4Io09xZ4eUrApwomqLMCkMX/H3P4UnLLAuDqvKfaInBRwQR0UgCy+G+Vw8fKdD/AUnw9eVJKwB8LOrZajVEW/oXkzXn5ubL4AyzVPycH5zzqnih0bmxXAPKGXbPau19tWQCsiuYKwFa5EvCNgo6M5QpAFv9b53BQWfwBxuGGyb45t25T0JFVvgKQN2jzhL4vJjcrAMbtw8mLczXggoIxWqUCkMX/YdVO+l+7AOjKvsmj7RBgnJb9FUAW/w1y+GxZ/AG69vBk54IxWtYVgCz+zaN6m4db3KEAmJTn5CrAfxeMwZILQBb/a1Z7OerBBcAkNXMAD0oJ+HbBKlrOVwDNZSiLP8DkXSvZffGpqrBKlnQFIG+651b78AoApufQZNNcCTi7YJlWugBk8d8sh/2qbaCzovmX4Ojkt5fLiclpBbA0zaPK10nWvVyaZ5pskly/ZseeyZYpAaOCZVipArB4ual5fvVNarrOTw5M9mqSN/6vC2ACch5sdjxtnmyRPDq5VU3f9jkPvr5gGa62AORNf41qF/+713Q07bZpus2Ww6/mzX5mAUxZzo3NObEpA89L1q7peVTOi/sUjFve5C8dTc8BycYFMKNyjloz2S45azQdv0zWKBinvKnWSc4cTd7hySMLoCdyzrpZ8v7kgtHkvbVgnPKm+uxosk5Pnj1qv3YA6J2cv+6Y7DuarPOS9YtByu/+usmdkocmWyX3SJY/sJr/8YNGk/ULb2BgHuRctlryttFkeXTwwOR3fv/kk8mfr+Q98YNk62Rpu/fyPzh4NDn7jdrbCwPMjcWT7zmjydm8mHujduH//hLeF79K7r2y/+cPHk3OB0bt7YUB5k7Ob/dMThxNxn7F3Bq1l/n3Hi3P+ckLVuaHHDiajG0KYM7lXLducuhoMjYp5sqoHcj/SHLhaNVtfVU/6L6jydi+AAYi57xbJ6eMuvflYi7kd7lW8tbkT6PxOTvZ4Mp+4JdH3dsjWdajiAH6Kue9+4zaif2u/UPRW/n9XSt5cXLqqBtfv6IfeovReC4xXJWfJmsWwADl/PesUfd2Lnopv7snJseMunVxst7lf/ArR91qLn/dugAGLOfBd466dfLIcHWv5Pe12Wiyu+92uPwf4LBRt+5fAAOXc+E1km+NuuVuqj2Q39OGyV6jydtvtRX+EM2DLe5S3fnCwsLCNwtg4HIuvCiHl1f7sLOuPL2YWaP2K/cP5+Vh1T5dctJuVyv8Yd4x6k6z//AOBcClRt3ebr25AdH1ipkyaif73zIa72T/cly42gp/rgdXdz6cxntMAbCi1yXnVzeuk2xWzIRRO9n/orw8Nnl9ct2armv8pQDkD3XjHO5a3TgreXMB8Ffywej4HHap7jywmLqssU/I4YjkfcnNakZccgWgGc7ral/+TnmTn1oAXJHmUb5nVjcUgCkatTfW+15e7pbM3NfglxSAB1Q3Lk4+VABcoXxAOi2Hz1c3Nlq8wssE5Z/5BsmeefntZGZvzbziFYAuHOzTP8DV2rO60VzZtf16QrLor500H3oPT7aoGdc8s7p5TvCG1Y29CoCr0zzF7+zqhtsCdyzr6PWSN1U74Pfc5BrVA80VgNsnXd0x6ksFwFXKldLzcvhadWP9ohNZ9K+ZvDAvj0u2S3p1m/umAHT16f+YvKmPKgBWRldfA9yxGLss/FtWO9n//pqhyf6laD75b1DdcPkfYOXtk1xY478iqwCMURb+TXPYKbl39VxzBaCrAnBwAbBScsX09ByOrvFr7jy3TrFKFif798jL79QcLP6NpgDcsrrx2wJgKU6qbqxbLMviZP8Hq71n/2NrjjSXmtaqbigAAEtzYnWjq/P83Bq1z1F45WJ6Ndy3sroqAM0TrrpqsgDzSgGYsmayP4fnJG9Ibl5zrKsCcGq+z7qgAFiKrj44KQArIYv/43J4Ww1k62RXBaCrFgswz1wBmIIs/PepdrL/PjUgzRBgF8+LdvkfYOlOqW50cZ7vvSz86ydfzMuDamCLf6O5ArBajZ/L/wBL19W5sxe3pp2ULPrNd/vNd/zNd/1d3Ql35g32Lw7AsGThb6b5L5ns78tVkWaovnlOxNi/xuni0z8AzIzFe/Y/r9qH9byx+rP4759svHgcO1cAAJhbWfibm/fsUP2a7G9uOrTtwsLCvs1/yN+huqAAADB3smg2t+ttJvs3rf74TfIfya5Z/C+ujikAAMyNLPzNw4+avfxbVn+cUe1Viv/Kwn9OTYgCAEDvZeFvHsnbTPY/t/qztp2ffCB5axb+39eEKQAA9NbiZP8rkldVvyb7P5e8Lgv/L2tKFAAAeicLf3Nvg2cnb0rWrv44IHl1Fv4f1pQpAAD0Shb/Lar9znyD6o/Dq53s/0rNCAUAgF7Iwr9JtZP9963++G2yXfLxSUz2L4UCAMBMy8J/h2on+x9f/XFmtVcp3j3Jyf6lUAAAmEmLk/3Np+dmsv9a1Q/NZP8Hk7dk4T+tZpgCAMBMycJ/3bpssr8vjzJuJvs/X+1k//HVAwoAADNhcbL/X6ud7L9F9cc3k1dl4T+kekQBAGDqsvg/ptrvzDes/jii2sn+faqHFAAApiYL/72qney/X/XHiXXZZP9F1VMKAAATl4V/vRz+M3li9Ucz2f/25F1Z+P9cPacAADAxWfhvWu2n5+dVfyb7L6jLJvt/V3NCAQCgc4uT/S9Ltq3+TPY3dktem4X/uJozCgAAnVmc7H9WtZP961R/fKvayf4f1JxSAADoRBb/R+WwY3Kn6o+fJ6/Jwr93zTkFAICxysJ/z2qH5e5f/XFStbMJH+vzZP9SKAAAjEUW/ttXO9m/VfXHWdWWlZ3nYbJ/KRQAAFZJFv6bVPvp+fnVr8n+DyVvnqfJ/qVQAABYliz8a9Rlk/3Xr/74QrWT/cfWgCkAACzJ4mT/M6ud7F+3+uPbyauz8B9cKAAArLws/o+sdrL/ztUfR1Y72b9XcSkFAICrlYV/42qH5Tav/mgm+9+YfHQok/1LoQAAcKWy8N+uLpvsX6h+OLsum+z/U3GFFAAA/sbiZP/rkxck165+uDD5cPKmLPynFldJAQDgUouT/S+tdrL/BtUfu1c72X9MsVIUAACahX+1HJ6RvKX6Ndl/ULX37P9esSQKAMDAZfF/RLWT/Xep/jiq2k/8exbLogAADFQW/ntUOyz3gOqPk+uyyf4Li2VTAAAGJgv/baud7H9S9Wuy/x1NTPaPhwIAMBBZ+G9c7WT/C6tfk/0fqXay/5RibBQAgPm3Rhb/1+TYpE+T/XtU+z3/0cXYKQAA86/51L9a9cd3q53s/27RmT69IQBYnr6c65tP+ltm4d/U4t89BQCAaWu+22/mEu6ShX+PYiJ8BQDAtDTT/JdM9p9dTJQCAMCkNZP9H03emIX/5GIqFAAAJqm5c18z2X9UMVUKAACT0Nyrv5nsP6iYCYYAAehS83S+J2Thv4/Ff7YoAAB04dTkRcmdsvDvXswcXwEAME7NZP/OyU5Z+M8qZpYCAMA4XFSXTfafVMw8BQCAVbVX8pos/EcWvaEAALBc3692sv/bRe8YAgRgqY5NnpiFfxOLf3+5AgDAyvpd8ubkQ1n4Lyh6TQEA4Or8udrJ/reb7J8fCgAAV6aZ7P9Y8oYs/CcWc0UBAOCK7F3tZP/Pi7mkAACwoh9UO9n/rWKu2QUAQOO4ZKss/Pey+A+DKwAAw3ZatZP9HzTZPywKAMAwNZP97052zMJ/ZjE4CgDAsDST/R9PtjPZP2wKAMBw7JNsm4X/iGLwFACA+XdYsk0W/m8WLLILAGD+fcbiz+UpAAAwQAoAAAyQAgAAA6QAAMAAKQAAMEAKAAAMkAIAAAOkAADAACkAADBACgAADJACAAADpAAAwAApAAAwQAoAAAyQAgAAA6QAAMAAKQAAMEAKAAAMkAIAAAOkAADAACkAADBACgAADJACAAADpAAAwAApAAAwQAoAAAyQAgAAA6QAAMAAKQAAMEAKAAAMkAIAAAOkAADAACkAADBACgAADJACAAADpAAAwAApAAAwQAoAAAyQAgAAA6QAAMAAKQAAMEAKAAAMkAIAAAOkAADAACkAADBACgAADJACAAADpAAAwAApAAAwQAoAAAyQAgAAA6QAAMAAKQAAMEAKAAAMkAIAAAOkAADAACkAADBACgAADJACAAADpAAAwAApAAAwQAoAAAyQAgAAA6QAAMAAKQAAMEAKAAAMkAIAAAOkAADAACkAADBACgAADJACAAADpAAAwAApAAAwQAoAAAyQAgAAA6QAAMAAKQAAMEAKAAAMkAIAAAOkAADAACkAADBACgAADJACAAADpAAAwAApAAAwQAoAAAyQAgAAA6QAAMy/LUej0d0LVqAAAMy/jZMfpQR8Kvn7glIAAIZiIdk6OTol4B3JjYpBUwAAhmX15BXJcSkBr0pWLwZJAQAYpuYKwNuTX6QEPC1ZKAZFAQAYtlsnuyY/Tgl4SDEYCgAAjY2Sr6cENNmomHsKAAAraq4CNFcDdk1uXcwtBQCAy2vmAZ5W7XzATnYMzCcFAIAr0+wQeGW1OwZeYcfAfFEAALg6zRWAd1R7D4Gn2jEwHxQAAFZWcxfBT1Z7V8EHF72mAACwVM1zBb6REvDV5G5FLykAACzXQ6vdMfCJ5FZFrygAAKyKZh15erU7BnZMblj0ggIAwDhcJ3l1tTsGXm7HwOxTAAAYp79L3pkclRLwFDsGZpcCAEAXbpN8OvlhSsCDipmjAADQpX9M9ksJ2De5azEzFAAAJuFhyU9SAj6W3LKYOgUAgElp1pxnJsekBOyQ3KCYGgUAgElrdgxsW+2OgZcm1y4mTgEAYFpunLyr2h0DT7ZjYLIUAACm7bbJZ5JDUgIeUEyEAgDArPinZP+UgH2SuxSdUgAA5t8OyY7JudUPj0h+lhLwP3YMdEcBAJh/ZywsLLwmxzskH08urtnXrE/PqvYZA/9px8D4KQAAA5ES8JukWVQ3Sr5a/bBG8trk2JSAl9gxMD4KAMDApAQcljw8Lx+c/Lj64SbJu5MjUwKeZMfAqlMAAAYqJeB/c7hHsnVyQvXD7ZLPJt9PCdi8WDYFAGDAUgJGSbMFb4PkFckfqh82Tg5ICfhycudiyRQAAJoicF6yc17ePnl79WfHwCOr3THw38m6xUpTAAC4VErAH5PmNr13THatfuwYuEby7GqfMbB9cv3iaikAAPyNlIBfJ8+o9nG+X6t+aHYMvK7aZwxsk1yruFIKAABXKiXgZ0nzKN+HJD+pfmh2DLyn2h0DWxVXSAEA4GqlBOxX7a16n5b8X/VDM8/wuZSAZsfAZsVfUQAAWCmLOwY+lZfrJ69MTq9+uGfyzZSAvZM7FX+hAACwJIs7Bt5Z7SfsdyTnVT88Kjk0JeAjyTo1cAoAAMuSEnB68qpqdwx8MhnV7Gt2DPxbtTsG3pKsVQOlAACwSlICfpU8vdodA9+ofrhu8vpqdwy8eIg7BhQAAMYiJeCnyT/n5UOTn1Y/3DR5b/LzlIAn1IAoAACMVUrA16vdMdBcFfhV9cN6yW4pAQcn96sBUAAAGLuUgIuTZi6g2THw6uSP1Q/3Sr6VEvClZMOaYwoAAJ1JCTg32anaHQPNzoG+7Bh4THJYSsCHk1vUHFIAAOhcSsAfkubeAc0VgU9Xf3YMPKfaHQNvnrcdAwoAABOTEvB/yVOrnRHYr/phzeQ/kmNTAl6UXLPmgAIAwMSlBPwkaZ4v0Dxn4NDqh5sl76t2x8Djq+cUAACmJiWgedLg3ZNnJr+ufrhD8oWUgO8l962eUgAAmKrFHQOfqPaOgttWf3YMbJJ8OyVgz2SD6hkFAICZsLhj4O3V7hh4V3J+9cMW1e4Y+GCydvWEAgDATFncMfDyvGw+VX+m+rFjoBkMfF61g4JvSq5XM04BAGAmpQT8cmFhYeu83DjZv/qh2TGwXbVF4AWzvGNAAQBgpqUE/Ch5UF4+Ijms+uHmyQeSI1ICtqwZpAAA0AspAfvmsFHyrOQ31Q/NYOPuKQEHJfepGaIAANAbC+2OgY9Xu7C+Njmj+qFZ/JsS8MVk/ZoBCgAAvZMScE6yQ7U7Bt5d/dkx8Ljk8JSAXZKb1xQpAAD0VkrA75OX5WXz5L7PVn92DDy/2kHBNyRr1hQoAAD0XkrA8cmT8/KeyYHVD81WwTdWWwSeP+kdAwoAAHMjJeCHyQPy8pHJ4dUPzc2Ddqn2q4HH1oQoAADMnZSAr+Rwt+TZyW+rH5rhwD1SAr6T3Ls6pgAAMJcWdwz8T7UP73ldcmb1w6bJd1MCmu2Dd6yOKAAAzLXFHQNvq3bHwHuSC6ofmhsIHZHcrzqgAADMvz5MxncuJeC05CXV7hj4fPVnx8DfVQeaAnBOjd+NC4Cl6urc2cV5vrdSAo5LnpSX90q+WQPVFICzavzWLQCWqqtzZxfn+d5LCTgk2TwvH13tpfZB6aoArFMALJUCMAUpAV+udsfAvyUn1kB0VQBWH41GNykAlkIBmJKUgIuSj1a7Y+D1NYB/Zl0VgIavAQCWRgGYspSAPyfbV7tj4H3Vnx0DS9YUgN9XNxQAgKXp6rzZ1Xl+bqUE/C7ZJi/vlOxWc6gpAEdXN2bicYcAfZCvTa+Vw21r/C5Kji+WJSXg2GSrvNwk+VbNkaYAHFXdeFQBsLI2r/bhMOP2yyxgc3sZe1Lyz/D7yf3zcovkyJoDTQHo6i+yWRrtDQuAlfGY6kZXV3kHKSVgrxz+IXluclL1WJdXAJq7Fz28AFgZCkBPLO4Y+EherpdsVz0dslwtf4kzqrsWs0UBcJVytXSjHG5d3ejqQ97gLe4YeEu1ReD91bMdA5c8C+Cg6sbDFgdbALhyXX36b3R1fmdRSsCpyYvz8s7J7tUTlxSAA6obNyhfAwBcqXxIWshhq+rGyVmYfl5MRP5ZH5M8IS/vnXynZlzXBaDxlrzBPXUQ4Io9pdpPjl3Yv5i4lICDk+YRvo+tGf4K5i8Lc/6gzU6AU6obd02eWgD8lXw4unYOb63uKABTlLX1SzncJXl+cnLNmBU/mR9Y3WmuAqxeAKzoRcltqjv/W0zV4o6BD1U7KPiG5OyaESsWgC4HF5rp1m0KgL/Ih6JmRurfqzs/ysJzQjET8rv4U/LmaovALsmFNV0Xr1gAmpsb/LG68zo3BgK41LbJjas7uxYzJyXglOSF1c59fLGm5zeXFoD8gc7L4XPVnRslH1uceAUYrJwHN8vhldWdZj/6/ytmVtbcXySPz8tNazpbNY+7/HT+J6pbzURklwMvADMti3/zwJ/mK9cu75Gyb/M0u2Lm5ff03eS+ebllTfaujYf+zX+TN+cvRt3bugAGJue+tZLDR917fNE7+b1dM3l+cvKoe3e7oj/AC0fdOye5VwEMRM55qyVfHnXv+OSaRW/l93e95I3J2aNuHHxlP/g6yYmj7p2U/H0BDEDOdzuPJuO5xVzI73LtZJfkgtH4nJfc86p+6CtGk9GUAFcCgLmVc9zqycdHk/GbUXtzIeZIfqfrJ3uMxmObq/thaya/G03GucnTCmDO5Nx28+S7o8l5STG38vvddBXeTxcnb1rZH/Sa0WTtOPLMAGBO5Hx29+RXo8lprqiuUcy9/J63TI5ewnvj9OTRS/kBzWWrY0aT1QzIdHljDIDO5Tz25ORPo8l6SjEYo3bHwOOTfZILr+Q90ezqe+movevk31i4mh/w0By+WpPV3I1wh+S/FhYWzi2Anhi1w1U7JZvVZB2Q8+UDi0HK++4mOdwxuVXSLPbHJ79Ifp33xaiWK//Hu42mo7l09syRrwWAGZfz1HrJ50fTcX6yYcG45Y11y+Ss0fT8LHlM0uVdswCWLOel2yTvGbWL8LS8rWAZVuq+/KP2zn2fqulqvhr4SrJn8tVc1jirACYs58ONqr2t+RbJRjVdhySb+bqU5VjpB/PkTd98L79tzYbmwUX7J3tX+z3HiclJ+Zegy6cZAgMyaq86rp2sk6yb3L/aRX9WbmDWnPc2znnvxIJlWEoBaL6L/1LyqJpd59RiGUh+XwBLs3pyi2oX/WawalafXtp84m8++R9SsExLenOnBKyVw/eqfY4xANOxdRb/zxSsgiVN2C9+7/6Y8ukaYFreZvFnHJZ1eStXAjbP4RuJJ04BTM5eyeNSAC4uWEXL2mOfN9+BOWxTAEzK4clTLf6MyyoNuORKwPtzeGEB0KXTkntm8f9lwZis6l32midPfaAA6Mqvkwdb/Bm3sWxxyZWA5+fw3jITADBOza6r5jv/UwrGbGx7XBcHA7+QeJofwKr7RPK8LP7nFXRgbA/aWRwMbJ6EdUQBsFzNkN+rc059psWfLo39LleLNwtq9qjO8h0DAWZRc6+VJ2fh36egY2N/1O7izYKa+2XvWACsrOYZ7ve2+DMpnd7nevEpgh9MrlcAXJn9kn/J4u8uq0zM2K8ArChv5k/nsGG1w4EA/LWTk6flXPkQiz+TNrEnXeVqwENzeF+yXgEM20VJcyO17bLwn1EwBRN91GVKQPOozZclr6j2UZsAQ/OV5HVZ+H9WMEVTedZ1isCaOTQ3D2qKwC0KYL6Nkj2S7bPw/7hgBkylAFwiReA6Ofxr8tLkDgUwX85Ndkt2yML/84IZMtUCsKKUgXvn8IzkSckNC6C/Dkp2TT7nO35m1cwUgEsszgk8Jnl8snly8wKYbRcmhyRfSz6VRf+4ghk3cwXg8lIImm2ED1jMpmVmAJi+5tL+ockByYHJd7Lon13QIzNfAC4vheAGOWxQ7f0FmuP61T6AaK3LZY0CWJpme95ZV5ATkiOToxZzQhb8iwsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIDl+P/3q1l9Y1aLdwAAAABJRU5ErkJggg==",alt:"camera"}),r["live-stream"][n]]}),(0,Me.jsxs)("a",{className:"main-link",href:Fe,children:[(0,Me.jsx)("img",{src:Ne,alt:"booklet"}),r.booklet[n]]})]})]})]}),(0,Me.jsx)("section",{className:"sic-presentation",children:(0,Me.jsxs)("div",{className:"poster",children:[(0,Me.jsx)("img",{src:"EN"===n?ze:je,alt:r["event-poster"][n]}),(0,Me.jsx)(_e,{className:"our-chart-link",to:r["our-chart-link"].to,children:r["our-chart-link"][n]}),(0,Me.jsx)(_e,{className:"event-schedule-link",to:r["event-schedule-link"].to,children:r["event-schedule-link"][n]}),(0,Me.jsx)(_e,{className:"event-activities-link",to:r["event-activities-link"].to,children:r["event-activities-link"][n]}),(0,Me.jsx)(_e,{className:"event-challenge-link",to:r["event-challenge-link"].to,children:r["event-challenge-link"][n]})]})}),(0,Me.jsxs)("section",{className:"partners",children:[(0,Me.jsx)("hr",{}),(0,Me.jsxs)("h2",{children:[" ",r["principal-partners"][n]," "]}),(0,Me.jsx)("div",{className:"gallery",children:He.map((e=>(0,Me.jsx)("a",{href:e.link,children:(0,Me.jsx)("img",{src:e.logo,alt:e.name})},"principal partner"+e.name)))}),(0,Me.jsxs)("h2",{children:[" ",r["partner-other"][n]," "]}),(0,Me.jsx)("div",{className:"gallery",children:Ge.map((e=>(0,Me.jsx)("a",{href:e.link,children:(0,Me.jsx)("img",{src:e.logo,alt:e.name})},"partner"+e.name)))}),(0,Me.jsxs)("h2",{children:[" ",r["partner-association"][n]," "]}),(0,Me.jsx)("div",{className:"gallery",children:Ze.map((e=>(0,Me.jsx)("a",{href:e.link,children:(0,Me.jsx)("img",{src:e.logo,alt:e.name})},"sponsor"+e.name)))})]}),(0,Me.jsx)(Ie,{saveAndChangeLang:s,lang:n})]})},et=n.p+"static/media/person_linkedin.cf6e0f1e7f20f65cee47.png",tt=n.p+"static/media/person_link.7a0314692013673634a8.png",nt=n.p+"static/media/default_user.01ea793213b0728e3892.png";const it=function(e){let{lang:t,profileData:n}=e;return(0,Me.jsxs)("div",{className:"profile-block",children:[(0,Me.jsx)("img",{alt:"profile",src:n["profile-picture"]||nt}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:n.name}),(0,Me.jsx)("br",{}),n.role[t]]}),(0,Me.jsxs)("div",{className:"profile-links",children:[n.people_epfl&&(0,Me.jsx)("a",{href:n.people_epfl,children:(0,Me.jsx)("img",{alt:"external link icon",src:tt})}),n.linkedin&&(0,Me.jsx)("a",{href:n.linkedin,children:(0,Me.jsx)("img",{alt:"linkedin icon",src:et})})]})]})},st=n.p+"static/media/ecenaz.436f5ec00be2a6890241.png",at=n.p+"static/media/leo.32b3b7d405da51df695e.png",rt=n.p+"static/media/selin.4b59e760e20f7323fd4d.png",ot=n.p+"static/media/isaure.18e2e581dfd082809189.png",lt=n.p+"static/media/hadrien.420985ae27a665837ed4.png",ct=n.p+"static/media/cyril.23ca97a057a4a7356275.png",dt=n.p+"static/media/basile.728547be9c40c6c3d3fe.png",ut=n.p+"static/media/stelios.57af46cc7aaa0e654aa3.png",ht=[{"category-name":{FR:"Pr\xe9sidence",EN:"Presidency"},"category-members":[{name:"Victor Pennacino","profile-picture":n.p+"static/media/victor.fc3e82c7ce873d1e25dd.png",role:{FR:"Pr\xe9sident",EN:"President"},linkedin:"https://www.linkedin.com/in/victor-pennacino/",people_epfl:"https://people.epfl.ch/victor.pennacino"}]},{"category-name":{FR:"Equipe comp\xe9tition",EN:"Competition Team"},"category-members":[{name:"Cyril Barthelet","profile-picture":ct,role:{FR:"Chef d'\xe9quipe",EN:"Team Leader"},linkedin:"https://www.linkedin.com/in/cyril-barthelet/",people_epfl:"https://people.epfl.ch/cyril.barthelet"},{name:"Hadrien Legros","profile-picture":lt,role:{FR:"Chef d'\xe9quipe",EN:"Team Leader"},linkedin:"https://www.linkedin.com/in/hadrien-legros/",people_epfl:"https://people.epfl.ch/hadrien.legros"},{name:"Nathan Heiniger","profile-picture":null,role:{FR:"Tr\xe9sorier - Charte de durabilit\xe9",EN:"Treasurer - Sustainability charter"},linkedin:"https://www.linkedin.com/in/nathan-heiniger-84298a330/",people_epfl:"https://people.epfl.ch/nathan.heiniger"},{name:"Isaure Imberton","profile-picture":ot,role:{FR:"Contact mentor",EN:"Mentor outreach"},linkedin:"https://www.linkedin.com/in/isaure-imberton-6b45761bb/",people_epfl:"https://people.epfl.ch/isaure.imberton"},{name:"Selin Kandiyoti","profile-picture":rt,role:{FR:"Charte de durabilit\xe9",EN:"Sustainability charter"},linkedin:"https://www.linkedin.com/in/passiontomaketheworldabetterplace/",people_epfl:"https://people.epfl.ch/selin.kandiyotieskenazi"},{name:"Stelios Lemos","profile-picture":ut,role:{FR:"Contact universit\xe9",EN:"University outreach"},linkedin:"https://www.linkedin.com/in/stelioslemos/",people_epfl:"https://people.epfl.ch/stelios.lemos"},{name:"Laur\xe8ne Tribolet","profile-picture":n.p+"static/media/laurene.c3a1ebd55fab7c9e5d3f.png",role:{FR:"Contact jury",EN:"Jury outreach"},linkedin:"https://www.linkedin.com/in/laurene-tribolet/?original_referer=https://www.google.com/&originalSubdomain=ch",people_epfl:"https://people.epfl.ch/laurene.tribolet"}]},{"category-name":{FR:"Equipe expo",EN:"Expo Team"},"category-members":[{name:"Ilaria Rossinelli","profile-picture":null,role:{FR:"Cheffe d'\xe9quipe",EN:"Team Leader"},linkedin:"",people_epfl:"https://people.epfl.ch/ilaria.rossinelli"},{name:"Aymeric De Chillaz","profile-picture":null,role:{FR:"Chef d'\xe9quipe",EN:"Team Leader"},linkedin:"https://www.linkedin.com/in/aymeric-de-chillaz-7478801a5/",people_epfl:"https://people.epfl.ch/aymeric.dechillaz"},{name:"William Oh","profile-picture":null,role:{FR:"Contact entreprises",EN:"Company outreach"},linkedin:"https://www.linkedin.com/in/william-oh-/",people_epfl:"https://people.epfl.ch/william.oh"},{name:"Alexander Odermatt","profile-picture":null,role:{FR:"Contact laboratoires",EN:"Laboratory outreach"},linkedin:"https://www.linkedin.com/in/alexander-odermatt-87b450234/",people_epfl:"https://people.epfl.ch/alexander.odermatt"},{name:"Arthur Removille","profile-picture":null,role:{FR:"Secr\xe9taire - Intervenants & tables rondes",EN:"Secretary - Speakers & panels"},linkedin:"https://www.linkedin.com/in/arthur-removille-48688931a/",people_epfl:"https://people.epfl.ch/arthur.removille"},{name:"Pablo Palle","profile-picture":null,role:{FR:"Contact entreprises",EN:"Company outreach"},linkedin:"https://www.linkedin.com/in/pablo-palle-b02835256/",people_epfl:"https://people.epfl.ch/pablo.palle"},{name:"Dimitri Wybaillie","profile-picture":null,role:{FR:"Contact entreprises",EN:"Company outreach"},linkedin:"https://www.linkedin.com/in/dimitri-wybaillie-159ba2264/",people_epfl:"https://people.epfl.ch/dimitri.wybaillie"},{name:"Leo Meier","profile-picture":at,role:{FR:"Tr\xe9sorier - Intervenants & tables rondes",EN:"Treasurer - Speakers & panels"},linkedin:"",people_epfl:"https://people.epfl.ch/louise.meier"},{name:"Basile Costes","profile-picture":dt,role:{FR:"Contact entreprises",EN:"Company outreach"},linkedin:"https://www.linkedin.com/in/basile-costes-5087b2180/",people_epfl:"https://people.epfl.ch/basile.costes"}]},{"category-name":{FR:"Equipe communication",EN:"Communication Team"},"category-members":[{name:"Ecenaz Ozkorkut","profile-picture":st,role:{FR:"Cheffe d'\xe9quipe - Identit\xe9 graphique",EN:"Team Leader - Graphical identity"},linkedin:"https://www.linkedin.com/in/ecenaz-%C3%B6zkorkut-4ab507329/",people_epfl:"https://people.epfl.ch/ecenaz.ozkorkut"},{name:"Killian Hinard","profile-picture":null,role:{FR:"Webmaster",EN:"Webmaster"},linkedin:"",people_epfl:"https://people.epfl.ch/killian.hinard"},{name:"Elo\xefse Pennacino","profile-picture":null,role:{FR:"Graphismes",EN:"Graphismes"},linkedin:"",people_epfl:"https://people.epfl.ch/eloise.pennacino"}]},{"category-name":{FR:"Autre",EN:"Other"},"category-members":[{name:"Joris Zufferey","profile-picture":null,role:{FR:"Contact Mediacom",EN:"Mediacom contact"},linkedin:"https://www.linkedin.com/in/joriszufferey/",people_epfl:"https://people.epfl.ch/joris.zufferey"}]}];const pt=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,a.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}return(0,a.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"membres":"members")+" | EPFL Sustainable Innovation Challenge"}),[]),(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsx)("main",{children:ht.map((e=>(0,Me.jsxs)("div",{className:"profile-per-category",children:[(0,Me.jsxs)("div",{className:"category-header",children:[(0,Me.jsx)("div",{className:"stripes"}),(0,Me.jsxs)("h2",{children:[" ",e["category-name"][n]," "]}),(0,Me.jsx)("div",{className:"stripes"})]}),(0,Me.jsx)("div",{className:"profile-gallery",children:e["category-members"].map(((e,t)=>(0,Me.jsx)(it,{lang:n,profileData:e},`${t}${n}`)))})]},`category-div-${e["category-name"][n]}`)))})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})})};var ft={d:(e,t)=>{for(var n in t)ft.o(t,n)&&!ft.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},gt=globalThis.pdfjsLib={};ft.d(gt,{AbortException:()=>Tn,AnnotationEditorLayer:()=>Tr,AnnotationEditorParamsType:()=>Pt,AnnotationEditorType:()=>Tt,AnnotationEditorUIManager:()=>Mi,AnnotationLayer:()=>mr,AnnotationMode:()=>_t,CMapCompressionType:()=>cn,ColorPicker:()=>Er,DOMSVGFactory:()=>si,DrawLayer:()=>Pr,FeatureTest:()=>Rn,GlobalWorkerOptions:()=>ws,ImageKind:()=>Ot,InvalidPDFException:()=>En,MissingPDFException:()=>Sn,OPS:()=>dn,Outliner:()=>br,PDFDataRangeTransport:()=>ka,PDFDateString:()=>mi,PDFWorker:()=>Ta,PasswordResponses:()=>un,PermissionFlag:()=>Mt,PixelsPerInch:()=>ei,RenderingCancelledException:()=>ri,TextLayer:()=>ua,UnexpectedResponseException:()=>Cn,Util:()=>In,VerbosityLevel:()=>ln,XfaLayer:()=>ja,build:()=>Fa,createValidAbsoluteUrl:()=>bn,fetchData:()=>ti,getDocument:()=>ya,getFilenameFromUrl:()=>ci,getPdfFilenameFromUrl:()=>di,getXfaPageViewport:()=>vi,isDataScheme:()=>oi,isPdfFile:()=>li,noContextMenu:()=>pi,normalizeUnicode:()=>On,renderTextLayer:()=>ha,setLayerDimensions:()=>wi,shadow:()=>yn,updateTextLayer:()=>pa,version:()=>Ia});const mt="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),vt=[1,0,0,1,0,0],At=[.001,0,0,.001,0,0],bt=1.35,yt=1,wt=2,xt=4,kt=16,Et=32,St=64,Ct=256,_t={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Tt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Pt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Mt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Lt=0,Rt=1,Dt=2,It=3,Ft=3,Nt=4,Ot={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},zt=1,jt=2,Bt=3,Ht=4,Ut=5,Wt=6,Vt=7,qt=8,Gt=9,Xt=10,Kt=11,Yt=12,Qt=13,$t=14,Zt=15,Jt=16,en=17,tn=20,nn=1,sn=2,an=3,rn=4,on=5,ln={ERRORS:0,WARNINGS:1,INFOS:5},cn={NONE:0,BINARY:1},dn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},un={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let hn=ln.WARNINGS;function pn(e){Number.isInteger(e)&&(hn=e)}function fn(){return hn}function gn(e){hn>=ln.INFOS&&console.log(`Info: ${e}`)}function mn(e){hn>=ln.WARNINGS&&console.log(`Warning: ${e}`)}function vn(e){throw new Error(e)}function An(e,t){e||vn(t)}function bn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);t?.length>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch{}}const i=t?new URL(e,t):new URL(e);if(function(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch{}return null}function yn(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const wn=function(){function e(t,n){this.constructor===e&&vn("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class xn extends wn{constructor(e,t){super(e,"PasswordException"),this.code=t}}class kn extends wn{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class En extends wn{constructor(e){super(e,"InvalidPDFException")}}class Sn extends wn{constructor(e){super(e,"MissingPDFException")}}class Cn extends wn{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class _n extends wn{constructor(e){super(e,"FormatError")}}class Tn extends wn{constructor(e){super(e,"AbortException")}}function Pn(e){"object"===typeof e&&void 0!==e?.length||vn("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const i=[];for(let s=0;s<t;s+=n){const a=Math.min(s+n,t),r=e.subarray(s,a);i.push(String.fromCharCode.apply(null,r))}return i.join("")}function Mn(e){"string"!==typeof e&&vn("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let i=0;i<t;++i)n[i]=255&e.charCodeAt(i);return n}function Ln(e){const t=Object.create(null);for(const[n,i]of e)t[n]=i;return t}class Rn{static get isLittleEndian(){return yn(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return yn(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return yn(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){return"undefined"!==typeof navigator&&"string"===typeof navigator?.platform?yn(this,"platform",{isMac:navigator.platform.includes("Mac")}):yn(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return yn(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Dn=Array.from(Array(256).keys(),(e=>e.toString(16).padStart(2,"0")));class In{static makeHexColor(e,t,n){return`#${Dn[e]}${Dn[t]}${Dn[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],i[0],s[0],a[0]),Math.min(n[1],i[1],s[1],a[1]),Math.max(n[0],i[0],s[0],a[0]),Math.max(n[1],i[1],s[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],r=(n+a)/2,o=Math.sqrt((n+a)**2-4*(n*a-s*i))/2,l=r+o||1,c=r-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[n,s,i,a]}static#e(e,t,n,i,s,a,r,o,l,c){if(l<=0||l>=1)return;const d=1-l,u=l*l,h=u*l,p=d*(d*(d*e+3*l*t)+3*u*n)+h*i,f=d*(d*(d*s+3*l*a)+3*u*r)+h*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],f),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],f)}static#t(e,t,n,i,s,a,r,o,l,c,d,u){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&this.#e(e,t,n,i,s,a,r,o,-d/c,u));const h=c**2-4*d*l;if(h<0)return;const p=Math.sqrt(h),f=2*l;this.#e(e,t,n,i,s,a,r,o,(-c+p)/f,u),this.#e(e,t,n,i,s,a,r,o,(-c-p)/f,u)}static bezierBoundingBox(e,t,n,i,s,a,r,o,l){return l?(l[0]=Math.min(l[0],e,r),l[1]=Math.min(l[1],t,o),l[2]=Math.max(l[2],e,r),l[3]=Math.max(l[3],t,o)):l=[Math.min(e,r),Math.min(t,o),Math.max(e,r),Math.max(t,o)],this.#t(e,n,s,r,t,i,a,o,3*(3*(n-s)-e+r),6*(e-2*n+s),3*(n-e),l),this.#t(e,n,s,r,t,i,a,o,3*(3*(i-a)-t+o),6*(t-2*i+a),3*(i-t),l),l}}let Fn=null,Nn=null;function On(e){return Fn||(Fn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Nn=new Map([["\ufb05","\u017ft"]])),e.replaceAll(Fn,((e,t,n)=>t?t.normalize("NFKC"):Nn.get(n)))}const zn="pdfjs_internal_id_",jn=0,Bn=1,Hn=2,Un=3,Wn=4,Vn=5,qn=6,Gn=7,Xn=8;class Kn{constructor(){this.constructor===Kn&&vn("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,s){return"none"}destroy(){}}class Yn{#n=!1;constructor(){let{enableHWA:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.constructor===Yn&&vn("Cannot initialize BaseCanvasFactory."),this.#n=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#n})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){vn("Abstract method `_createCanvas` called.")}}class Qn{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.constructor===Qn&&vn("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":""),i=this.isCompressed?cn.BINARY:cn.NONE;return this._fetchData(n,i).catch((e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)}))}_fetchData(e,t){vn("Abstract method `_fetchData` called.")}}class $n{constructor(e){let{baseUrl:t=null}=e;this.constructor===$n&&vn("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetchData(n).catch((e=>{throw new Error(`Unable to load font data at: ${n}`)}))}_fetchData(e){vn("Abstract method `_fetchData` called.")}}class Zn{constructor(){this.constructor===Zn&&vn("Cannot initialize BaseSVGFactory.")}create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){vn("Abstract method `_createSVG` called.")}}const Jn="http://www.w3.org/2000/svg";class ei{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=(()=>this.CSS/this.PDF)()}async function ti(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(hi(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,i)=>{const s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE)if(200!==s.status&&0!==s.status)i(new Error(s.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(s.response)}n(s.responseText)}},s.send(null)}))}class ni extends Qn{_fetchData(e,t){return ti(e,this.isCompressed?"arraybuffer":"text").then((e=>({cMapData:e instanceof ArrayBuffer?new Uint8Array(e):Mn(e),compressionType:t})))}}class ii extends $n{_fetchData(e){return ti(e,"arraybuffer").then((e=>new Uint8Array(e)))}}class si extends Zn{_createSVG(e){return document.createElementNS(Jn,e)}}class ai{constructor(e){let{viewBox:t,scale:n,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:r=!1}=e;this.viewBox=t,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=a;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,d,u,h,p,f,g,m;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,d=0,u=0,h=1;break;case 90:c=0,d=1,u=1,h=0;break;case 270:c=0,d=-1,u=-1,h=0;break;case 0:c=1,d=0,u=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}r&&(u=-u,h=-h),0===c?(p=Math.abs(l-t[1])*n+s,f=Math.abs(o-t[0])*n+a,g=(t[3]-t[1])*n,m=(t[2]-t[0])*n):(p=Math.abs(o-t[0])*n+s,f=Math.abs(l-t[1])*n+a,g=(t[2]-t[0])*n,m=(t[3]-t[1])*n),this.transform=[c*n,d*n,u*n,h*n,p-c*n*o-u*n*l,f-d*n*o-h*n*l],this.width=g,this.height=m}get rawDims(){const{viewBox:e}=this;return yn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ai({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return In.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=In.applyTransform([e[0],e[1]],this.transform),n=In.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return In.applyInverseTransform([e,t],this.transform)}}class ri extends wn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function oi(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function li(e){return"string"===typeof e&&/\.pdf$/i.test(e)}function ci(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function di(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(oi(e))return mn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let s=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||t}class ui{started=(()=>Object.create(null))();times=[];time(e){e in this.started&&mn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||mn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-i}ms\n`);return e.join("")}}function hi(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch{return!1}}function pi(e){e.preventDefault()}function fi(e){console.log("Deprecated API usage: "+e)}let gi;class mi{static toDateObject(e){if(!e||"string"!==typeof e)return null;gi||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=gi.exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let r=parseInt(t[5],10);r=r>=0&&r<=59?r:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(a+=c,r+=d):"+"===l&&(a-=c,r-=d),new Date(Date.UTC(n,i,s,a,r,o))}}function vi(e,t){let{scale:n=1,rotation:i=0}=t;const{width:s,height:a}=e.attributes.style,r=[0,0,parseInt(s),parseInt(a)];return new ai({viewBox:r,scale:n,rotation:i})}function Ai(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):(mn(`Not a valid color format: "${e}"`),[0,0,0])}function bi(e){const{a:t,b:n,c:i,d:s,e:a,f:r}=e.getTransform();return[t,n,i,s,a,r]}function yi(e){const{a:t,b:n,c:i,d:s,e:a,f:r}=e.getTransform().invertSelf();return[t,n,i,s,a,r]}function wi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof ai){const{pageWidth:i,pageHeight:s}=t.rawDims,{style:a}=e,r=Rn.isCSSRoundSupported,o=`var(--scale-factor) * ${i}px`,l=`var(--scale-factor) * ${s}px`,c=r?`round(${o}, 1px)`:`calc(${o})`,d=r?`round(${l}, 1px)`:`calc(${l})`;n&&t.rotation%180!==0?(a.width=d,a.height=c):(a.width=c,a.height=d)}i&&e.setAttribute("data-main-rotation",t.rotation)}class xi{#i=null;#s=null;#a;#r=null;constructor(e){this.#a=e}render(){const e=this.#i=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#a._uiManager._signal;e.addEventListener("contextmenu",pi,{signal:t}),e.addEventListener("pointerdown",xi.#o,{signal:t});const n=this.#r=document.createElement("div");n.className="buttons",e.append(n);const i=this.#a.toolbarPosition;if(i){const{style:t}=e,n="ltr"===this.#a._uiManager.direction?1-i[0]:i[0];t.insetInlineEnd=100*n+"%",t.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return this.#l(),e}static#o(e){e.stopPropagation()}#c(e){this.#a._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#d(e){this.#a._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#u(e){const t=this.#a._uiManager._signal;e.addEventListener("focusin",this.#c.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",pi,{signal:t})}hide(){this.#i.classList.add("hidden"),this.#s?.hideDropdown()}show(){this.#i.classList.remove("hidden")}#l(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#a.editorType}-button`),this.#u(e),e.addEventListener("click",(e=>{this.#a._uiManager.delete()}),{signal:this.#a._uiManager._signal}),this.#r.append(e)}get#h(){const e=document.createElement("div");return e.className="divider",e}addAltTextButton(e){this.#u(e),this.#r.prepend(e,this.#h)}addColorPicker(e){this.#s=e;const t=e.renderButton();this.#u(t),this.#r.prepend(t,this.#h)}remove(){this.#i.remove(),this.#s?.destroy(),this.#s=null}}class ki{#r=null;#i=null;#p;constructor(e){this.#p=e}#f(){const e=this.#i=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",pi,{signal:this.#p._signal});const t=this.#r=document.createElement("div");return t.className="buttons",e.append(t),this.#g(),e}#m(e,t){let n=0,i=0;for(const s of e){const e=s.y+s.height;if(e<n)continue;const a=s.x+(t?s.width:0);e>n?(i=a,n=e):t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,n]}show(e,t,n){const[i,s]=this.#m(t,n),{style:a}=this.#i||=this.#f();e.append(this.#i),a.insetInlineEnd=100*i+"%",a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#i.remove()}#g(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#p._signal;e.addEventListener("contextmenu",pi,{signal:n}),e.addEventListener("click",(()=>{this.#p.highlightSelection("floating_button")}),{signal:n}),this.#r.append(e)}}function Ei(e,t,n){for(const i of n)t.addEventListener(i,e[i].bind(e))}class Si{#v=0;get id(){return"pdfjs_internal_editor_"+this.#v++}}class Ci{#A=(()=>function(){if("undefined"!==typeof crypto&&"function"===typeof crypto?.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof crypto?.getRandomValues)crypto.getRandomValues(e);else for(let t=0;t<32;t++)e[t]=Math.floor(255*Math.random());return Pn(e)}())();#v=0;#b=null;static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return yn(this,"_isSVGFittingCanvas",t.decode().then((()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]))))}async#y(e,t){this.#b||=new Map;let n=this.#b.get(e);if(null===n)return null;if(n?.bitmap)return n.refCounter+=1,n;try{let e;if(n||={bitmap:null,id:`image_${this.#A}_${this.#v++}`,refCounter:0,isSvg:!1},"string"===typeof t?(n.url=t,e=await ti(t,"blob")):e=n.file=t,"image/svg+xml"===e.type){const t=Ci._isSVGFittingCanvas,i=new FileReader,s=new Image,a=new Promise(((e,a)=>{s.onload=()=>{n.bitmap=s,n.isSvg=!0,e()},i.onload=async()=>{const e=n.svgUrl=i.result;s.src=await t?`${e}#svgView(preserveAspectRatio(none))`:e},s.onerror=i.onerror=a}));i.readAsDataURL(e),await a}else n.bitmap=await createImageBitmap(e);n.refCounter=1}catch(i){console.error(i),n=null}return this.#b.set(e,n),n&&this.#b.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:i,type:s}=e;return this.#y(`${t}_${n}_${i}_${s}`,e)}async getFromUrl(e){return this.#y(e,e)}async getFromId(e){this.#b||=new Map;const t=this.#b.get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=this.#b.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#b||=new Map;const t=this.#b.get(e);t&&(t.refCounter-=1,0===t.refCounter&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${this.#A}_`)}}class _i{#w=[];#x=!1;#k;#E=-1;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;this.#k=e}add(e){let{cmd:t,undo:n,post:i,mustExec:s,type:a=NaN,overwriteIfSameType:r=!1,keepUndo:o=!1}=e;if(s&&t(),this.#x)return;const l={cmd:t,undo:n,post:i,type:a};if(-1===this.#E)return this.#w.length>0&&(this.#w.length=0),this.#E=0,void this.#w.push(l);if(r&&this.#w[this.#E].type===a)return o&&(l.undo=this.#w[this.#E].undo),void(this.#w[this.#E]=l);const c=this.#E+1;c===this.#k?this.#w.splice(0,1):(this.#E=c,c<this.#w.length&&this.#w.splice(c)),this.#w.push(l)}undo(){if(-1===this.#E)return;this.#x=!0;const{undo:e,post:t}=this.#w[this.#E];e(),t?.(),this.#x=!1,this.#E-=1}redo(){if(this.#E<this.#w.length-1){this.#E+=1,this.#x=!0;const{cmd:e,post:t}=this.#w[this.#E];e(),t?.(),this.#x=!1}}hasSomethingToUndo(){return-1!==this.#E}hasSomethingToRedo(){return this.#E<this.#w.length-1}destroy(){this.#w=null}}class Ti{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Rn.platform;for(const[n,i,s={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:i,options:s}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:i,options:s}),this.allKeys.add(e.split("+").at(-1)))}}#S(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#S(t));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:r=null}}=n;r&&!r(e,t)||(i.bind(e,...a,t)(),s||(t.stopPropagation(),t.preventDefault()))}}class Pi{static _colorsMapping=(()=>new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]))();get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const i=window.getComputedStyle(t).color;e.set(n,Ai(i))}t.remove()}(e),yn(this,"_colors",e)}convert(e){const t=Ai(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every(((e,n)=>e===t[n])))return Pi._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?In.makeHexColor(...t):e}}class Mi{#C=(()=>new AbortController)();#_=null;#T=(()=>new Map)();#P=(()=>new Map)();#M=null;#L=null;#R=null;#D=(()=>new _i)();#I=0;#F=(()=>new Set)();#N=null;#O=null;#z=(()=>new Set)();#j=!1;#B=null;#H=null;#U=null;#W=!1;#V=null;#q=(()=>new Si)();#G=!1;#X=!1;#K=null;#Y=null;#Q=null;#$=(()=>Tt.NONE)();#Z=(()=>new Set)();#J=null;#ee=null;#te=null;#ne=this.blur.bind(this);#ie=this.focus.bind(this);#se=this.copy.bind(this);#ae=this.cut.bind(this);#re=this.paste.bind(this);#oe=this.keydown.bind(this);#le=this.keyup.bind(this);#ce=this.onEditingAction.bind(this);#de=this.onPageChanging.bind(this);#ue=this.onScaleChanging.bind(this);#he=this.onRotationChanging.bind(this);#pe={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#fe=[0,0];#ge=null;#me=null;#ve=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Mi.prototype,t=e=>e.#me.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,t)=>{let{target:n}=t;if(n instanceof HTMLInputElement){const{type:e}=n;return"text"!==e&&"number"!==e}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return yn(this,"_keyboardManager",new Ti([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&e.#me.contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&e.#me.contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,n,i,s,a,r,o,l){this._signal=this.#C.signal,this.#me=e,this.#ve=t,this.#M=n,this._eventBus=i,this._eventBus._on("editingaction",this.#ce),this._eventBus._on("pagechanging",this.#de),this._eventBus._on("scalechanging",this.#ue),this._eventBus._on("rotationchanging",this.#he),this.#Ae(),this.#be(),this.#ye(),this.#L=s.annotationStorage,this.#B=s.filterFactory,this.#ee=a,this.#U=r||null,this.#j=o,this.#Q=l||null,this.viewParameters={realScale:ei.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#C?.abort(),this.#C=null,this._signal=null,this._eventBus._off("editingaction",this.#ce),this._eventBus._off("pagechanging",this.#de),this._eventBus._off("scalechanging",this.#ue),this._eventBus._off("rotationchanging",this.#he);for(const e of this.#P.values())e.destroy();this.#P.clear(),this.#T.clear(),this.#z.clear(),this.#_=null,this.#Z.clear(),this.#D.destroy(),this.#M?.destroy(),this.#V?.hide(),this.#V=null,this.#H&&(clearTimeout(this.#H),this.#H=null),this.#ge&&(clearTimeout(this.#ge),this.#ge=null)}async mlGuess(e){return this.#Q?.guess(e)||null}get hasMLManager(){return!!this.#Q}get hcmFilter(){return yn(this,"hcmFilter",this.#ee?this.#B.addHCMFilter(this.#ee.foreground,this.#ee.background):"none")}get direction(){return yn(this,"direction",getComputedStyle(this.#me).direction)}get highlightColors(){return yn(this,"highlightColors",this.#U?new Map(this.#U.split(",").map((e=>e.split("=").map((e=>e.trim()))))):null)}get highlightColorNames(){return yn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(e=>e.reverse()))):null)}setMainHighlightColorPicker(e){this.#Y=e}editAltText(e){this.#M?.editAltText(this,e)}onPageChanging(e){let{pageNumber:t}=e;this.#I=t-1}focusMainContainer(){this.#me.focus()}findParent(e,t){for(const n of this.#P.values()){const{x:i,y:s,width:a,height:r}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+r)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#ve.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#z.add(e)}removeShouldRescale(e){this.#z.delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*ei.PDF_TO_CSS_UNITS;for(const n of this.#z)n.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}#we(e){let{anchorNode:t}=e;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}highlightSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a}=t,r=t.toString(),o=this.#we(t).closest(".textLayer"),l=this.getSelectionBoxes(o);if(l){t.empty(),this.#$===Tt.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Tt.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const t of this.#P.values())if(t.hasTextLayer(o)){t.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a,text:r});break}}}#xe(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=this.#we(e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(this.#V||=new ki(this),this.#V.show(t,n,"ltr"===this.direction))}addToAnnotationStorage(e){e.isEmpty()||!this.#L||this.#L.has(e.id)||this.#L.setValue(e.id,e)}#ke(){const e=document.getSelection();if(!e||e.isCollapsed)return void(this.#J&&(this.#V?.hide(),this.#J=null,this.#Ee({hasSelectedText:!1})));const{anchorNode:t}=e;if(t===this.#J)return;if(this.#we(e).closest(".textLayer")){if(this.#V?.hide(),this.#J=t,this.#Ee({hasSelectedText:!0}),(this.#$===Tt.HIGHLIGHT||this.#$===Tt.NONE)&&(this.#$===Tt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#W=this.isShiftKeyDown,!this.isShiftKeyDown)){const e=this._signal,t=e=>{"pointerup"===e.type&&0!==e.button||(window.removeEventListener("pointerup",t),window.removeEventListener("blur",t),"pointerup"===e.type&&this.#Se("main_toolbar"))};window.addEventListener("pointerup",t,{signal:e}),window.addEventListener("blur",t,{signal:e})}}else this.#J&&(this.#V?.hide(),this.#J=null,this.#Ee({hasSelectedText:!1}))}#Se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.#$===Tt.HIGHLIGHT?this.highlightSelection(e):this.#j&&this.#xe()}#Ae(){document.addEventListener("selectionchange",this.#ke.bind(this),{signal:this._signal})}#Ce(){const e=this._signal;window.addEventListener("focus",this.#ie,{signal:e}),window.addEventListener("blur",this.#ne,{signal:e})}#_e(){window.removeEventListener("focus",this.#ie),window.removeEventListener("blur",this.#ne)}blur(){if(this.isShiftKeyDown=!1,this.#W&&(this.#W=!1,this.#Se("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#Z)if(t.div.contains(e)){this.#K=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#K)return;const[e,t]=this.#K;this.#K=null,t.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),t.focus()}#ye(){const e=this._signal;window.addEventListener("keydown",this.#oe,{signal:e}),window.addEventListener("keyup",this.#le,{signal:e})}#Te(){window.removeEventListener("keydown",this.#oe),window.removeEventListener("keyup",this.#le)}#Pe(){const e=this._signal;document.addEventListener("copy",this.#se,{signal:e}),document.addEventListener("cut",this.#ae,{signal:e}),document.addEventListener("paste",this.#re,{signal:e})}#Me(){document.removeEventListener("copy",this.#se),document.removeEventListener("cut",this.#ae),document.removeEventListener("paste",this.#re)}#be(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#ye(),this.#Pe()}removeEditListeners(){this.#Te(),this.#Me()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#O)if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#O)if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){if(e.preventDefault(),this.#_?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#Z){const e=n.serialize(!0);e&&t.push(e)}0!==t.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const e of this.#O)if(e.isHandlingMimeForPasting(a.type))return void e.paste(a,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){return void mn(`paste: "${s.message}".`)}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const e=[];for(const a of n){const t=i.deserialize(a);if(!t)return;e.push(t)}const t=()=>{for(const t of e)this.#Le(t);this.#Re(e)},s=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:s,mustExec:!0})}catch(s){mn(`paste: "${s.message}".`)}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),this.#$===Tt.NONE||this.isEditorHandlingKeyboard||Mi._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,this.#W&&(this.#W=!1,this.#Se("main_toolbar")))}onEditingAction(e){let{name:t}=e;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu")}}#Ee(e){Object.entries(e).some((e=>{let[t,n]=e;return this.#pe[t]!==n}))&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#pe,e)}),this.#$===Tt.HIGHLIGHT&&!1===e.hasSelectedEditor&&this.#De([[Pt.HIGHLIGHT_FREE,!0]]))}#De(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#Ce(),this.#Pe(),this.#Ee({isEditing:this.#$!==Tt.NONE,isEmpty:this.#Ie(),hasSomethingToUndo:this.#D.hasSomethingToUndo(),hasSomethingToRedo:this.#D.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#_e(),this.#Me(),this.#Ee({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#O){this.#O=e;for(const e of this.#O)this.#De(e.defaultPropertiesToUpdate)}}getId(){return this.#q.id}get currentLayer(){return this.#P.get(this.#I)}getLayer(e){return this.#P.get(e)}get currentPageIndex(){return this.#I}addLayer(e){this.#P.set(e.pageIndex,e),this.#G?e.enable():e.disable()}removeLayer(e){this.#P.delete(e.pageIndex)}updateMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.#$!==e){if(this.#$=e,e===Tt.NONE)return this.setEditingState(!1),void this.#Fe();this.setEditingState(!0),this.#Ne(),this.unselectAll();for(const t of this.#P.values())t.updateMode(e);if(t||!n){if(t)for(const e of this.#T.values())if(e.annotationElementId===t){this.setSelected(e),e.enterInEditMode();break}}else this.addNewEditorFromKeyboard()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#$&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(this.#O){switch(e){case Pt.CREATE:return void this.currentLayer.addNewEditor();case Pt.HIGHLIGHT_DEFAULT_COLOR:this.#Y?.updateColor(t);break;case Pt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#te||=new Map).set(e,t),this.showAllEditors("highlight",t)}for(const n of this.#Z)n.updateParams(e,t);for(const n of this.#O)n.updateDefaultParams(e,t)}}showAllEditors(e,t){for(const n of this.#T.values())n.editorType===e&&n.show(t);(this.#te?.get(Pt.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#De([[Pt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#X!==e){this.#X=e;for(const t of this.#P.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}#Ne(){if(!this.#G){this.#G=!0;for(const e of this.#P.values())e.enable();for(const e of this.#T.values())e.enable()}}#Fe(){if(this.unselectAll(),this.#G){this.#G=!1;for(const e of this.#P.values())e.disable();for(const e of this.#T.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#T.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#T.get(e)}addEditor(e){this.#T.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#H&&clearTimeout(this.#H),this.#H=setTimeout((()=>{this.focusMainContainer(),this.#H=null}),0)),this.#T.delete(e.id),this.unselect(e),e.annotationElementId&&this.#F.has(e.annotationElementId)||this.#L?.remove(e.id)}addDeletedAnnotationElement(e){this.#F.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#F.has(e)}removeDeletedAnnotationElement(e){this.#F.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#Le(e){const t=this.#P.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#_!==e&&(this.#_=e,e&&this.#De(e.propertiesToUpdate))}get#Oe(){let e=null;for(e of this.#Z);return e}updateUI(e){this.#Oe===e&&this.#De(e.propertiesToUpdate)}toggleSelected(e){if(this.#Z.has(e))return this.#Z.delete(e),e.unselect(),void this.#Ee({hasSelectedEditor:this.hasSelection});this.#Z.add(e),e.select(),this.#De(e.propertiesToUpdate),this.#Ee({hasSelectedEditor:!0})}setSelected(e){for(const t of this.#Z)t!==e&&t.unselect();this.#Z.clear(),this.#Z.add(e),e.select(),this.#De(e.propertiesToUpdate),this.#Ee({hasSelectedEditor:!0})}isSelected(e){return this.#Z.has(e)}get firstSelectedEditor(){return this.#Z.values().next().value}unselect(e){e.unselect(),this.#Z.delete(e),this.#Ee({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#Z.size}get isEnterHandled(){return 1===this.#Z.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#D.undo(),this.#Ee({hasSomethingToUndo:this.#D.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Ie()})}redo(){this.#D.redo(),this.#Ee({hasSomethingToUndo:!0,hasSomethingToRedo:this.#D.hasSomethingToRedo(),isEmpty:this.#Ie()})}addCommands(e){this.#D.add(e),this.#Ee({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Ie()})}#Ie(){if(0===this.#T.size)return!0;if(1===this.#T.size)for(const e of this.#T.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...this.#Z];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)this.#Le(t)},mustExec:!0})}commitOrRemove(){this.#_?.commitOrRemove()}hasSomethingToControl(){return this.#_||this.hasSelection}#Re(e){for(const t of this.#Z)t.unselect();this.#Z.clear();for(const t of e)t.isEmpty()||(this.#Z.add(t),t.select());this.#Ee({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#Z)e.commit();this.#Re(this.#T.values())}unselectAll(){if((!this.#_||(this.#_.commitOrRemove(),this.#$===Tt.NONE))&&this.hasSelection){for(const e of this.#Z)e.unselect();this.#Z.clear(),this.#Ee({hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;this.#fe[0]+=e,this.#fe[1]+=t;const[n,i]=this.#fe,s=[...this.#Z];this.#ge&&clearTimeout(this.#ge),this.#ge=setTimeout((()=>{this.#ge=null,this.#fe[0]=this.#fe[1]=0,this.addCommands({cmd:()=>{for(const e of s)this.#T.has(e.id)&&e.translateInPage(n,i)},undo:()=>{for(const e of s)this.#T.has(e.id)&&e.translateInPage(-n,-i)},mustExec:!1})}),1e3);for(const a of s)a.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#N=new Map;for(const e of this.#Z)this.#N.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#N)return!1;this.disableUserSelect(!1);const e=this.#N;this.#N=null;let t=!1;for(const[{x:i,y:s,pageIndex:a},r]of e)r.newX=i,r.newY=s,r.newPageIndex=a,t||=i!==r.savedX||s!==r.savedY||a!==r.savedPageIndex;if(!t)return!1;const n=(e,t,n,i)=>{if(this.#T.has(e.id)){const s=this.#P.get(i);s?e._setParentAndPosition(s,t,n):(e.pageIndex=i,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:i,newY:s,newPageIndex:a}]of e)n(t,i,s,a)},undo:()=>{for(const[t,{savedX:i,savedY:s,savedPageIndex:a}]of e)n(t,i,s,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#N)for(const n of this.#N.keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#Z.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#_===e}getActive(){return this.#_}getMode(){return this.#$}get imageManager(){return yn(this,"imageManager",new Ci)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:a}=e.getBoundingClientRect();let r;switch(e.getAttribute("data-main-rotation")){case"90":r=(e,t,r,o)=>({x:(t-i)/a,y:1-(e+r-n)/s,width:o/a,height:r/s});break;case"180":r=(e,t,r,o)=>({x:1-(e+r-n)/s,y:1-(t+o-i)/a,width:r/s,height:o/a});break;case"270":r=(e,t,r,o)=>({x:1-(t+o-i)/a,y:(e-n)/s,width:o/a,height:r/s});break;default:r=(e,t,r,o)=>({x:(e-n)/s,y:(t-i)/a,width:r/s,height:o/a})}const o=[];for(let l=0,c=t.rangeCount;l<c;l++){const e=t.getRangeAt(l);if(!e.collapsed)for(const{x:t,y:n,width:i,height:s}of e.getClientRects())0!==i&&0!==s&&o.push(r(t,n,i,s))}return 0===o.length?null:o}addChangedExistingAnnotation(e){let{annotationElementId:t,id:n}=e;(this.#R||=new Map).set(t,n)}removeChangedExistingAnnotation(e){let{annotationElementId:t}=e;this.#R?.delete(t)}renderAnnotationElement(e){const t=this.#R?.get(e.data.id);if(!t)return;const n=this.#L.getRawValue(t);n&&(this.#$!==Tt.NONE||n.hasBeenModified)&&n.renderAnnotationElement(e)}}class Li{#ze="";#je=!1;#Be=null;#He=null;#Ue=null;#We=!1;#a=null;static _l10nPromise=null;constructor(e){this.#a=e}static initialize(e){Li._l10nPromise||=e}async render(){const e=this.#Be=document.createElement("button");e.className="altText";const t=await Li._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const n=this.#a._uiManager._signal;e.addEventListener("contextmenu",pi,{signal:n}),e.addEventListener("pointerdown",(e=>e.stopPropagation()),{signal:n});const i=e=>{e.preventDefault(),this.#a._uiManager.editAltText(this.#a)};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",(t=>{t.target===e&&"Enter"===t.key&&(this.#We=!0,i(t))}),{signal:n}),await this.#Ve(),e}finish(){this.#Be&&(this.#Be.focus({focusVisible:this.#We}),this.#We=!1)}isEmpty(){return!this.#ze&&!this.#je}get data(){return{altText:this.#ze,decorative:this.#je}}set data(e){let{altText:t,decorative:n}=e;this.#ze===t&&this.#je===n||(this.#ze=t,this.#je=n,this.#Ve())}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Be&&(!e&&this.#Ue&&(clearTimeout(this.#Ue),this.#Ue=null),this.#Be.disabled=!e)}destroy(){this.#Be?.remove(),this.#Be=null,this.#He=null}async#Ve(){const e=this.#Be;if(!e)return;if(!this.#ze&&!this.#je)return e.classList.remove("done"),void this.#He?.remove();e.classList.add("done"),Li._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then((t=>{e.setAttribute("aria-label",t)}));let t=this.#He;if(!t){this.#He=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip");const n=t.id=`alt-text-tooltip-${this.#a.id}`;e.setAttribute("aria-describedby",n);const i=100,s=this.#a._uiManager._signal;s.addEventListener("abort",(()=>{clearTimeout(this.#Ue),this.#Ue=null}),{once:!0}),e.addEventListener("mouseenter",(()=>{this.#Ue=setTimeout((()=>{this.#Ue=null,this.#He.classList.add("show"),this.#a._reportTelemetry({action:"alt_text_tooltip"})}),i)}),{signal:s}),e.addEventListener("mouseleave",(()=>{this.#Ue&&(clearTimeout(this.#Ue),this.#Ue=null),this.#He?.classList.remove("show")}),{signal:s})}t.innerText=this.#je?await Li._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#ze,t.parentNode||e.append(t);const n=this.#a.getImageForAltText();n?.setAttribute("aria-describedby",t.id)}}class Ri{#qe=null;#Ge=null;#ze=null;#Xe=!1;#Ke=!1;#Ye=null;#Qe=null;#$e=this.focusin.bind(this);#Ze=this.focusout.bind(this);#Je=null;#et="";#tt=!1;#nt=null;#it=!1;#st=!1;#at=!1;#rt=null;#ot=0;#lt=0;#ct=null;_initialOptions=(()=>Object.create(null))();_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#dt=!1;#ut=(()=>Ri._zIndex++)();static _borderLineWidth=-1;static _colorManager=(()=>new Pi)();static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Ri.prototype._resizeWithKeyboard,t=Mi.TRANSLATE_SMALL,n=Mi.TRANSLATE_BIG;return yn(this,"_resizerKeyboardManager",new Ti([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Ri.prototype._stopResizingWithKeyboard]]))}constructor(e){this.constructor===Ri&&vn("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,a];const[r,o]=this.parentDimensions;this.x=e.x/r,this.y=e.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return yn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Di({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,n){if(Ri._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map((t=>[t,e.get(t.replaceAll(/([A-Z])/g,(e=>`-${e.toLowerCase()}`)))]))),n?.strings)for(const s of n.strings)Ri._l10nPromise.set(s,e.get(s));if(-1!==Ri._borderLineWidth)return;const i=getComputedStyle(document.documentElement);Ri._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){vn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#dt}set _isDraggable(e){this.#dt=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#ut}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#ht(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#tt?this.#tt=!1:this.parent.setSelected(this))}focusout(e){if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const t=e.relatedTarget;t?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[s,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(t+i)/a,this.fixAndSetPosition()}#pt(e,t,n){let[i,s]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/i,this.y+=n/s,this.fixAndSetPosition()}translate(e,t){this.#pt(this.parentDimensions,e,t)}translateInPage(e,t){this.#nt||=[this.x,this.y],this.#pt(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#nt||=[this.x,this.y];const[n,i]=this.parentDimensions;if(this.x+=e/n,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this;const[r,o]=this.getBaseTranslation();s+=r,a+=o,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#nt&&(this.#nt[0]!==this.x||this.#nt[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Ri,i=n/e,s=n/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const[t,n]=this.pageDimensions;let{x:i,y:s,width:a,height:r}=this;if(a*=t,r*=n,i*=t,s*=n,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-a,i)),s=Math.max(0,Math.min(n-r,s));break;case 90:i=Math.max(0,Math.min(t-r,i)),s=Math.min(n,Math.max(a,s));break;case 180:i=Math.min(t,Math.max(a,i)),s=Math.min(n,Math.max(r,s));break;case 270:i=Math.min(t,Math.max(r,i)),s=Math.max(0,Math.min(n-a,s))}this.x=i/=t,this.y=s/=n;const[o,l]=this.getBaseTranslation();i+=o,s+=l;const{style:c}=this.div;c.left=`${(100*i).toFixed(2)}%`,c.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#ft(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Ri.#ft(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Ri.#ft(e,t,360-this.parentRotation)}#gt(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,i=t*e,s=n*e;return Rn.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,t){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,this.#Ke||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),s=!this.#Ke&&t.endsWith("%");if(i&&s)return;const[a,r]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),this.#Ke||s||(e.height=`${(100*parseFloat(t)/r).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#mt(){if(this.#Ye)return;this.#Ye=document.createElement("div"),this.#Ye.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");this.#Ye.append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",this.#vt.bind(this,n),{signal:t}),e.addEventListener("contextmenu",pi,{signal:t}),e.tabIndex=-1}this.div.prepend(this.#Ye)}#vt(e,t){t.preventDefault();const{isMac:n}=Rn.platform;if(0!==t.button||t.ctrlKey&&n)return;this.#ze?.toggle(!1);const i=this.#At.bind(this,e),s=this._isDraggable;this._isDraggable=!1;const a=this._uiManager._signal,r={passive:!0,capture:!0,signal:a};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,r),window.addEventListener("contextmenu",pi,{signal:a});const o=this.x,l=this.y,c=this.width,d=this.height,u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{this.parent.togglePointerEvents(!0),this.#ze?.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",i,r),window.removeEventListener("contextmenu",pi),this.parent.div.style.cursor=u,this.div.style.cursor=h,this.#bt(o,l,c,d)};window.addEventListener("pointerup",p,{signal:a}),window.addEventListener("blur",p,{signal:a})}#bt(e,t,n,i){const s=this.x,a=this.y,r=this.width,o=this.height;s===e&&a===t&&r===n&&o===i||this.addCommands({cmd:()=>{this.width=r,this.height=o,this.x=s,this.y=a;const[e,t]=this.parentDimensions;this.setDims(e*r,t*o),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=e,this.y=t;const[s,a]=this.parentDimensions;this.setDims(s*n,a*i),this.fixAndSetPosition()},mustExec:!0})}#At(e,t){const[n,i]=this.parentDimensions,s=this.x,a=this.y,r=this.width,o=this.height,l=Ri.MIN_SIZE/n,c=Ri.MIN_SIZE/i,d=e=>Math.round(1e4*e)/1e4,u=this.#gt(this.rotation),h=(e,t)=>[u[0]*e+u[2]*t,u[1]*e+u[3]*t],p=this.#gt(360-this.rotation);let f,g,m=!1,v=!1;switch(e){case"topLeft":m=!0,f=(e,t)=>[0,0],g=(e,t)=>[e,t];break;case"topMiddle":f=(e,t)=>[e/2,0],g=(e,t)=>[e/2,t];break;case"topRight":m=!0,f=(e,t)=>[e,0],g=(e,t)=>[0,t];break;case"middleRight":v=!0,f=(e,t)=>[e,t/2],g=(e,t)=>[0,t/2];break;case"bottomRight":m=!0,f=(e,t)=>[e,t],g=(e,t)=>[0,0];break;case"bottomMiddle":f=(e,t)=>[e/2,t],g=(e,t)=>[e/2,0];break;case"bottomLeft":m=!0,f=(e,t)=>[0,t],g=(e,t)=>[e,0];break;case"middleLeft":v=!0,f=(e,t)=>[0,t/2],g=(e,t)=>[e,t/2]}const A=f(r,o),b=g(r,o);let y=h(...b);const w=d(s+y[0]),x=d(a+y[1]);let k=1,E=1,[S,C]=this.screenToPageTranslation(t.movementX,t.movementY);var _,T;if([S,C]=(_=S/n,T=C/i,[p[0]*_+p[2]*T,p[1]*_+p[3]*T]),m){const e=Math.hypot(r,o);k=E=Math.max(Math.min(Math.hypot(b[0]-A[0]-S,b[1]-A[1]-C)/e,1/r,1/o),l/r,c/o)}else v?k=Math.max(l,Math.min(1,Math.abs(b[0]-A[0]-S)))/r:E=Math.max(c,Math.min(1,Math.abs(b[1]-A[1]-C)))/o;const P=d(r*k),M=d(o*E);y=h(...g(P,M));const L=w-y[0],R=x-y[1];this.width=P,this.height=M,this.x=L,this.y=R,this.setDims(n*P,i*M),this.fixAndSetPosition()}altTextFinish(){this.#ze?.finish()}async addEditToolbar(){return this.#Je||this.#st||(this.#Je=new xi(this),this.div.append(this.#Je.render()),this.#ze&&this.#Je.addAltTextButton(await this.#ze.render())),this.#Je}removeEditToolbar(){this.#Je&&(this.#Je.remove(),this.#Je=null,this.#ze?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#ze||(Li.initialize(Ri._l10nPromise),this.#ze=new Li(this),this.#qe&&(this.#ze.data=this.#qe,this.#qe=null),await this.addEditToolbar())}get altTextData(){return this.#ze?.data}set altTextData(e){this.#ze&&(this.#ze.data=e)}hasAltText(){return!this.#ze?.isEmpty()}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#Xe?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",this.#$e,{signal:e}),this.div.addEventListener("focusout",this.#Ze,{signal:e});const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),Ei(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Rn.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(this.#tt=!0,this._isDraggable?this.#yt(e):this.#wt(e))}#wt(e){const{isMac:t}=Rn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#yt(e){const t=this._uiManager.isSelected(this);let n,i;this._uiManager.setUpDragSession();const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),n={passive:!0,capture:!0,signal:s},this.#ot=e.clientX,this.#lt=e.clientY,i=e=>{const{clientX:t,clientY:n}=e,[i,s]=this.screenToPageTranslation(t-this.#ot,n-this.#lt);this.#ot=t,this.#lt=n,this._uiManager.dragSelectedEditors(i,s)},window.addEventListener("pointermove",i,n));const a=()=>{window.removeEventListener("pointerup",a),window.removeEventListener("blur",a),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,n)),this.#tt=!1,this._uiManager.endDragSession()||this.#wt(e)};window.addEventListener("pointerup",a,{signal:s}),window.addEventListener("blur",a,{signal:s})}moveInDOM(){this.#rt&&clearTimeout(this.#rt),this.#rt=setTimeout((()=>{this.#rt=null,this.parent?.moveEditorInDOM(this)}),0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const i=this.parentScale,[s,a]=this.pageDimensions,[r,o]=this.pageTranslation,l=e/i,c=t/i,d=this.x*s,u=this.y*a,h=this.width*s,p=this.height*a;switch(n){case 0:return[d+l+r,a-u-c-p+o,d+l+h+r,a-u-c+o];case 90:return[d+c+r,a-u+l+o,d+c+p+r,a-u+l+h+o];case 180:return[d-l-h+r,a-u+c+o,d-l+r,a-u+c+p+o];case 270:return[d-c-p+r,a-u-l-h+o,d-c+r,a-u-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,s,a]=e,r=s-n,o=a-i;switch(this.rotation){case 0:return[n,t-a,r,o];case 90:return[n,t-i,o,r];case 180:return[s,t-i,r,o];case 270:return[s,t-a,o,r];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#st=!0}disableEditMode(){this.#st=!1}isInEditMode(){return this.#st}shouldGetKeyboardEvents(){return this.#at}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){const e=this._uiManager._signal;this.div?.addEventListener("focusin",this.#$e,{signal:e}),this.div?.addEventListener("focusout",this.#Ze,{signal:e})}rotate(e){}serialize(){vn("An editor must be serializable")}static deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});i.rotation=e.rotation,i.#qe=e.accessibilityData;const[s,a]=i.pageDimensions,[r,o,l,c]=i.getRectInCurrentCoords(e.rect,a);return i.x=r/s,i.y=o/a,i.width=l/s,i.height=c/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.div.removeEventListener("focusin",this.#$e),this.div.removeEventListener("focusout",this.#Ze),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#rt&&(clearTimeout(this.#rt),this.#rt=null),this.#ht(),this.removeEditToolbar(),this.#ct){for(const e of this.#ct.values())clearTimeout(e);this.#ct=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#mt(),this.#Ye.classList.remove("hidden"),Ei(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),this.#Qe={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#Ye.children;if(!this.#Ge){this.#Ge=Array.from(t);const e=this.#xt.bind(this),n=this.#kt.bind(this),i=this._uiManager._signal;for(const t of this.#Ge){const s=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:i}),t.addEventListener("blur",n,{signal:i}),t.addEventListener("focus",this.#Et.bind(this,s),{signal:i}),Ri._l10nPromise.get(`pdfjs-editor-resizer-label-${s}`).then((e=>t.setAttribute("aria-label",e)))}}const n=this.#Ge[0];let i=0;for(const a of t){if(a===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#Ge.length/4);if(s!==i){if(s<i)for(let t=0;t<i-s;t++)this.#Ye.append(this.#Ye.firstChild);else if(s>i)for(let t=0;t<s-i;t++)this.#Ye.firstChild.before(this.#Ye.lastChild);let e=0;for(const n of t){const t=this.#Ge[e++].getAttribute("data-resizer-name");Ri._l10nPromise.get(`pdfjs-editor-resizer-label-${t}`).then((e=>n.setAttribute("aria-label",e)))}}this.#St(0),this.#at=!0,this.#Ye.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#xt(e){Ri._resizerKeyboardManager.exec(this,e)}#kt(e){this.#at&&e.relatedTarget?.parentNode!==this.#Ye&&this.#ht()}#Et(e){this.#et=this.#at?e:""}#St(e){if(this.#Ge)for(const t of this.#Ge)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#at&&this.#At(this.#et,{movementX:e,movementY:t})}#ht(){if(this.#at=!1,this.#St(-1),this.#Qe){const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=this.#Qe;this.#bt(e,t,n,i),this.#Qe=null}}_stopResizingWithKeyboard(){this.#ht(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this.#Je?this.#Je?.show():this.addEditToolbar().then((()=>{this.div?.classList.contains("selectedEditor")&&this.#Je?.show()}))}unselect(){this.#Ye?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this.#Je?.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#it}set isEditing(e){this.#it=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#Ke=!0;const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){this.#ct||=new Map;const{action:t}=e;let n=this.#ct.get(t);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(e),this.#ct.delete(t),0===this.#ct.size&&(this.#ct=null)}),Ri._telemetryTimeout),void this.#ct.set(t,n)}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#Xe=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#Xe=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===t.nodeName&&t.classList.contains("annotationContent")&&t.remove()}}class Di extends Ri{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Ii=3285377520,Fi=4294901760,Ni=65535;class Oi{constructor(e){this.h1=e?4294967295&e:Ii,this.h2=e?4294967295&e:Ii}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let i=0,s=e.length;i<s;i++){const s=e.charCodeAt(i);s<=255?t[n++]=s:(t[n++]=s>>>8,t[n++]=255&s)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const i=n>>2,s=n-4*i,a=new Uint32Array(t.buffer,0,i);let r=0,o=0,l=this.h1,c=this.h2;const d=3432918353,u=461845907,h=11601,p=13715;for(let f=0;f<i;f++)1&f?(r=a[f],r=r*d&Fi|r*h&Ni,r=r<<15|r>>>17,r=r*u&Fi|r*p&Ni,l^=r,l=l<<13|l>>>19,l=5*l+3864292196):(o=a[f],o=o*d&Fi|o*h&Ni,o=o<<15|o>>>17,o=o*u&Fi|o*p&Ni,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(r=0,s){case 3:r^=t[4*i+2]<<16;case 2:r^=t[4*i+1]<<8;case 1:r^=t[4*i],r=r*d&Fi|r*h&Ni,r=r<<15|r>>>17,r=r*u&Fi|r*p&Ni,1&i?l^=r:c^=r}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&Fi|36045*e&Ni,t=4283543511*t&Fi|(2950163797*(t<<16|e>>>16)&Fi)>>>16,e^=t>>>1,e=444984403*e&Fi|60499*e&Ni,t=3301882366*t&Fi|(3120437893*(t<<16|e>>>16)&Fi)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const zi=Object.freeze({map:null,hash:"",transfer:void 0});class ji{#Ct=!1;#_t=(()=>new Map)();constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#_t.get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return this.#_t.get(e)}remove(e){if(this.#_t.delete(e),0===this.#_t.size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of this.#_t.values())if(e instanceof Ri)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#_t.get(e);let i=!1;if(void 0!==n)for(const[s,a]of Object.entries(t))n[s]!==a&&(i=!0,n[s]=a);else i=!0,this.#_t.set(e,t);i&&this.#Tt(),t instanceof Ri&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#_t.has(e)}getAll(){return this.#_t.size>0?Ln(this.#_t):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return this.#_t.size}#Tt(){this.#Ct||(this.#Ct=!0,"function"===typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#Ct&&(this.#Ct=!1,"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new Bi(this)}get serializable(){if(0===this.#_t.size)return zi;const e=new Map,t=new Oi,n=[],i=Object.create(null);let s=!1;for(const[a,r]of this.#_t){const n=r instanceof Ri?r.serialize(!1,i):r;n&&(e.set(a,n),t.update(`${a}:${JSON.stringify(n)}`),s||=!!n.bitmap)}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:zi}get editorStats(){let e=null;const t=new Map;for(const n of this.#_t.values()){if(!(n instanceof Ri))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(n).constructor),e||=Object.create(null);const a=e[s]||=new Map;for(const[e,t]of Object.entries(i)){if("type"===e)continue;let n=a.get(e);n||(n=new Map,a.set(e,n));const i=n.get(t)??0;n.set(t,i+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}}class Bi extends ji{#Pt;constructor(e){super();const{map:t,hash:n,transfer:i}=e.serializable,s=structuredClone(t,i?{transfer:i}:null);this.#Pt={map:s,hash:n,transfer:i}}get print(){vn("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#Pt}}class Hi{#Mt=(()=>new Set)();constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#Mt.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,_inspectFont:n}=e;if(t&&!this.#Mt.has(t.loadedName))if(An(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:i,style:s}=t,a=new FontFace(e,i,s);this.addNativeFontFace(a);try{await a.load(),this.#Mt.add(e),n?.(t)}catch{mn(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}}else vn("Not implemented: loadSystemFont without the Font Loading API.")}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw mn(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){return yn(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let e=!1;return(mt||"undefined"!==typeof navigator&&"string"===typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),yn(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(An(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return yn(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,i){return e.substring(0,t)+i+e.substring(t+n)}let s,a;const r=this._document.createElement("canvas");r.width=1,r.height=1;const o=r.getContext("2d");let l=0;const c=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=i(d,976,c.length,c);const u=1482184792;let h=n(d,16);for(s=0,a=c.length-3;s<a;s+=4)h=h-u+n(c,s)|0;var p;s<c.length&&(h=h-u+n(c+"XXX",s)|0),d=i(d,16,4,(p=h,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const f=`@font-face {font-family:"${c}";src:${`url(data:font/opentype;base64,${btoa(d)});`}}`;this.insertRule(f);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const m of[e.loadedName,c]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=m,g.append(e)}this._document.body.append(g),function e(t,n){if(++l>30)return mn("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(c,(()=>{g.remove(),t.complete()}))}}class Ui{constructor(e,t){let{disableFontFace:n=!1,inspectFont:i=null}=t;this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=!0===n,this._inspectFont=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=Pn(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this._inspectFont?.(this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(s){mn(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(n)||0===n.length)return this.compiledGlyphs[t]=function(e,t){};const i=[];for(let a=0,r=n.length;a<r;)switch(n[a++]){case jn:{const[e,t,s,r,o,l]=n.slice(a,a+6);i.push((n=>n.bezierCurveTo(e,t,s,r,o,l))),a+=6}break;case Bn:{const[e,t]=n.slice(a,a+2);i.push((n=>n.moveTo(e,t))),a+=2}break;case Hn:{const[e,t]=n.slice(a,a+2);i.push((n=>n.lineTo(e,t))),a+=2}break;case Un:{const[e,t,s,r]=n.slice(a,a+4);i.push((n=>n.quadraticCurveTo(e,t,s,r))),a+=4}break;case Wn:i.push((e=>e.restore()));break;case Vn:i.push((e=>e.save()));break;case qn:An(2===i.length,"Scale command is only valid at the third position.");break;case Gn:{const[e,t,s,r,o,l]=n.slice(a,a+6);i.push((n=>n.transform(e,t,s,r,o,l))),a+=6}break;case Xn:{const[e,t]=n.slice(a,a+2);i.push((n=>n.translate(e,t))),a+=2}}return this.compiledGlyphs[t]=function(e,t){i[0](e),i[1](e),e.scale(t,-t);for(let n=2,s=i.length;n<s;n++)i[n](e)}}}if(mt){var Wi=Promise.withResolvers(),Vi=null;(async()=>{const e=await import("fs"),t=await import("http"),n=await import("https"),i=await import("url");return new Map(Object.entries({fs:e,http:t,https:n,url:i,canvas:undefined,path2d:undefined}))})().then((e=>{Vi=e,Wi.resolve()}),(e=>{mn(`loadPackages: ${e}`),Vi=new Map,Wi.resolve()}))}class qi{static get promise(){return Wi.promise}static get(e){return Vi?.get(e)}}const Gi=function(e){return qi.get("fs").promises.readFile(e).then((e=>new Uint8Array(e)))};const Xi="Fill",Ki="Stroke",Yi="Shading";function Qi(e,t){if(!t)return;const n=t[2]-t[0],i=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],n,i),e.clip(s)}class $i{constructor(){this.constructor===$i&&vn("Cannot initialize BaseShadingPattern.")}getPattern(){vn("Abstract method `getPattern` called.")}}class Zi extends $i{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let s;if(i===Ki||i===Xi){const a=t.current.getClippedPathBoundingBox(i,bi(e))||[0,0,0,0],r=Math.ceil(a[2]-a[0])||1,o=Math.ceil(a[3]-a[1])||1,l=t.cachedCanvases.getCanvas("pattern",r,o,!0),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),n=In.transform(n,[1,0,0,1,a[0],a[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),Qi(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),s=e.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(n);s.setTransform(d)}else Qi(e,this._bbox),s=this._createGradient(e);return s}}function Ji(e,t,n,i,s,a,r,o){const l=t.coords,c=t.colors,d=e.data,u=4*e.width;let h;l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=a,a=r,r=h),l[i+1]>l[s+1]&&(h=i,i=s,s=h,h=r,r=o,o=h),l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=a,a=r,r=h);const p=(l[n]+t.offsetX)*t.scaleX,f=(l[n+1]+t.offsetY)*t.scaleY,g=(l[i]+t.offsetX)*t.scaleX,m=(l[i+1]+t.offsetY)*t.scaleY,v=(l[s]+t.offsetX)*t.scaleX,A=(l[s+1]+t.offsetY)*t.scaleY;if(f>=A)return;const b=c[a],y=c[a+1],w=c[a+2],x=c[r],k=c[r+1],E=c[r+2],S=c[o],C=c[o+1],_=c[o+2],T=Math.round(f),P=Math.round(A);let M,L,R,D,I,F,N,O;for(let z=T;z<=P;z++){if(z<m){const e=z<f?0:(f-z)/(f-m);M=p-(p-g)*e,L=b-(b-x)*e,R=y-(y-k)*e,D=w-(w-E)*e}else{let e;e=z>A?1:m===A?0:(m-z)/(m-A),M=g-(g-v)*e,L=x-(x-S)*e,R=k-(k-C)*e,D=E-(E-_)*e}let e;e=z<f?0:z>A?1:(f-z)/(f-A),I=p-(p-v)*e,F=b-(b-S)*e,N=y-(y-C)*e,O=w-(w-_)*e;const t=Math.round(Math.min(M,I)),n=Math.round(Math.max(M,I));let i=u*z+4*t;for(let s=t;s<=n;s++)e=(M-s)/(M-I),e<0?e=0:e>1&&(e=1),d[i++]=L-(L-F)*e|0,d[i++]=R-(R-N)*e|0,d[i++]=D-(D-O)*e|0,d[i++]=255}}function es(e,t,n){const i=t.coords,s=t.colors;let a,r;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(a=0;a<l;a++){let t=a*o;for(let a=0;a<c;a++,t++)Ji(e,n,i[t],i[t+1],i[t+o],s[t],s[t+1],s[t+o]),Ji(e,n,i[t+o+1],i[t+1],i[t+o],s[t+o+1],s[t+1],s[t+o])}break;case"triangles":for(a=0,r=i.length;a<r;a+=3)Ji(e,n,i[a],i[a+1],i[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}class ts extends $i{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const i=Math.floor(this._bounds[0]),s=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-i,r=Math.ceil(this._bounds[3])-s,o=Math.min(Math.ceil(Math.abs(a*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(r*e[1]*1.1)),3e3),c=a/o,d=r/l,u={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-s,scaleX:1/c,scaleY:1/d},h=o+4,p=l+4,f=n.getCanvas("mesh",h,p,!1),g=f.context,m=g.createImageData(o,l);if(t){const e=m.data;for(let n=0,i=e.length;n<i;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const v of this._figures)es(m,v,u);g.putImageData(m,2,2);return{canvas:f.canvas,offsetX:i-2*c,offsetY:s-2*d,scaleX:c,scaleY:d}}getPattern(e,t,n,i){let s;if(Qi(e,this._bbox),i===Yi)s=In.singularValueDecompose2dScale(bi(e));else if(s=In.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=In.singularValueDecompose2dScale(this.matrix);s=[s[0]*e[0],s[1]*e[1]]}const a=this._createMeshCanvas(s,i===Yi?null:this._background,t.cachedCanvases);return i!==Yi&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class ns extends $i{getPattern(){return"hotpink"}}const is=1,ss=2;class as{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,i=this.xstep,s=this.ystep,a=this.paintType,r=this.tilingType,o=this.color,l=this.canvasGraphicsFactory;gn("TilingType: "+r);const c=n[0],d=n[1],u=n[2],h=n[3],p=In.singularValueDecompose2dScale(this.matrix),f=In.singularValueDecompose2dScale(this.baseTransform),g=[p[0]*f[0],p[1]*f[1]],m=this.getSizeAndScale(i,this.ctx.canvas.width,g[0]),v=this.getSizeAndScale(s,this.ctx.canvas.height,g[1]),A=e.cachedCanvases.getCanvas("pattern",m.size,v.size,!0),b=A.context,y=l.createCanvasGraphics(b);y.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(y,a,o);let w=c,x=d,k=u,E=h;return c<0&&(w=0,k+=Math.abs(c)),d<0&&(x=0,E+=Math.abs(d)),b.translate(-m.scale*w,-v.scale*x),y.transform(m.scale,0,0,v.scale,0,0),b.save(),this.clipBbox(y,w,x,k,E),y.baseTransform=bi(y.ctx),y.executeOperatorList(t),y.endDrawing(),{canvas:A.canvas,scaleX:m.scale,scaleY:v.scale,offsetX:w,offsetY:x}}getSizeAndScale(e,t,n){e=Math.abs(e);const i=Math.max(as.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,i,s){const a=i-t,r=s-n;e.ctx.rect(t,n,a,r),e.current.updateRectMinMax(bi(e.ctx),[t,n,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case is:const e=this.ctx;i.fillStyle=e.fillStyle,i.strokeStyle=e.strokeStyle,s.fillColor=e.fillStyle,s.strokeColor=e.strokeStyle;break;case ss:const a=In.makeHexColor(n[0],n[1],n[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new _n(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let s=n;i!==Yi&&(s=In.transform(s,t.baseTransform),this.matrix&&(s=In.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let r=new DOMMatrix(s);r=r.translate(a.offsetX,a.offsetY),r=r.scale(1/a.scaleX,1/a.scaleY);const o=e.createPattern(a.canvas,"repeat");return o.setTransform(r),o}}function rs(e){let{src:t,srcPos:n=0,dest:i,width:s,height:a,nonBlackColor:r=4294967295,inverseDecode:o=!1}=e;const l=Rn.isLittleEndian?4278190080:255,[c,d]=o?[r,l]:[l,r],u=s>>3,h=7&s,p=t.length;i=new Uint32Array(i.buffer);let f=0;for(let g=0;g<a;g++){for(const s=n+u;n<s;n++){const e=n<p?t[n]:255;i[f++]=128&e?d:c,i[f++]=64&e?d:c,i[f++]=32&e?d:c,i[f++]=16&e?d:c,i[f++]=8&e?d:c,i[f++]=4&e?d:c,i[f++]=2&e?d:c,i[f++]=1&e?d:c}if(0===h)continue;const e=n<p?t[n++]:255;for(let t=0;t<h;t++)i[f++]=e&1<<7-t?d:c}return{srcPos:n,destPos:f}}const os=16;class ls{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return void 0!==this.cache[e]?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function cs(e,t,n,i,s,a,r,o,l,c){const[d,u,h,p,f,g]=bi(e);if(0===u&&0===h){const m=r*d+f,v=Math.round(m),A=o*p+g,b=Math.round(A),y=(r+l)*d+f,w=Math.abs(Math.round(y)-v)||1,x=(o+c)*p+g,k=Math.abs(Math.round(x)-b)||1;return e.setTransform(Math.sign(d),0,0,Math.sign(p),v,b),e.drawImage(t,n,i,s,a,0,0,w,k),e.setTransform(d,u,h,p,f,g),[w,k]}if(0===d&&0===p){const m=o*h+f,v=Math.round(m),A=r*u+g,b=Math.round(A),y=(o+c)*h+f,w=Math.abs(Math.round(y)-v)||1,x=(r+l)*u+g,k=Math.abs(Math.round(x)-b)||1;return e.setTransform(0,Math.sign(u),Math.sign(h),0,v,b),e.drawImage(t,n,i,s,a,0,0,k,w),e.setTransform(d,u,h,p,f,g),[k,w]}e.drawImage(t,n,i,s,a,r,o,l,c);return[Math.hypot(d,u)*l,Math.hypot(h,p)*c]}class ds{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=vt,this.textMatrixScale=1,this.fontMatrix=At,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Lt,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=In.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=In.applyTransform(t,e),i=In.applyTransform(t.slice(2),e),s=In.applyTransform([t[0],t[3]],e),a=In.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],i[0],s[0],a[0]),this.minY=Math.min(this.minY,n[1],i[1],s[1],a[1]),this.maxX=Math.max(this.maxX,n[0],i[0],s[0],a[0]),this.maxY=Math.max(this.maxY,n[1],i[1],s[1],a[1])}updateScalingPathMinMax(e,t){In.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,s,a,r,o,l,c){const d=In.bezierBoundingBox(t,n,i,s,a,r,o,l,c);c||this.updateRectMinMax(e,d)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xi,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Ki){t||vn("Stroke bounding box must include transform.");const e=In.singularValueDecompose2dScale(t),i=e[0]*this.lineWidth/2,s=e[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const e=In.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xi,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return In.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function us(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,i=t.width,s=n%os,a=(n-s)/os,r=0===s?a:a+1,o=e.createImageData(i,os);let l,c=0;const d=t.data,u=o.data;let h,p,f,g;if(t.kind===Ot.GRAYSCALE_1BPP){const t=d.byteLength,n=new Uint32Array(u.buffer,0,u.byteLength>>2),g=n.length,m=i+7>>3,v=4294967295,A=Rn.isLittleEndian?4278190080:255;for(h=0;h<r;h++){for(f=h<a?os:s,l=0,p=0;p<f;p++){const e=t-c;let s=0;const a=e>m?i:8*e-7,r=-8&a;let o=0,u=0;for(;s<r;s+=8)u=d[c++],n[l++]=128&u?v:A,n[l++]=64&u?v:A,n[l++]=32&u?v:A,n[l++]=16&u?v:A,n[l++]=8&u?v:A,n[l++]=4&u?v:A,n[l++]=2&u?v:A,n[l++]=1&u?v:A;for(;s<a;s++)0===o&&(u=d[c++],o=128),n[l++]=u&o?v:A,o>>=1}for(;l<g;)n[l++]=0;e.putImageData(o,0,h*os)}}else if(t.kind===Ot.RGBA_32BPP){for(p=0,g=i*os*4,h=0;h<a;h++)u.set(d.subarray(c,c+g)),c+=g,e.putImageData(o,0,p),p+=os;h<r&&(g=i*s*4,u.set(d.subarray(c,c+g)),e.putImageData(o,0,p))}else{if(t.kind!==Ot.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);for(f=os,g=i*f,h=0;h<r;h++){for(h>=a&&(f=s,g=i*f),l=0,p=g;p--;)u[l++]=d[c++],u[l++]=d[c++],u[l++]=d[c++],u[l++]=255;e.putImageData(o,0,h*os)}}}function hs(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,i=t.width,s=n%os,a=(n-s)/os,r=0===s?a:a+1,o=e.createImageData(i,os);let l=0;const c=t.data,d=o.data;for(let u=0;u<r;u++){const t=u<a?os:s;({srcPos:l}=rs({src:c,srcPos:l,dest:d,width:i,height:t,nonBlackColor:0})),e.putImageData(o,0,u*os)}}function ps(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==e[i]&&(t[i]=e[i]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function fs(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!mt){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function gs(e,t){if(t)return!0;const n=In.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*ei.PDF_TO_CSS_UNITS);return n[0]<=i&&n[1]<=i}const ms=["butt","round","square"],vs=["miter","round","bevel"],As={},bs={};class ys{constructor(e,t,n,i,s,a,r,o){let{optionalContentConfig:l,markedContentStack:c=null}=a;this.ctx=e,this.current=new ds(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new ls(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=r,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:i=!1,background:s=null}=e;const a=this.ctx.canvas.width,r=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,r),this.ctx.fillStyle=o,i){const e=this.cachedCanvases.getCanvas("transparent",a,r);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...bi(this.compositeCtx))}this.ctx.save(),fs(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=bi(this.ctx)}executeOperatorList(e,t,n,i){const s=e.argsArray,a=e.fnArray;let r=t||0;const o=s.length;if(o===r)return r;const l=o-r>10&&"function"===typeof n,c=l?Date.now()+15:0;let d=0;const u=this.commonObjs,h=this.objs;let p;for(;;){if(void 0!==i&&r===i.nextBreakPoint)return i.breakIt(r,n),r;if(p=a[r],p!==dn.dependency)this[p].apply(this,s[r]);else for(const e of s[r]){const t=e.startsWith("g_")?u:h;if(!t.has(e))return t.get(e,n),r}if(r++,r===o)return r;if(l&&++d>10){if(Date.now()>c)return n(),r;d=0}}}#Lt(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#Lt(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#Rt()}#Rt(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width,i=e.height;let s,a,r=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=i,d="prescale1";for(;r>2&&l>1||o>2&&c>1;){let t=l,n=c;r>2&&l>1&&(t=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),r/=l/t),o>2&&c>1&&(n=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/n),s=this.cachedCanvases.getCanvas(d,t,n),a=s.context,a.clearRect(0,0,t,n),a.drawImage(e,0,0,l,c,0,0,t,n),e=s.canvas,l=t,c=n,d="prescale1"===d?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,r=bi(t);let o,l,c,d;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;l=JSON.stringify(a?r:[r.slice(0,4),s]),o=this._cachedBitmapsMap.get(t),o||(o=new Map,this._cachedBitmapsMap.set(t,o));const n=o.get(l);if(n&&!a){return{canvas:n,offsetX:Math.round(Math.min(r[0],r[2])+r[4]),offsetY:Math.round(Math.min(r[1],r[3])+r[5])}}c=n}c||(d=this.cachedCanvases.getCanvas("maskCanvas",n,i),hs(d.context,e));let u=In.transform(r,[1/n,0,0,-1/i,0,0]);u=In.transform(u,[1,0,0,1,0,-i]);const[h,p,f,g]=In.getAxialAlignedBoundingBox([0,0,n,i],u),m=Math.round(f-h)||1,v=Math.round(g-p)||1,A=this.cachedCanvases.getCanvas("fillCanvas",m,v),b=A.context,y=h,w=p;b.translate(-y,-w),b.transform(...u),c||(c=this._scaleImage(d.canvas,yi(b)),c=c.img,o&&a&&o.set(l,c)),b.imageSmoothingEnabled=gs(bi(b),e.interpolate),cs(b,c,0,0,c.width,c.height,0,0,n,i),b.globalCompositeOperation="source-in";const x=In.transform(yi(b),[1,0,0,1,-y,-w]);return b.fillStyle=a?s.getPattern(t,this,x,Xi):s,b.fillRect(0,0,n,i),o&&!a&&(this.cachedCanvases.delete("fillCanvas"),o.set(l,A.canvas)),{canvas:A.canvas,offsetX:Math.round(y),offsetY:Math.round(w)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=ms[e]}setLineJoin(e){this.ctx.lineJoin=vs[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...bi(this.suspendedCtx)),ps(this.suspendedCtx,s),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,i,s,a,r){t.transform(e,n,i,s,a,r),this.__originalTransform(e,n,i,s,a,r)},e.setTransform=function(e,n,i,s,a,r){t.setTransform(e,n,i,s,a,r),this.__originalSetTransform(e,n,i,s,a,r)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,i,s,a,r){t.bezierCurveTo(e,n,i,s,a,r),this.__originalBezierCurveTo(e,n,i,s,a,r)},e.rect=function(e,n,i,s){t.rect(e,n,i,s),this.__originalRect(e,n,i,s)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ps(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const s=i[0],a=i[1],r=i[2]-s,o=i[3]-a;0!==r&&0!==o&&(this.genericComposeSMask(t.context,n,r,o,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,s,a,r,o,l,c,d){let u=e.canvas,h=o-c,p=l-d;if(a)if(h<0||p<0||h+n>u.width||p+i>u.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,i),t=e.context;t.drawImage(u,-h,-p),a.some((e=>0!==e))&&(t.globalCompositeOperation="destination-atop",t.fillStyle=In.makeHexColor(...a),t.fillRect(0,0,n,i),t.globalCompositeOperation="source-over"),u=e.canvas,h=p=0}else if(a.some((e=>0!==e))){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const t=new Path2D;t.rect(h,p,n,i),e.clip(t),e.globalCompositeOperation="destination-atop",e.fillStyle=In.makeHexColor(...a),e.fillRect(h,p,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===s&&r?t.filter=this.filterFactory.addAlphaFilter(r):"Luminosity"===s&&(t.filter=this.filterFactory.addLuminosityFilter(r));const f=new Path2D;f.rect(o,l,n,i),t.clip(f),t.globalCompositeOperation="destination-in",t.drawImage(u,h,p,n,i,o,l,n,i),t.restore()}save(){this.inSMaskMode?(ps(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ps(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,i,s,a){this.ctx.transform(e,t,n,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const i=this.ctx,s=this.current;let a,r,o=s.x,l=s.y;const c=bi(i),d=0===c[0]&&0===c[3]||0===c[1]&&0===c[2],u=d?n.slice(0):null;for(let h=0,p=0,f=e.length;h<f;h++)switch(0|e[h]){case dn.rectangle:o=t[p++],l=t[p++];const e=t[p++],n=t[p++],h=o+e,f=l+n;i.moveTo(o,l),0===e||0===n?i.lineTo(h,f):(i.lineTo(h,l),i.lineTo(h,f),i.lineTo(o,f)),d||s.updateRectMinMax(c,[o,l,h,f]),i.closePath();break;case dn.moveTo:o=t[p++],l=t[p++],i.moveTo(o,l),d||s.updatePathMinMax(c,o,l);break;case dn.lineTo:o=t[p++],l=t[p++],i.lineTo(o,l),d||s.updatePathMinMax(c,o,l);break;case dn.curveTo:a=o,r=l,o=t[p+4],l=t[p+5],i.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],o,l),s.updateCurvePathMinMax(c,a,r,t[p],t[p+1],t[p+2],t[p+3],o,l,u),p+=6;break;case dn.curveTo2:a=o,r=l,i.bezierCurveTo(o,l,t[p],t[p+1],t[p+2],t[p+3]),s.updateCurvePathMinMax(c,a,r,o,l,t[p],t[p+1],t[p+2],t[p+3],u),o=t[p+2],l=t[p+3],p+=4;break;case dn.curveTo3:a=o,r=l,o=t[p+2],l=t[p+3],i.bezierCurveTo(t[p],t[p+1],o,l,o,l),s.updateCurvePathMinMax(c,a,r,t[p],t[p+1],o,l,o,l,u),p+=4;break;case dn.closePath:i.closePath()}d&&s.updateScalingPathMinMax(c,u),s.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&n?.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,yi(t),Ki),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.fillColor;let i=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,yi(t),Xi),i=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==s&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=As}eoClip(){this.pendingClip=bs}beginText(){this.current.textMatrix=vt,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||At,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||mn("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const s=n.loadedName||"sans-serif",a=n.systemFontInfo?.css||`"${s}", ${n.fallbackName}`;let r="normal";n.black?r="900":n.bold&&(r="bold");const o=n.italic?"italic":"normal";let l=t;t<16?l=16:t>100&&(l=100),this.current.fontSizeScale=t/l,this.ctx.font=`${o} ${r} ${l}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,i,s,a){this.current.textMatrix=[e,t,n,i,s,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i){const s=this.ctx,a=this.current,r=a.font,o=a.textRenderingMode,l=a.fontSize/a.fontSizeScale,c=o&Ft,d=!!(o&Nt),u=a.patternFill&&!r.missingFile;let h;if((r.disableFontFace||d||u)&&(h=r.getPathGenerator(this.commonObjs,e)),r.disableFontFace||u?(s.save(),s.translate(t,n),s.beginPath(),h(s,l),i&&s.setTransform(...i),c!==Lt&&c!==Dt||s.fill(),c!==Rt&&c!==Dt||s.stroke(),s.restore()):(c!==Lt&&c!==Dt||s.fillText(e,t,n),c!==Rt&&c!==Dt||s.strokeText(e,t,n)),d){(this.pendingTextPaths||=[]).push({transform:bi(s),x:t,y:n,fontSize:l,addToPath:h})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return yn(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(0===i)return;const s=this.ctx,a=t.fontSizeScale,r=t.charSpacing,o=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,d=e.length,u=n.vertical,h=u?1:-1,p=n.defaultVMetrics,f=i*t.fontMatrix[0],g=t.textRenderingMode===Lt&&!n.disableFontFace&&!t.patternFill;let m;if(s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),l>0?s.scale(c,-1):s.scale(c,1),t.patternFill){s.save();const e=t.fillColor.getPattern(s,this,yi(s),Xi);m=bi(s),s.restore(),s.fillStyle=e}let v=t.lineWidth;const A=t.textMatrixScale;if(0===A||0===v){const e=t.textRenderingMode&Ft;e!==Rt&&e!==Dt||(v=this.getSinglePixelWidth())}else v/=A;if(1!==a&&(s.scale(a,a),v/=a),s.lineWidth=v,n.isInvalidPDFjsFont){const n=[];let i=0;for(const t of e)n.push(t.unicode),i+=t.width;return s.fillText(n.join(""),0,0),t.x+=i*f*c,s.restore(),void this.compose()}let b,y=0;for(b=0;b<d;++b){const t=e[b];if("number"===typeof t){y+=h*t*i/1e3;continue}let c=!1;const d=(t.isSpace?o:0)+r,v=t.fontChar,A=t.accent;let w,x,k=t.width;if(u){const e=t.vmetric||p,n=-(t.vmetric?e[1]:.5*k)*f,i=e[2]*f;k=e?-e[0]:k,w=n/a,x=(y+i)/a}else w=y/a,x=0;if(n.remeasure&&k>0){const e=1e3*s.measureText(v).width/i*a;if(k<e&&this.isFontSubpixelAAEnabled){const t=k/e;c=!0,s.save(),s.scale(t,1),w/=t}else k!==e&&(w+=(k-e)/2e3*i/a)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(g&&!A)s.fillText(v,w,x);else if(this.paintChar(v,w,x,m),A){const e=w+i*A.offset.x/a,t=x-i*A.offset.y/a;this.paintChar(A.fontChar,e,t,m)}y+=u?k*f-d*l:k*f+d*l,c&&s.restore()}u?t.y-=y:t.x+=y*c,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,s=n.fontSize,a=n.fontDirection,r=i.vertical?1:-1,o=n.charSpacing,l=n.wordSpacing,c=n.textHScale*a,d=n.fontMatrix||At,u=e.length;let h,p,f,g;if(!(n.textRenderingMode===It)&&0!==s){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(c,a),h=0;h<u;++h){if(p=e[h],"number"===typeof p){g=r*p*s/1e3,this.ctx.translate(g,0),n.x+=g*c;continue}const a=(p.isSpace?l:0)+o,u=i.charProcOperatorList[p.operatorListId];if(!u){mn(`Type3 character "${p.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=p,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(u),this.restore());f=In.applyTransform([p.width,0],d)[0]*s+a,t.translate(f,0),n.x+=f*c}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,s,a){this.ctx.rect(n,i,s-n,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],i=this.baseTransform||bi(this.ctx),s={createCanvasGraphics:e=>new ys(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new as(e,n,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const i=In.makeHexColor(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,n){const i=In.makeHexColor(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=function(e){switch(e[0]){case"RadialAxial":return new Zi(e);case"Mesh":return new ts(e);case"Dummy":return new ns}throw new Error(`Unknown IR type: ${e[0]}`)}(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,yi(t),Yi);const i=yi(t);if(i){const{width:e,height:n}=t.canvas,[s,a,r,o]=In.getAxialAlignedBoundingBox([0,0,e,n],i);this.ctx.fillRect(s,a,r-s,o-a)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){vn("Should not call beginInlineImage")}beginImageData(){vn("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=bi(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax(bi(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||gn("TODO: Support non-isolated groups."),e.knockout&&mn("Knockout groups not supported.");const n=bi(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=In.getAxialAlignedBoundingBox(e.bbox,bi(t));const s=[0,0,t.canvas.width,t.canvas.height];i=In.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),r=Math.floor(i[1]),o=Math.max(Math.ceil(i[2])-a,1),l=Math.max(Math.ceil(i[3])-r,1);this.current.startNewPathAndClipBox([0,0,o,l]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,o,l),u=d.context;u.translate(-a,-r),u.transform(...n),e.smask?this.smaskStack.push({canvas:d.canvas,context:u,offsetX:a,offsetY:r,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,r),t.save()),ps(t,u),this.ctx=u,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=bi(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=In.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,i,s){if(this.#Lt(),fs(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const i=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=i,t[3]=a;const[s,r]=In.singularValueDecompose2dScale(bi(this.ctx)),{viewportScale:o}=this,l=Math.ceil(i*this.outputScaleX*o),c=Math.ceil(a*this.outputScaleY*o);this.annotationCanvas=this.canvasFactory.create(l,c);const{canvas:d,context:u}=this.annotationCanvas;this.annotationCanvasMap.set(e,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=u,this.ctx.save(),this.ctx.setTransform(s,0,0,-r,0,a*r),fs(this.ctx)}else fs(this.ctx),this.ctx.rect(t[0],t[1],i,a),this.ctx.clip(),this.endPath()}this.current=new ds(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#Rt(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,i=this.processingType3;if(i&&(void 0===i.compiled&&(i.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=t+1;let a,r,o,l=new Uint8Array(s*(n+1));const c=t+7&-8;let d=new Uint8Array(c*n),u=0;for(const g of e.data){let e=128;for(;e>0;)d[u++]=g&e?0:255,e>>=1}let h=0;for(u=0,0!==d[u]&&(l[0]=1,++h),r=1;r<t;r++)d[u]!==d[u+1]&&(l[r]=d[u]?2:1,++h),u++;for(0!==d[u]&&(l[r]=2,++h),a=1;a<n;a++){u=a*c,o=a*s,d[u-c]!==d[u]&&(l[o]=d[u]?1:8,++h);let e=(d[u]?4:0)+(d[u-c]?8:0);for(r=1;r<t;r++)e=(e>>2)+(d[u+1]?4:0)+(d[u-c+1]?8:0),i[e]&&(l[o+r]=i[e],++h),u++;if(d[u-c]!==d[u]&&(l[o+r]=d[u]?2:4,++h),h>1e3)return null}for(u=c*(n-1),o=a*s,0!==d[u]&&(l[o]=8,++h),r=1;r<t;r++)d[u]!==d[u+1]&&(l[o+r]=d[u]?4:8,++h),u++;if(0!==d[u]&&(l[o+r]=4,++h),h>1e3)return null;const p=new Int32Array([0,s,-1,0,-s,0,0,0,1]),f=new Path2D;for(a=0;h&&a<=n;a++){let e=a*s;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;f.moveTo(e%s,a);const i=e;let r=l[e];do{const t=p[r];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(r=n,l[e]=0):(r=n&51*r>>4,l[e]&=r>>2|r<<2),f.lineTo(e%s,e/s|0),l[e]||--h}while(i!==e);--a}return d=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(f),e.beginPath(),e.restore()}}(e)),i.compiled))return void i.compiled(n);const s=this._createMaskCanvas(e),a=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const r=this.ctx;r.save();const o=bi(r);r.transform(t,n,i,s,0,0);const l=this._createMaskCanvas(e);r.setTransform(1,0,0,1,l.offsetX-o[4],l.offsetY-o[5]);for(let c=0,d=a.length;c<d;c+=2){const e=In.transform(o,[t,n,i,s,a[c],a[c+1]]),[d,u]=In.applyTransform([0,0],e);r.drawImage(l.canvas,d,u)}r.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:e,width:a,height:r,transform:o}=s,l=this.cachedCanvases.getCanvas("maskCanvas",a,r),c=l.context;c.save();hs(c,this.getObject(e,s)),c.globalCompositeOperation="source-in",c.fillStyle=i?n.getPattern(c,this,yi(t),Xi):n,c.fillRect(0,0,a,r),c.restore(),t.save(),t.transform(...o),t.scale(1,-1),cs(t,l.canvas,0,0,a,r,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):mn("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s)return void mn("Dependent image isn't ready yet");const a=s.width,r=s.height,o=[];for(let l=0,c=i.length;l<c;l+=2)o.push({transform:[t,0,0,n,i[l],i[l+1]],x:0,y:0,w:a,h:r});this.paintInlineImageXObjectGroup(s,o)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;if(this.save(),!mt){const{filter:e}=i;"none"!==e&&""!==e&&(i.filter="none")}let s;if(i.scale(1/t,-1/n),e.bitmap)s=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)s=e;else{const i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;us(i,e),s=this.applyTransferMapsToCanvas(i)}const a=this._scaleImage(s,yi(i));i.imageSmoothingEnabled=gs(bi(i),e.interpolate),cs(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const t=e.width,n=e.height,s=this.cachedCanvases.getCanvas("inlineImage",t,n).context;us(s,e),i=this.applyTransferMapsToCanvas(s)}for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),cs(n,i,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===bs?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=bi(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:s}=this.ctx.getTransform();let a,r;if(0===n&&0===i){const n=Math.abs(t),i=Math.abs(s);if(n===i)if(0===e)a=r=1/n;else{const t=n*e;a=r=t<1?1/t:1}else if(0===e)a=1/n,r=1/i;else{const t=n*e,s=i*e;a=t<1?1/t:1,r=s<1?1/s:1}}else{const o=Math.abs(t*s-n*i),l=Math.hypot(t,n),c=Math.hypot(i,s);if(0===e)a=c/o,r=l/o;else{const t=e*o;a=c>t?c/t:1,r=l>t?l/t:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=r}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=n||1,1===i&&1===s)return void t.stroke();const a=t.getLineDash();if(e&&t.save(),t.scale(i,s),a.length>0){const e=Math.max(i,s);t.setLineDash(a.map((t=>t/e))),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const hl in dn)void 0!==ys.prototype[hl]&&(ys.prototype[dn[hl]]=ys.prototype[hl]);class ws{static#Dt=null;static#It="";static get workerPort(){return this.#Dt}static set workerPort(e){if(!("undefined"!==typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");this.#Dt=e}static get workerSrc(){return this.#It}static set workerSrc(e){if("string"!==typeof e)throw new Error("Invalid `workerSrc` type.");this.#It=e}}const xs=1,ks=2,Es=1,Ss=2,Cs=3,_s=4,Ts=5,Ps=6,Ms=7,Ls=8;function Rs(e){switch(e instanceof Error||"object"===typeof e&&null!==e||vn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new Tn(e.message);case"MissingPDFException":return new Sn(e.message);case"PasswordException":return new xn(e.message,e.code);case"UnexpectedResponseException":return new Cn(e.message,e.status);case"UnknownErrorException":return new kn(e.message,e.details);default:return new kn(e.message,e.toString())}}class Ds{constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void this.#Ft(t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],t.callback===xs)n.resolve(t.data);else{if(t.callback!==ks)throw new Error("Unexpected callback case");n.reject(Rs(t.reason))}return}const i=this.actionHandler[t.action];if(!i)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,s=t.sourceName;new Promise((function(e){e(i(t.data))})).then((function(i){n.postMessage({sourceName:e,targetName:s,callback:xs,callbackId:t.callbackId,data:i})}),(function(i){n.postMessage({sourceName:e,targetName:s,callback:ks,callbackId:t.callbackId,reason:Rs(i)})}))}else t.streamId?this.#Nt(t):i(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,n,i){const s=this.streamId++,a=this.sourceName,r=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[s]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:a,targetName:r,action:e,streamId:s,data:t,desiredSize:n.desiredSize},i),l.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[s].pullCall=t,o.postMessage({sourceName:a,targetName:r,stream:Ps,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:e=>{An(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[s].cancelCall=t,this.streamControllers[s].isClosed=!0,o.postMessage({sourceName:a,targetName:r,stream:Es,streamId:s,reason:Rs(e)}),t.promise}},n)}#Nt(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,r=this.actionHandler[e.action],o={enqueue(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=a,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:_s,streamId:t,chunk:e},r)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Cs,streamId:t}),delete a.streamSinks[t])},error(e){An(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Ts,streamId:t,reason:Rs(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,new Promise((function(t){t(r(e.data,o))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:Ls,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:Ls,streamId:t,reason:Rs(e)})}))}#Ft(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],r=this.streamSinks[t];switch(e.stream){case Ls:e.success?a.startCall.resolve():a.startCall.reject(Rs(e.reason));break;case Ms:e.success?a.pullCall.resolve():a.pullCall.reject(Rs(e.reason));break;case Ps:if(!r){s.postMessage({sourceName:n,targetName:i,stream:Ms,streamId:t,success:!0});break}r.desiredSize<=0&&e.desiredSize>0&&r.sinkCapability.resolve(),r.desiredSize=e.desiredSize,new Promise((function(e){e(r.onPull?.())})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:Ms,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:Ms,streamId:t,reason:Rs(e)})}));break;case _s:if(An(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Cs:if(An(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#Ot(a,t);break;case Ts:An(a,"error should have stream controller"),a.controller.error(Rs(e.reason)),this.#Ot(a,t);break;case Ss:e.success?a.cancelCall.resolve():a.cancelCall.reject(Rs(e.reason)),this.#Ot(a,t);break;case Es:if(!r)break;new Promise((function(t){t(r.onCancel?.(Rs(e.reason)))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:Ss,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:Ss,streamId:t,reason:Rs(e)})})),r.sinkCapability.reject(Rs(e.reason)),r.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#Ot(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class Is{#zt;#jt;constructor(e){let{parsedData:t,rawData:n}=e;this.#zt=t,this.#jt=n}getRaw(){return this.#jt}get(e){return this.#zt.get(e)??null}getAll(){return Ln(this.#zt)}has(e){return this.#zt.has(e)}}const Fs=Symbol("INTERNAL");class Ns{#Bt=!1;#Ht=!1;#Ut=!1;#Wt=!0;constructor(e,t){let{name:n,intent:i,usage:s}=t;this.#Bt=!!(e&wt),this.#Ht=!!(e&xt),this.name=n,this.intent=i,this.usage=s}get visible(){if(this.#Ut)return this.#Wt;if(!this.#Wt)return!1;const{print:e,view:t}=this.usage;return this.#Bt?"OFF"!==t?.viewState:!this.#Ht||"OFF"!==e?.printState}_setVisible(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==Fs&&vn("Internal method `_setVisible` called."),this.#Ut=n,this.#Wt=t}}class Os{#Vt=null;#qt=(()=>new Map)();#Gt=null;#Xt=null;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt;if(this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#Xt=e.order;for(const n of e.groups)this.#qt.set(n.id,new Ns(t,n));if("OFF"===e.baseState)for(const e of this.#qt.values())e._setVisible(Fs,!1);for(const t of e.on)this.#qt.get(t)._setVisible(Fs,!0);for(const t of e.off)this.#qt.get(t)._setVisible(Fs,!1);this.#Gt=this.getHash()}}#Kt(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let s;if(Array.isArray(t))s=this.#Kt(t);else{if(!this.#qt.has(t))return mn(`Optional content group not found: ${t}`),!0;s=this.#qt.get(t).visible}switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return"And"===n}isVisible(e){if(0===this.#qt.size)return!0;if(!e)return gn("Optional content group not defined."),!0;if("OCG"===e.type)return this.#qt.has(e.id)?this.#qt.get(e.id).visible:(mn(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return this.#Kt(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#qt.has(t))return mn(`Optional content group not found: ${t}`),!0;if(this.#qt.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this.#qt.has(t))return mn(`Optional content group not found: ${t}`),!0;if(!this.#qt.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this.#qt.has(t))return mn(`Optional content group not found: ${t}`),!0;if(!this.#qt.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this.#qt.has(t))return mn(`Optional content group not found: ${t}`),!0;if(this.#qt.get(t).visible)return!1}return!0}return mn(`Unknown optional content policy ${e.policy}.`),!0}return mn(`Unknown group type ${e.type}.`),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.#qt.get(e);n?(n._setVisible(Fs,!!t,!0),this.#Vt=null):mn(`Optional content group not found: ${e}`)}setOCGState(e){let t,{state:n,preserveRB:i}=e;for(const s of n){switch(s){case"ON":case"OFF":case"Toggle":t=s;continue}const e=this.#qt.get(s);if(e)switch(t){case"ON":e._setVisible(Fs,!0);break;case"OFF":e._setVisible(Fs,!1);break;case"Toggle":e._setVisible(Fs,!e.visible)}}this.#Vt=null}get hasInitialVisibility(){return null===this.#Gt||this.getHash()===this.#Gt}getOrder(){return this.#qt.size?this.#Xt?this.#Xt.slice():[...this.#qt.keys()]:null}getGroups(){return this.#qt.size>0?Ln(this.#qt):null}getGroup(e){return this.#qt.get(e)||null}getHash(){if(null!==this.#Vt)return this.#Vt;const e=new Oi;for(const[t,n]of this.#qt)e.update(`${t}:${n.visible}`);return this.#Vt=e.hexdigest()}}class zs{constructor(e,t){let{disableRange:n=!1,disableStream:i=!1}=t;An(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:a,progressiveDone:r,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=o,a?.length>0){const e=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),e.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),e.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),e.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),e.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{An(this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(i),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){An(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new js(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Bs(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class js{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=li(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Bs{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Hs(e){let{getResponseHeader:t,isHttp:n,rangeChunkSize:i,disableRange:s}=e;const a={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(t("Content-Length"),10);if(!Number.isInteger(r))return a;if(a.suggestedLength=r,r<=2*i)return a;if(s||!n)return a;if("bytes"!==t("Accept-Ranges"))return a;return"identity"!==(t("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a}function Us(e){const t=e("Content-Disposition");if(t){let e=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=r(n);return e=unescape(e),e=o(e),e=l(e),a(e)}if(n=function(e){const t=[];let n;const s=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=s.exec(e));){let[,e,i,s]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[i,s]}const a=[];for(let i=0;i<t.length&&i in t;++i){let[e,n]=t[i];n=r(n),e&&(n=unescape(n),0===i&&(n=o(n))),a.push(n)}return a.join("")}(e),n)return a(l(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=r(n);return e=l(e),a(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),s=Mn(n);n=i.decode(s),t=!1}catch{}}return n}function a(e){return t&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),t&&(e=s("iso-8859-1",e))),e}function r(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:s(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,i){if("q"===n||"Q"===n)return s(t,i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{i=atob(i)}catch{}return s(t,i)}))}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(li(e))return e}return null}function Ws(e,t){return 404===e||0===e&&t.startsWith("file:")?new Sn('Missing PDF "'+t+'".'):new Cn(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)}function Vs(e){return 200===e||206===e}function qs(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Gs(e){const t=new Headers;for(const n in e){const i=e[n];void 0!==i&&t.append(n,i)}return t}function Xs(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(mn(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class Ks{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return An(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Ys(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Qs(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Ys{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=Gs(this._stream.httpHeaders);const n=t.url;fetch(n,qs(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!Vs(e.status))throw Ws(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:i,suggestedLength:s}=Hs({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=s||this._contentLength,this._filename=Us(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Tn("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Xs(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Qs{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=Gs(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const s=i.url;fetch(s,qs(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!Vs(e.status))throw Ws(e.status,s);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Xs(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class $s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const i={begin:e,end:t};for(const s in n)i[s]=n[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const e=this.httpHeaders[s];void 0!==e&&t.setRequestHeader(s,e)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=206):i.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void n.onError?.(i.status);const s=i.status||200;if(!(200===s&&206===n.expectedStatus)&&s!==n.expectedStatus)return void n.onError?.(i.status);const a=function(e){const t=e.response;return"string"!==typeof t?t:Mn(t).buffer}(i);if(206===s){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:a})}else a?n.onDone({begin:0,chunk:a}):n.onError?.(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Zs{constructor(e){this._source=e,this._manager=new $s(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return An(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Js(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new ea(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Js{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:i,suggestedLength:s}=Hs({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=Us(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Ws(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ea{constructor(e,t,n){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Ws(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ta=/^file:\/\/\/[a-zA-Z]:\//;class na{constructor(e){this.source=e,this.url=function(e){const t=qi.get("url"),n=t.parse(e);return"file:"===n.protocol||n.host?n:/^[a-z]:[/\\]/i.test(e)?t.parse(`file:///${e}`):(n.host||(n.protocol="file:"),n)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return An(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new la(this):new ra(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new ca(this,e,t):new oa(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class ia{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Tn("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class sa{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,this.onProgress?.({loaded:this._loaded});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function aa(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class ra extends ia{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new Sn(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:i,suggestedLength:s}=Hs({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=s||this._contentLength,this._filename=Us(n)};if(this._request=null,"http:"===this._url.protocol){const n=qi.get("http");this._request=n.request(aa(this._url,e.httpHeaders),t)}else{const n=qi.get("https");this._request=n.request(aa(this._url,e.httpHeaders),t)}this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class oa extends sa{constructor(e,t,n){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const t=e.httpHeaders[s];void 0!==t&&(this._httpHeaders[s]=t)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const i=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new Sn(`Missing PDF "${this._url}".`);this._storedError=e}};if(this._request=null,"http:"===this._url.protocol){const e=qi.get("http");this._request=e.request(aa(this._url,this._httpHeaders),i)}else{const e=qi.get("https");this._request=e.request(aa(this._url,this._httpHeaders),i)}this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class la extends ia{constructor(e){super(e);let t=decodeURIComponent(this._url.path);ta.test(this._url.href)&&(t=t.replace(/^\//,""));const n=qi.get("fs");n.promises.lstat(t).then((e=>{this._contentLength=e.size,this._setReadableStream(n.createReadStream(t)),this._headersCapability.resolve()}),(e=>{"ENOENT"===e.code&&(e=new Sn(`Missing PDF "${t}".`)),this._storedError=e,this._headersCapability.reject(e)}))}}class ca extends sa{constructor(e,t,n){super(e);let i=decodeURIComponent(this._url.path);ta.test(this._url.href)&&(i=i.replace(/^\//,""));const s=qi.get("fs");this._setReadableStream(s.createReadStream(i,{start:t,end:n-1}))}}const da=30;class ua{#Yt=(()=>Promise.withResolvers())();#me=null;#Qt=!1;#$t=(()=>!!globalThis.FontInspector?.enabled)();#Zt=null;#Jt=null;#en=0;#tn=0;#nn=null;#in=null;#sn=0;#an=0;#rn=(()=>Object.create(null))();#on=[];#ln=null;#cn=[];#dn=(()=>new WeakMap)();#un=null;static#hn=(()=>new Map)();static#pn=(()=>new Map)();static#fn=null;static#gn=(()=>new Set)();constructor(e){let{textContentSource:t,container:n,viewport:i}=e;if(t instanceof ReadableStream)this.#ln=t;else{if("object"!==typeof t)throw new Error('No "textContentSource" parameter specified.');this.#ln=new ReadableStream({start(e){e.enqueue(t),e.close()}})}this.#me=this.#in=n,this.#an=i.scale*(globalThis.devicePixelRatio||1),this.#sn=i.rotation,this.#Jt={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};const{pageWidth:s,pageHeight:a,pageX:r,pageY:o}=i.rawDims;this.#un=[1,0,0,-1,-r,o+a],this.#tn=s,this.#en=a,ua.#mn(),wi(n,i),this.#Yt.promise.catch((()=>{})).then((()=>{ua.#gn.delete(this),this.#Jt=null,this.#rn=null}))}render(){const e=()=>{this.#nn.read().then((t=>{let{value:n,done:i}=t;i?this.#Yt.resolve():(this.#Zt??=n.lang,Object.assign(this.#rn,n.styles),this.#vn(n.items),e())}),this.#Yt.reject)};return this.#nn=this.#ln.getReader(),ua.#gn.add(this),e(),this.#Yt.promise}update(e){let{viewport:t,onBefore:n=null}=e;const i=t.scale*(globalThis.devicePixelRatio||1),s=t.rotation;if(s!==this.#sn&&(n?.(),this.#sn=s,wi(this.#in,{rotation:s})),i!==this.#an){n?.(),this.#an=i;const e={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:ua.#An(this.#Zt)};for(const t of this.#cn)e.properties=this.#dn.get(t),e.div=t,this.#bn(e)}}cancel(){const e=new Tn("TextLayer task cancelled.");this.#nn?.cancel(e).catch((()=>{})),this.#nn=null,this.#Yt.reject(e)}get textDivs(){return this.#cn}get textContentItemsStr(){return this.#on}#vn(e){if(this.#Qt)return;this.#Jt.ctx??=ua.#An(this.#Zt);const t=this.#cn,n=this.#on;for(const i of e){if(t.length>1e5)return mn("Ignoring additional textDivs for performance reasons."),void(this.#Qt=!0);if(void 0!==i.str)n.push(i.str),this.#yn(i);else if("beginMarkedContentProps"===i.type||"beginMarkedContent"===i.type){const e=this.#me;this.#me=document.createElement("span"),this.#me.classList.add("markedContent"),null!==i.id&&this.#me.setAttribute("id",`${i.id}`),e.append(this.#me)}else"endMarkedContent"===i.type&&(this.#me=this.#me.parentNode)}}#yn(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};this.#cn.push(t);const i=In.transform(this.#un,e.transform);let s=Math.atan2(i[1],i[0]);const a=this.#rn[e.fontName];a.vertical&&(s+=Math.PI/2);const r=this.#$t&&a.fontSubstitution||a.fontFamily,o=Math.hypot(i[2],i[3]),l=o*ua.#wn(r,this.#Zt);let c,d;0===s?(c=i[4],d=i[5]-l):(c=i[4]+l*Math.sin(s),d=i[5]-l*Math.cos(s));const u="calc(var(--scale-factor)*",h=t.style;this.#me===this.#in?(h.left=`${(100*c/this.#tn).toFixed(2)}%`,h.top=`${(100*d/this.#en).toFixed(2)}%`):(h.left=`${u}${c.toFixed(2)}px)`,h.top=`${u}${d.toFixed(2)}px)`),h.fontSize=`${u}${(ua.#fn*o).toFixed(2)}px)`,h.fontFamily=r,n.fontSize=o,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#$t&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),0!==s&&(n.angle=s*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(p=!0)}if(p&&(n.canvasWidth=a.vertical?e.height:e.width),this.#dn.set(t,n),this.#Jt.div=t,this.#Jt.properties=n,this.#bn(this.#Jt),n.hasText&&this.#me.append(t),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this.#me.append(e)}}#bn(e){const{div:t,properties:n,ctx:i,prevFontSize:s,prevFontFamily:a}=e,{style:r}=t;let o="";if(ua.#fn>1&&(o=`scale(${1/ua.#fn})`),0!==n.canvasWidth&&n.hasText){const{fontFamily:l}=r,{canvasWidth:c,fontSize:d}=n;s===d&&a===l||(i.font=`${d*this.#an}px ${l}`,e.prevFontSize=d,e.prevFontFamily=l);const{width:u}=i.measureText(t.textContent);u>0&&(o=`scaleX(${c*this.#an/u}) ${o}`)}0!==n.angle&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(r.transform=o)}static cleanup(){if(!(this.#gn.size>0)){this.#hn.clear();for(const{canvas:e}of this.#pn.values())e.remove();this.#pn.clear()}}static#An(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.#pn.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#pn.set(e,t)}return t}static#mn(){if(null!==this.#fn)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),this.#fn=e.getBoundingClientRect().height,e.remove()}static#wn(e,t){const n=this.#hn.get(e);if(n)return n;const i=this.#An(t),s=i.font;i.canvas.width=i.canvas.height=da,i.font=`30px ${e}`;const a=i.measureText("");let r=a.fontBoundingBoxAscent,o=Math.abs(a.fontBoundingBoxDescent);if(r){const t=r/(r+o);return this.#hn.set(e,t),i.canvas.width=i.canvas.height=0,i.font=s,t}i.strokeStyle="red",i.clearRect(0,0,da,da),i.strokeText("g",0,0);let l=i.getImageData(0,0,da,da).data;o=0;for(let d=l.length-1-3;d>=0;d-=4)if(l[d]>0){o=Math.ceil(d/4/da);break}i.clearRect(0,0,da,da),i.strokeText("A",0,da),l=i.getImageData(0,0,da,da).data,r=0;for(let d=0,u=l.length;d<u;d+=4)if(l[d]>0){r=da-Math.floor(d/4/da);break}i.canvas.width=i.canvas.height=0,i.font=s;const c=r?r/(r+o):.8;return this.#hn.set(e,c),c}}function ha(){fi("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:e,container:t,viewport:n,...i}=arguments[0],s=Object.keys(i);s.length>0&&mn("Ignoring `renderTextLayer` parameters: "+s.join(", "));const a=new ua({textContentSource:e,container:t,viewport:n}),{textDivs:r,textContentItemsStr:o}=a;return{promise:a.render(),textDivs:r,textContentItemsStr:o}}function pa(){fi("`updateTextLayer`, please use `TextLayer` instead.")}class fa{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){if(!n)return;let i=null;const s=n.name;if("#text"===s)i=n.value;else{if(!fa.shouldBuildText(s))return;n?.attributes?.textContent?i=n.attributes.textContent:n.value&&(i=n.value)}if(null!==i&&t.push({str:i}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}const ga=65536,ma=mt?class extends Yn{_createCanvas(e,t){return qi.get("canvas").createCanvas(e,t)}}:class extends Yn{constructor(){let{ownerDocument:e=globalThis.document,enableHWA:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}},va=mt?class extends Qn{_fetchData(e,t){return Gi(e).then((e=>({cMapData:e,compressionType:t})))}}:ni,Aa=mt?class extends Kn{}:class extends Kn{#xn;#kn;#En;#Sn;#Cn;#v=0;constructor(){let{docId:e,ownerDocument:t=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.#En=e,this.#Sn=t}get#b(){return this.#xn||=new Map}get#_n(){return this.#Cn||=new Map}get#Tn(){if(!this.#kn){const e=this.#Sn.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#Sn.createElementNS(Jn,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#kn=this.#Sn.createElementNS(Jn,"defs"),e.append(n),n.append(this.#kn),this.#Sn.body.append(e)}return this.#kn}#Pn(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const i=n.join(",");return[i,i,i]}const[t,n,i]=e,s=new Array(256),a=new Array(256),r=new Array(256);for(let o=0;o<256;o++)s[o]=t[o]/255,a[o]=n[o]/255,r[o]=i[o]/255;return[s.join(","),a.join(","),r.join(",")]}addFilter(e){if(!e)return"none";let t=this.#b.get(e);if(t)return t;const[n,i,s]=this.#Pn(e),a=1===e.length?n:`${n}${i}${s}`;if(t=this.#b.get(a),t)return this.#b.set(e,t),t;const r=`g_${this.#En}_transfer_map_${this.#v++}`,o=`url(#${r})`;this.#b.set(e,o),this.#b.set(a,o);const l=this.#Mn(r);return this.#Ln(n,i,s,l),o}addHCMFilter(e,t){const n=`${e}-${t}`,i="base";let s=this.#_n.get(i);if(s?.key===n)return s.url;if(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#_n.set(i,s)),!e||!t)return s.url;const a=this.#Rn(e);e=In.makeHexColor(...a);const r=this.#Rn(t);if(t=In.makeHexColor(...r),this.#Tn.style.color="","#000000"===e&&"#ffffff"===t||e===t)return s.url;const o=new Array(256);for(let h=0;h<=255;h++){const e=h/255;o[h]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const l=o.join(","),c=`g_${this.#En}_hcm_filter`,d=s.filter=this.#Mn(c);this.#Ln(l,l,l,d),this.#Dn(d);const u=(e,t)=>{const n=a[e]/255,i=r[e]/255,s=new Array(t+1);for(let a=0;a<=t;a++)s[a]=n+a/t*(i-n);return s.join(",")};return this.#Ln(u(0,5),u(1,5),u(2,5),d),s.url=`url(#${c})`,s.url}addAlphaFilter(e){let t=this.#b.get(e);if(t)return t;const[n]=this.#Pn([e]),i=`alpha_${n}`;if(t=this.#b.get(i),t)return this.#b.set(e,t),t;const s=`g_${this.#En}_alpha_map_${this.#v++}`,a=`url(#${s})`;this.#b.set(e,a),this.#b.set(i,a);const r=this.#Mn(s);return this.#In(n,r),a}addLuminosityFilter(e){let t,n,i=this.#b.get(e||"luminosity");if(i)return i;if(e?([t]=this.#Pn([e]),n=`luminosity_${t}`):n="luminosity",i=this.#b.get(n),i)return this.#b.set(e,i),i;const s=`g_${this.#En}_luminosity_map_${this.#v++}`,a=`url(#${s})`;this.#b.set(e,a),this.#b.set(n,a);const r=this.#Mn(s);return this.#Fn(r),e&&this.#In(t,r),a}addHighlightHCMFilter(e,t,n,i,s){const a=`${t}-${n}-${i}-${s}`;let r=this.#_n.get(e);if(r?.key===a)return r.url;if(r?(r.filter?.remove(),r.key=a,r.url="none",r.filter=null):(r={key:a,url:"none",filter:null},this.#_n.set(e,r)),!t||!n)return r.url;const[o,l]=[t,n].map(this.#Rn.bind(this));let c=Math.round(.2126*o[0]+.7152*o[1]+.0722*o[2]),d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),[u,h]=[i,s].map(this.#Rn.bind(this));d<c&&([c,d,u,h]=[d,c,h,u]),this.#Tn.style.color="";const p=(e,t,n)=>{const i=new Array(256),s=(d-c)/n,a=e/255,r=(t-e)/(255*n);let o=0;for(let l=0;l<=n;l++){const e=Math.round(c+l*s),t=a+l*r;for(let n=o;n<=e;n++)i[n]=t;o=e+1}for(let l=o;l<256;l++)i[l]=i[o-1];return i.join(",")},f=`g_${this.#En}_hcm_${e}_filter`,g=r.filter=this.#Mn(f);return this.#Dn(g),this.#Ln(p(u[0],h[0],5),p(u[1],h[1],5),p(u[2],h[2],5),g),r.url=`url(#${f})`,r.url}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&0!==this.#_n.size||(this.#kn&&(this.#kn.parentNode.parentNode.remove(),this.#kn=null),this.#xn&&(this.#xn.clear(),this.#xn=null),this.#v=0)}#Fn(e){const t=this.#Sn.createElementNS(Jn,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#Dn(e){const t=this.#Sn.createElementNS(Jn,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#Mn(e){const t=this.#Sn.createElementNS(Jn,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#Tn.append(t),t}#Nn(e,t,n){const i=this.#Sn.createElementNS(Jn,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),e.append(i)}#Ln(e,t,n,i){const s=this.#Sn.createElementNS(Jn,"feComponentTransfer");i.append(s),this.#Nn(s,"feFuncR",e),this.#Nn(s,"feFuncG",t),this.#Nn(s,"feFuncB",n)}#In(e,t){const n=this.#Sn.createElementNS(Jn,"feComponentTransfer");t.append(n),this.#Nn(n,"feFuncA",e)}#Rn(e){return this.#Tn.style.color=e,Ai(getComputedStyle(this.#Tn).getPropertyValue("color"))}},ba=mt?class extends $n{_fetchData(e){return Gi(e)}}:ii;function ya(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof e||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new xa,{docId:n}=t,i=e.url?function(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(mt&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(e.url):null,s=e.data?function(e){if(mt&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return Mn(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(e?.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(e.data):null,a=e.httpHeaders||null,r=!0===e.withCredentials,o=e.password??null,l=e.range instanceof ka?e.range:null,c=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:ga;let d=e.worker instanceof Ta?e.worker:null;const u=e.verbosity,h="string"!==typeof e.docBaseUrl||oi(e.docBaseUrl)?null:e.docBaseUrl,p="string"===typeof e.cMapUrl?e.cMapUrl:null,f=!1!==e.cMapPacked,g=e.CMapReaderFactory||va,m="string"===typeof e.standardFontDataUrl?e.standardFontDataUrl:null,v=e.StandardFontDataFactory||ba,A=!0!==e.stopAtErrors,b=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,y=!1!==e.isEvalSupported,w="boolean"===typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!mt,x=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,k="boolean"===typeof e.disableFontFace?e.disableFontFace:mt,E=!0===e.fontExtraProperties,S=!0===e.enableXfa,C=e.ownerDocument||globalThis.document,_=!0===e.disableRange,T=!0===e.disableStream,P=!0===e.disableAutoFetch,M=!0===e.pdfBug,L=!0===e.enableHWA,R=l?l.length:e.length??NaN,D="boolean"===typeof e.useSystemFonts?e.useSystemFonts:!mt&&!k,I="boolean"===typeof e.useWorkerFetch?e.useWorkerFetch:g===ni&&v===ii&&p&&m&&hi(p,document.baseURI)&&hi(m,document.baseURI),F=e.canvasFactory||new ma({ownerDocument:C,enableHWA:L}),N=e.filterFactory||new Aa({docId:n,ownerDocument:C});pn(u);const O={canvasFactory:F,filterFactory:N};if(I||(O.cMapReaderFactory=new g({baseUrl:p,isCompressed:f}),O.standardFontDataFactory=new v({baseUrl:m})),!d){const e={verbosity:u,port:ws.workerPort};d=e.port?Ta.fromPort(e):new Ta(e),t._worker=d}const z={docId:n,apiVersion:"4.4.168",data:s,password:o,disableAutoFetch:P,rangeChunkSize:c,length:R,docBaseUrl:h,enableXfa:S,evaluatorOptions:{maxImageSize:b,disableFontFace:k,ignoreErrors:A,isEvalSupported:y,isOffscreenCanvasSupported:w,canvasMaxAreaInBytes:x,fontExtraProperties:E,useSystemFonts:D,cMapUrl:I?p:null,standardFontDataUrl:I?m:null}},j={disableFontFace:k,fontExtraProperties:E,ownerDocument:C,pdfBug:M,styleElement:null,loadingParams:{disableAutoFetch:P,enableXfa:S}};return d.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const e=d.messageHandler.sendWithPromise("GetDocRequest",z,s?[s.buffer]:null);let o;if(l)o=new zs(l,{disableRange:_,disableStream:T});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");o=(e=>{if(mt){return function(){return"undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype}()&&hi(e.url)?new Ks(e):new na(e)}return hi(e.url)?new Ks(e):new Zs(e)})({url:i,length:R,httpHeaders:a,withCredentials:r,rangeChunkSize:c,disableRange:_,disableStream:T})}return e.then((e=>{if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const i=new Ds(n,e,d.port),s=new Pa(i,t,o,j,O);t._transport=s,i.send("Ready",null)}))})).catch(t._capability.reject),t}function wa(e){return"object"===typeof e&&Number.isInteger(e?.num)&&e.num>=0&&Number.isInteger(e?.gen)&&e.gen>=0}class xa{static#En=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+xa.#En++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await(this._transport?.destroy())}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class ka{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){vn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Ea{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return yn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Sa{#On=null;#zn=!1;constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new ui:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new La,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ai({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return yn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(e){let{canvasContext:t,viewport:n,intent:i="display",annotationMode:s=_t.ENABLE,transform:a=null,background:r=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:d=null}=e;this._stats?.time("Overall");const u=this._transport.getRenderingIntent(i,s,d),{renderingIntent:h,cacheKey:p}=u;this.#zn=!1,this.#jn(),o||=this._transport.getOptionalContentConfig(h);let f=this._intentStates.get(p);f||(f=Object.create(null),this._intentStates.set(p,f)),f.streamReaderCancelTimeout&&(clearTimeout(f.streamReaderCancelTimeout),f.streamReaderCancelTimeout=null);const g=!!(h&xt);f.displayReadyCapability||(f.displayReadyCapability=Promise.withResolvers(),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(u));const m=e=>{f.renderTasks.delete(v),(this._maybeCleanupAfterRender||g)&&(this.#zn=!0),this.#Bn(!g),e?(v.capability.reject(e),this._abortOperatorList({intentState:f,reason:e instanceof Error?e:new Error(e)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new Da({callback:m,params:{canvasContext:t,viewport:n,transform:a,background:r},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:f.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:c});(f.renderTasks||=new Set).add(v);const A=v.task;return Promise.all([f.displayReadyCapability.promise,o]).then((e=>{let[t,n]=e;if(this.destroyed)m();else{if(this._stats?.time("Rendering"),!(n.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:t,optionalContentConfig:n}),v.operatorListChanged()}})).catch(m),A}getOperatorList(){let{intent:e="display",annotationMode:t=_t.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._transport.getRenderingIntent(e,t,n,!0);let s,a=this._intentStates.get(i.cacheKey);return a||(a=Object.create(null),this._intentStates.set(i.cacheKey,a)),a.opListReadCapability||(s=Object.create(null),s.operatorListChanged=function(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(s))},a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(s),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(i)),a.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>fa.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const i=t.getReader(),s={items:[],styles:Object.create(null),lang:null};!function t(){i.read().then((function(n){let{value:i,done:a}=n;a?e(s):(s.lang??=i.lang,Object.assign(s.styles,i.styles),s.items.push(...i.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#zn=!1,this.#jn(),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#zn=!0;const t=this.#Bn(!1);return e&&t&&(this._stats&&=new ui),t}#Bn(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#jn(),!this.#zn||this.destroyed)return!1;if(e)return this.#On=setTimeout((()=>{this.#On=null,this.#Bn(!1)}),5e3),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#zn=!1,!0}#jn(){this.#On&&(clearTimeout(this.#On),this.#On=null)}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#Bn(!0)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:i}=e;const{map:s,transfer:a}=i,r=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:s},a).getReader(),o=this._intentStates.get(n);o.streamReader=r;const l=()=>{r.read().then((e=>{let{value:t,done:n}=e;n?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,o),l())}),(e=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const e of o.renderTasks)e.operatorListChanged();this.#Bn(!0)}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}}))};l()}_abortOperatorList(e){let{intentState:t,reason:n,force:i=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(n instanceof ri){let e=100;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})}),e))}}if(t.streamReader.cancel(new Tn(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}class Ca{#Hn=(()=>new Set)();#Un=(()=>Promise.resolve())();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#Un.then((()=>{for(const e of this.#Hn)e.call(this,n)}))}addEventListener(e,t){this.#Hn.add(t)}removeEventListener(e,t){this.#Hn.delete(t)}terminate(){this.#Hn.clear()}}const _a={isWorkerDisabled:!1,fakeWorkerId:0};mt&&(_a.isWorkerDisabled=!0,ws.workerSrc||="./pdf.worker.mjs"),_a.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch{return!1}const i=new URL(t,n);return n.origin===i.origin},_a.createCDNWrapper=function(e){const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};class Ta{static#Wn;constructor(){let{name:e=null,port:t=null,verbosity:n=fn()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(Ta.#Wn?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(Ta.#Wn||=new WeakMap).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return mt?Promise.all([qi.promise,this._readyCapability.promise]):this._readyCapability.promise}#Vn(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Ds("main","worker",e),this._messageHandler.on("ready",(function(){})),this.#Vn()}_initialize(){if(_a.isWorkerDisabled||Ta.#qn)return void this._setupFakeWorker();let{workerSrc:e}=Ta;try{_a.isSameOrigin(window.location.href,e)||(e=_a.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Ds("main","worker",t),i=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",(()=>{this._webWorker||i()}),{signal:s.signal}),n.on("test",(e=>{s.abort(),!this.destroyed&&e?(this._messageHandler=n,this._port=t,this._webWorker=t,this.#Vn()):i()})),n.on("ready",(e=>{if(s.abort(),this.destroyed)i();else try{a()}catch{this._setupFakeWorker()}}));const a=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void a()}catch{gn("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){_a.isWorkerDisabled||(mn("Setting up fake worker."),_a.isWorkerDisabled=!0),Ta._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new Ca;this._port=t;const n="fake"+_a.fakeWorkerId++,i=new Ds(n+"_worker",n,t);e.setup(i,t),this._messageHandler=new Ds(n,n+"_worker",t),this.#Vn()})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Ta.#Wn?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const t=this.#Wn?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Ta(e)}static get workerSrc(){if(ws.workerSrc)return ws.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#qn(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return yn(this,"_setupFakeWorkerGlobal",(async()=>{if(this.#qn)return this.#qn;return(await import(this.workerSrc)).WorkerMessageHandler})())}}class Pa{#Gn=(()=>new Map)();#Xn=(()=>new Map)();#Kn=(()=>new Map)();#Yn=(()=>new Map)();#Qn=null;constructor(e,t,n,i,s){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new La,this.fontLoader=new Hi({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#$n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#Gn.get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return this.#Gn.set(e,i),i}get annotationStorage(){return yn(this,"annotationStorage",new ji)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_t.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=wt,a=zi;switch(e){case"any":s=yt;break;case"display":break;case"print":s=xt;break;default:mn(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case _t.DISABLE:s+=St;break;case _t.ENABLE:break;case _t.ENABLE_FORMS:s+=kt;break;case _t.ENABLE_STORAGE:s+=Et;a=(s&xt&&n instanceof Bi?n:this.annotationStorage).serializable;break;default:mn(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=Ct),{renderingIntent:s,cacheKey:`${s}_${a.hash}`,annotationStorageSerializable:a}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#Qn?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#Xn.values())e.push(n._destroy());this.#Xn.clear(),this.#Kn.clear(),this.#Yn.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#Gn.clear(),this.filterFactory.destroy(),ua.cleanup(),this._networkStream?.cancelAllRequests(new Tn("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{An(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:i}=e;i?t.close():(An(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const n=Promise.withResolvers(),i=this._fullReader;return i.headersReady.then((()=>{i.isStreamingSupported&&i.isRangeSupported||(this._lastProgress&&t.onProgress?.(this._lastProgress),i.onProgress=e=>{t.onProgress?.({loaded:e.loaded,total:e.total})}),n.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{An(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:i}=e;i?t.close():(An(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new Ea(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new xn(e.message,e.code);break;case"InvalidPDFException":n=new En(e.message);break;case"MissingPDFException":n=new Sn(e.message);break;case"UnexpectedResponseException":n=new Cn(e.message,e.status);break;case"UnknownErrorException":n=new kn(e.message,e.details);break;default:vn("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(this.#Qn=Promise.withResolvers(),t.onPassword){const i=e=>{e instanceof Error?this.#Qn.reject(e):this.#Qn.resolve({password:e})};try{t.onPassword(i,e.code)}catch(n){this.#Qn.reject(n)}}else this.#Qn.reject(new xn(e.message,e.code));return this.#Qn.promise})),e.on("DataLoaded",(e=>{t.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{if(this.destroyed)return;this.#Xn.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{let[n,i,s]=t;if(this.destroyed)return null;if(this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:t,fontExtraProperties:a,pdfBug:r}=this._params;if("error"in s){const e=s.error;mn(`Error during font loading: ${e}`),this.commonObjs.resolve(n,e);break}const o=r&&globalThis.FontInspector?.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,l=new Ui(s,{disableFontFace:t,inspectFont:o});this.fontLoader.bind(l).catch((()=>e.sendWithPromise("FontFallback",{id:n}))).finally((()=>{!a&&l.data&&(l.data=null),this.commonObjs.resolve(n,l)}));break;case"CopyLocalImage":const{imageRef:c}=s;An(c,"The imageRef must be defined.");for(const e of this.#Xn.values())for(const[,t]of e.objs)if(t?.ref===c)return t.dataLen?(this.commonObjs.resolve(n,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null})),e.on("obj",(e=>{let[t,n,i,s]=e;if(this.destroyed)return;const a=this.#Xn.get(n);if(!a.objs.has(t))if(0!==a._intentStates.size)switch(i){case"Image":a.objs.resolve(t,s),s?.dataLen>1e7&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(t,s);break;default:throw new Error(`Got unknown object type ${i}`)}else s?.bitmap?.close()})),e.on("DocProgress",(e=>{this.destroyed||t.onProgress?.({loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&mn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#Kn.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&this.#Yn.set(n.refStr,e);const i=new Sa(t,n,this,this._params.pdfBug);return this.#Xn.set(t,i),i}));return this.#Kn.set(t,i),i}getPageIndex(e){return wa(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#$n("GetFieldObjects")}hasJSActions(){return this.#$n("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#$n("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#$n("GetOptionalContentConfig").then((t=>new Os(t,e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#Gn.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>({info:e[0],metadata:e[1]?new Is(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})));return this.#Gn.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#Xn.values()){if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`)}this.commonObjs.clear(),e||this.fontLoader.clear(),this.#Gn.clear(),this.filterFactory.destroy(!0),ua.cleanup()}}cachedPageNumber(e){if(!wa(e))return null;const t=0===e.gen?`${e.num}R`:`${e.num}R${e.gen}`;return this.#Yn.get(t)??null}}const Ma=Symbol("INITIAL_DATA");class La{#Zn=(()=>Object.create(null))();#Jn(e){return this.#Zn[e]||={...Promise.withResolvers(),data:Ma}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=this.#Jn(e);return n.promise.then((()=>t(n.data))),null}const n=this.#Zn[e];if(!n||n.data===Ma)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#Zn[e];return!!t&&t.data!==Ma}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#Jn(e);n.data=t,n.resolve()}clear(){for(const e in this.#Zn){const{data:t}=this.#Zn[e];t?.bitmap?.close()}this.#Zn=Object.create(null)}*[Symbol.iterator](){for(const e in this.#Zn){const{data:t}=this.#Zn[e];t!==Ma&&(yield[e,t])}}}class Ra{#ei=null;constructor(e){this.#ei=e,this.onContinue=null}get promise(){return this.#ei.capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.#ei.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#ei.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#ei;return e.form||e.canvas&&t?.size>0}}class Da{#ti=null;static#ni=(()=>new WeakSet)();constructor(e){let{callback:t,params:n,objs:i,commonObjs:s,annotationCanvasMap:a,operatorList:r,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:u=!1,pageColors:h=null}=e;this.callback=t,this.params=n,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=u,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Ra(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){let{transparency:t=!1,optionalContentConfig:n}=e;if(this.cancelled)return;if(this._canvas){if(Da.#ni.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Da.#ni.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:a,background:r}=this.params;this.gfx=new ys(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:s,transparency:t,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#ti&&(window.cancelAnimationFrame(this.#ti),this.#ti=null),Da.#ni.delete(this._canvas),this.callback(e||new ri(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#ti=window.requestAnimationFrame((()=>{this.#ti=null,this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Da.#ni.delete(this._canvas),this.callback())))}}const Ia="4.4.168",Fa="19fbc8998";function Na(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function Oa(e){return Math.max(0,Math.min(255,255*e))}class za{static CMYK_G(e){let[t,n,i,s]=e;return["G",1-Math.min(1,.3*t+.59*i+.11*n+s)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=Oa(t),[t,t,t]}static G_HTML(e){let[t]=e;const n=Na(t);return`#${n}${n}${n}`}static RGB_G(e){let[t,n,i]=e;return["G",.3*t+.59*n+.11*i]}static RGB_rgb(e){return e.map(Oa)}static RGB_HTML(e){return`#${e.map(Na).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,i,s]=e;return["RGB",1-Math.min(1,t+s),1-Math.min(1,i+s),1-Math.min(1,n+s)]}static CMYK_rgb(e){let[t,n,i,s]=e;return[Oa(1-Math.min(1,t+s)),Oa(1-Math.min(1,i+s)),Oa(1-Math.min(1,n+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,i]=e;const s=1-t,a=1-n,r=1-i;return["CMYK",s,a,r,Math.min(s,a,r)]}}class ja{static setupStorage(e,t,n,i,s){const a=i.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(e.textContent=a.value),"print"===s)break;e.addEventListener("input",(e=>{i.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===s)break;e.addEventListener("change",(e=>{i.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==a.value&&e.setAttribute("value",a.value),"print"===s)break;e.addEventListener("input",(e=>{i.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==a.value){e.setAttribute("value",a.value);for(const e of n.children)e.attributes.value===a.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",(e=>{const n=e.target.options,s=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(t,{value:s})}))}}static setAttributes(e){let{html:t,element:n,storage:i=null,intent:s,linkService:a}=e;const{attributes:r}=n,o=t instanceof HTMLAnchorElement;"radio"===r.type&&(r.name=`${r.name}-${s}`);for(const[l,c]of Object.entries(r))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&a.addLinkAttributes(t,r.href,r.newWindow),i&&r.dataId&&this.setupStorage(t,r.dataId,n,i)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const r="richText"!==s,o=e.div;if(o.append(a),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;o.style.transform=t}r&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===i.children.length){if(i.value){const e=document.createTextNode(i.value);a.append(e),r&&fa.shouldBuildText(i.name)&&l.push(e)}return{textDivs:l}}const c=[[i,-1,a]];for(;c.length>0;){const[e,i,a]=c.at(-1);if(i+1===e.children.length){c.pop();continue}const o=e.children[++c.at(-1)[1]];if(null===o)continue;const{name:d}=o;if("#text"===d){const e=document.createTextNode(o.value);l.push(e),a.append(e);continue}const u=o?.attributes?.xmlns?document.createElementNS(o.attributes.xmlns,d):document.createElement(d);if(a.append(u),o.attributes&&this.setAttributes({html:u,element:o,storage:t,intent:s,linkService:n}),o.children?.length>0)c.push([o,-1,u]);else if(o.value){const e=document.createTextNode(o.value);r&&fa.shouldBuildText(d)&&l.push(e),u.append(e)}}for(const d of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ba=1e3,Ha=new WeakSet;function Ua(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class Wa{static create(e){switch(e.data.annotationType){case jt:return new qa(e);case zt:return new Ga(e);case tn:switch(e.data.fieldType){case"Tx":return new Ka(e);case"Btn":return e.data.radioButton?new $a(e):e.data.checkBox?new Qa(e):new Za(e);case"Ch":return new Ja(e);case"Sig":return new Ya(e)}return new Xa(e);case Jt:return new er(e);case Bt:return new nr(e);case Ht:return new ir(e);case Ut:return new sr(e);case Wt:return new ar(e);case qt:return new rr(e);case $t:return new lr(e);case Zt:return new cr(e);case Vt:return new or(e);case Gt:return new dr(e);case Xt:return new ur(e);case Kt:return new hr(e);case Yt:return new pr(e);case Qt:return new fr(e);case en:return new gr(e);default:return new Va(e)}}}class Va{#ii=null;#si=!1;#ai=null;constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:n,richText:i}=e;return!!(t?.str||n?.str||i?.str)}get hasPopupData(){return Va._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#ii||={rect:this.data.rect.slice(0)};const{rect:t}=e;t&&this.#ri(t),this.#ai?.popup.updateEdited(e)}resetEdited(){this.#ii&&(this.#ri(this.#ii.rect),this.#ai?.popup.resetEdited(),this.#ii=null)}#ri(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:r,pageY:o}}}}=this;n?.splice(0,4,...e);const{width:l,height:c}=Ua(e);t.left=100*(e[0]-r)/s+"%",t.top=100*(a-e[3]+o)/a+"%",0===i?(t.width=100*l/s+"%",t.height=100*c/a+"%"):this.setRotation(i)}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Xa||(s.tabIndex=Ba);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof er){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,s),s}const{width:r,height:o}=Ua(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`calc(${e}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;a.borderRadius=t}else if(this instanceof $a){const e=`calc(${r}px * var(--scale-factor)) / calc(${o}px * var(--scale-factor))`;a.borderRadius=e}switch(t.borderStyle.style){case nn:a.borderStyle="solid";break;case sn:a.borderStyle="dashed";break;case an:mn("Unimplemented border style: beveled");break;case rn:mn("Unimplemented border style: inset");break;case on:a.borderBottomStyle="solid"}const i=t.borderColor||null;i?(this.#si=!0,a.borderColor=In.makeHexColor(0|i[0],0|i[1],0|i[2])):a.borderWidth=0}const l=In.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:d,pageX:u,pageY:h}=i.rawDims;a.left=100*(l[0]-u)/c+"%",a.top=100*(l[1]-h)/d+"%";const{rotation:p}=t;return t.hasOwnCanvas||0===p?(a.width=100*r/c+"%",a.height=100*o/d+"%"):this.setRotation(p,s),s}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:a}=Ua(this.data.rect);let r,o;e%180===0?(r=100*s/n,o=100*a/i):(r=100*a/n,o=100*s/i),t.style.width=`${r}%`,t.style.height=`${o}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const i=n.detail[e],s=i[0],a=i.slice(1);n.target.style[t]=za[`${s}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[t]:za[`${s}_rgb`](a)})};return yn(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||n[i];s?.(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,s]of Object.entries(t)){const a=n[i];if(a){a({detail:{[i]:s},target:e}),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,s]=this.data.rect.map((e=>Math.fround(e)));if(8===e.length){const[a,r,o,l]=e.subarray(2,6);if(i===a&&s===r&&t===o&&n===l)return}const{style:a}=this.container;let r;if(this.#si){const{borderColor:e,borderWidth:t}=a;a.borderWidth=0,r=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${e}" stroke-width="${t}">`],this.container.classList.add("hasBorder")}const o=i-t,l=s-n,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const u=c.createElement("defs");d.append(u);const h=c.createElement("clipPath"),p=`clippath_${this.data.id}`;h.setAttribute("id",p),h.setAttribute("clipPathUnits","objectBoundingBox"),u.append(h);for(let f=2,g=e.length;f<g;f+=8){const n=e[f],i=e[f+1],a=e[f+2],d=e[f+3],u=c.createElement("rect"),p=(a-t)/o,g=(s-i)/l,m=(n-a)/o,v=(i-d)/l;u.setAttribute("x",p),u.setAttribute("y",g),u.setAttribute("width",m),u.setAttribute("height",v),h.append(u),r?.push(`<rect vector-effect="non-scaling-stroke" x="${p}" y="${g}" width="${m}" height="${v}"/>`)}this.#si&&(r.push("</g></svg>')"),a.backgroundImage=r.join("")),this.container.append(d),this.container.style.clipPath=`url(#${p})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=this.#ai=new er({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){vn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:s,exportValues:a}of i){if(-1===e)continue;if(s===t)continue;const i="string"===typeof a?a:null,r=document.querySelector(`[data-element-id="${s}"]`);!r||Ha.has(r)?n.push({id:s,exportValue:i,domElement:r}):mn(`_getElementsByName - element not allowed: ${s}`)}return n}for(const i of document.getElementsByName(e)){const{exportValue:e}=i,s=i.getAttribute("data-element-id");s!==t&&(Ha.has(i)&&n.push({id:s,exportValue:e,domElement:i}))}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",(()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})}))}}class qa extends Va{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(n,e.action),i=!0):e.attachment?(this.#oi(n,e.attachment,e.attachmentDest),i=!0):e.setOCGState?(this.#li(n,e.setOCGState),i=!0):e.dest?(this._bindLink(n,e.dest),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),i=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}#ci(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&this.#ci()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#ci()}#oi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,n),!1),this.#ci()}#li(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#ci()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const s=n.get(i);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}e.onclick||(e.onclick=()=>!1),this.#ci()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#ci(),!this._fieldObjects)return mn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{n?.();const{fields:e,refs:i,include:s}=t,a=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===s&&a.push(n)}else for(const t of Object.values(this._fieldObjects))a.push(...t);const r=this.annotationStorage,o=[];for(const t of a){const{id:e}=t;switch(o.push(e),t.type){case"text":{const n=t.defaultValue||"";r.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;r.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";r.setValue(e,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${e}"]`);n&&(Ha.has(n)?n.dispatchEvent(new Event("resetform")):mn(`_bindResetFormAction - element not allowed: ${e}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}),!1}}}class Ga extends Va{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Xa extends Va{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&("CANVAS"===e.previousSibling?.nodeName&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Rn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,s){n.includes("mouse")?e.addEventListener(n,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(n,(e=>{if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(e)}})}))}_setEventListeners(e,t,n,i){for(const[s,a]of n)("Action"===a||this.data.actions?.[a])&&("Focus"!==a&&"Blur"!==a||(t||={focused:!1}),this._setEventListener(e,t,s,a,i),"Focus"!==a||this.data.actions?.Blur?"Blur"!==a||this.data.actions?.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":In.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,s=e.style;let a;const r=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(bt*i))||1);a=Math.min(i,r(t/bt))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);a=Math.min(i,r(e/bt))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=In.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Ka extends Xa{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),s.setValue(a.id,{[i]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const i=e.getValue(t,{value:this.data.fieldValue});let s=i.value||"";const a=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;a&&s.length>a&&(s=s.slice(0,a));let r=i.formattedValue||this.data.textContent?.join("\n")||null;r&&this.data.comb&&(r=r.replaceAll(/\s+/g,""));const o={userValue:s,formattedValue:r,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=r??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",r??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Ha.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Ba,this._setRequired(n,this.data.required),a&&(n.maxLength=a),n.addEventListener("input",(i=>{e.setValue(t,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),o.formattedValue=null})),n.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue??"";n.value=o.userValue=t,o.formattedValue=null}));let l=e=>{const{formattedValue:t}=o;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(e=>{if(o.focused)return;const{target:t}=e;o.userValue&&(t.value=o.userValue),o.lastCommittedValue=t.value,o.commitKey=1,this.data.actions?.Focus||(o.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const i={value(n){o.userValue=n.detail.value??"",e.setValue(t,{value:o.userValue.toString()}),n.target.value=o.userValue},formattedValue(n){const{formattedValue:i}=n.detail;o.formattedValue=i,null!==i&&void 0!==i&&n.target!==document.activeElement&&(n.target.value=i),e.setValue(t,{formattedValue:i})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{const{charLimit:i}=n.detail,{target:s}=n;if(0===i)return void s.removeAttribute("maxLength");s.setAttribute("maxLength",i);let a=o.userValue;!a||a.length<=i||(a=a.slice(0,i),s.value=o.userValue=a,e.setValue(t,{value:a}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)})),n.addEventListener("keydown",(e=>{o.commitKey=1;let n=-1;if("Escape"===e.key?n=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(o.commitKey=3):n=2,-1===n)return;const{value:i}=e.target;o.lastCommittedValue!==i&&(o.lastCommittedValue=i,o.userValue=i,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const i=l;l=null,n.addEventListener("blur",(e=>{if(!o.focused||!e.relatedTarget)return;this.data.actions?.Blur||(o.focused=!1);const{value:n}=e.target;o.userValue=n,o.lastCommittedValue!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:o.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),i(e)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(e=>{o.lastCommittedValue=null;const{data:n,target:i}=e,{value:s,selectionStart:a,selectionEnd:r}=i;let l=a,c=r;switch(e.inputType){case"deleteWordBackward":{const e=s.substring(0,a).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=s.substring(a).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":a===r&&(l-=1);break;case"deleteContentForward":a===r&&(c+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,change:n||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(l&&n.addEventListener("blur",l),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/a;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Ya extends Xa{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Qa extends Xa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Ha.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Ba,s.addEventListener("change",(i=>{const{name:s,checked:a}=i.target;for(const r of this._getElementsByName(s,n)){const n=a&&r.exportValue===t.exportValue;r.domElement&&(r.domElement.checked=n),e.setValue(r.id,{value:n})}e.setValue(n,{value:a})})),s.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",(t=>{const i={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class $a extends Xa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof i&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Ha.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Ba,s.addEventListener("change",(t=>{const{name:i,checked:s}=t.target;for(const a of this._getElementsByName(i,n))e.setValue(a.id,{value:!1});e.setValue(n,{value:s})})),s.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const i=t.buttonValue;s.addEventListener("updatefromsandbox",(t=>{const s={value:t=>{const s=i===t.detail.value;for(const i of this._getElementsByName(t.target.name)){const t=s&&i.id===n;i.domElement&&(i.domElement.checked=t),e.setValue(i.id,{value:t})}}};this._dispatchEventFromSandbox(s,t)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Za extends qa{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class Ja extends Xa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Ha.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Ba;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===t}));for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),s=!1),i.append(e)}let a=null;if(s){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),i.prepend(e),a=()=>{e.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const r=e=>{const t=e?"value":"textContent",{options:n,multiple:s}=i;return s?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=r(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(n=>{const s={value(n){a?.();const s=n.detail.value,l=new Set(Array.isArray(s)?s:[s]);for(const e of i.options)e.selected=l.has(e.value);e.setValue(t,{value:r(!0)}),o=r(!1)},multipleSelection(e){i.multiple=!0},remove(n){const s=i.options,a=n.detail.remove;if(s[a].selected=!1,i.remove(a),s.length>0){-1===Array.prototype.findIndex.call(s,(e=>e.selected))&&(s[0].selected=!0)}e.setValue(t,{value:r(!0),items:l(n)}),o=r(!1)},clear(n){for(;0!==i.length;)i.remove(0);e.setValue(t,{value:null,items:[]}),o=r(!1)},insert(n){const{index:s,displayValue:a,exportValue:c}=n.detail.insert,d=i.children[s],u=document.createElement("option");u.textContent=a,u.value=c,d?d.before(u):i.append(u),e.setValue(t,{value:r(!0),items:l(n)}),o=r(!1)},items(n){const{items:s}=n.detail;for(;0!==i.length;)i.remove(0);for(const e of s){const{displayValue:t,exportValue:n}=e,s=document.createElement("option");s.textContent=t,s.value=n,i.append(s)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:r(!0),items:l(n)}),o=r(!1)},indices(n){const i=new Set(n.detail.indices);for(const e of n.target.options)e.selected=i.has(e.index);e.setValue(t,{value:r(!0)}),o=r(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(s,n)})),i.addEventListener("input",(n=>{const i=r(!0),s=r(!1);e.setValue(t,{value:i}),n.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:s,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):i.addEventListener("input",(function(n){e.setValue(t,{value:r(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class er extends Va{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Va._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new tr({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map((e=>`${zn}${e}`)).join(",")),this.container}}class tr{#di=this.#ui.bind(this);#hi=this.#pi.bind(this);#fi=this.#gi.bind(this);#mi=this.#vi.bind(this);#Ai=null;#me=null;#bi=null;#yi=null;#wi=null;#xi=null;#ki=null;#Ei=!1;#Si=null;#E=null;#Ci=null;#_i=null;#Ti=null;#ii=null;#Pi=!1;constructor(e){let{container:t,color:n,elements:i,titleObj:s,modificationDate:a,contentsObj:r,richText:o,parent:l,rect:c,parentRect:d,open:u}=e;this.#me=t,this.#Ti=s,this.#bi=r,this.#_i=o,this.#xi=l,this.#Ai=n,this.#Ci=c,this.#ki=d,this.#wi=i,this.#yi=mi.toDateObject(a),this.trigger=i.flatMap((e=>e.getElementsToTriggerPopup()));for(const h of this.trigger)h.addEventListener("click",this.#mi),h.addEventListener("mouseenter",this.#fi),h.addEventListener("mouseleave",this.#hi),h.classList.add("popupTriggerArea");for(const h of i)h.container?.addEventListener("keydown",this.#di);this.#me.hidden=!0,u&&this.#vi()}render(){if(this.#Si)return;const e=this.#Si=document.createElement("div");if(e.className="popup",this.#Ai){const t=e.style.outlineColor=In.makeHexColor(...this.#Ai);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))e.style.backgroundColor=`color-mix(in srgb, ${t} 30%, white)`;else{const t=.7;e.style.backgroundColor=In.makeHexColor(...this.#Ai.map((e=>Math.floor(t*(255-e)+e))))}}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),({dir:n.dir,str:n.textContent}=this.#Ti),e.append(t),this.#yi){const e=document.createElement("span");e.classList.add("popupDate"),e.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),e.setAttribute("data-l10n-args",JSON.stringify({date:this.#yi.toLocaleDateString(),time:this.#yi.toLocaleTimeString()})),t.append(e)}const i=this.#Mi;if(i)ja.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const t=this._formatContents(this.#bi);e.append(t)}this.#me.append(e)}get#Mi(){const e=this.#_i,t=this.#bi;return!e?.str||t?.str&&t.str!==e.str?null:this.#_i.html||null}get#Li(){return this.#Mi?.attributes?.style?.fontSize||0}get#Ri(){return this.#Mi?.attributes?.style?.color||null}#Di(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:this.#Ri,fontSize:this.#Li?`calc(${this.#Li}px * var(--scale-factor))`:""}};for(const s of e.split("\n"))t.push({name:"span",value:s,attributes:i});return n}_formatContents(e){let{str:t,dir:n}=e;const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const s=t.split(/(?:\r\n?|\n)/);for(let a=0,r=s.length;a<r;++a){const e=s[a];i.append(document.createTextNode(e)),a<r-1&&i.append(document.createElement("br"))}return i}#ui(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&this.#Ei)&&this.#vi()}updateEdited(e){let{rect:t,popupContent:n}=e;this.#ii||={contentsObj:this.#bi,richText:this.#_i},t&&(this.#E=null),n&&(this.#_i=this.#Di(n),this.#bi=null),this.#Si?.remove(),this.#Si=null}resetEdited(){this.#ii&&(({contentsObj:this.#bi,richText:this.#_i}=this.#ii),this.#ii=null,this.#Si?.remove(),this.#Si=null,this.#E=null)}#Ii(){if(null!==this.#E)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:s}}}=this.#xi;let a=!!this.#ki,r=a?this.#ki:this.#Ci;for(const h of this.#wi)if(!r||null!==In.intersect(h.data.rect,r)){r=h.data.rect,a=!0;break}const o=In.normalizeRect([r[0],e[3]-r[1]+e[1],r[2],e[3]-r[3]+e[1]]),l=a?r[2]-r[0]+5:0,c=o[0]+l,d=o[1];this.#E=[100*(c-i)/t,100*(d-s)/n];const{style:u}=this.#me;u.left=`${this.#E[0]}%`,u.top=`${this.#E[1]}%`}#vi(){this.#Ei=!this.#Ei,this.#Ei?(this.#gi(),this.#me.addEventListener("click",this.#mi),this.#me.addEventListener("keydown",this.#di)):(this.#pi(),this.#me.removeEventListener("click",this.#mi),this.#me.removeEventListener("keydown",this.#di))}#gi(){this.#Si||this.render(),this.isVisible?this.#Ei&&this.#me.classList.add("focused"):(this.#Ii(),this.#me.hidden=!1,this.#me.style.zIndex=parseInt(this.#me.style.zIndex)+1e3)}#pi(){this.#me.classList.remove("focused"),!this.#Ei&&this.isVisible&&(this.#me.hidden=!0,this.#me.style.zIndex=parseInt(this.#me.style.zIndex)-1e3)}forceHide(){this.#Pi=this.isVisible,this.#Pi&&(this.#me.hidden=!0)}maybeShow(){this.#Pi&&(this.#Si||this.#gi(),this.#Pi=!1,this.#me.hidden=!1)}get isVisible(){return!1===this.#me.hidden}}class nr extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Tt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class ir extends Va{#Fi=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:n}=Ua(e.rect),i=this.svgFactory.create(t,n,!0),s=this.#Fi=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Fi}addHighlightArea(){this.container.classList.add("highlightArea")}}class sr extends Va{#Ni=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:n}=Ua(e.rect),i=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,a=this.#Ni=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",t-s),a.setAttribute("height",n-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Ni}addHighlightArea(){this.container.classList.add("highlightArea")}}class ar extends Va{#Oi=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:n}=Ua(e.rect),i=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,a=this.#Oi=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-s/2),a.setAttribute("ry",n/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Oi}addHighlightArea(){this.container.classList.add("highlightArea")}}class rr extends Va{#zi=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:i}}=this;if(!t)return this.container;const{width:s,height:a}=Ua(e),r=this.svgFactory.create(s,a,!0);let o=[];for(let c=0,d=t.length;c<d;c+=2){const n=t[c]-e[0],i=e[3]-t[c+1];o.push(`${n},${i}`)}o=o.join(" ");const l=this.#zi=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#zi}addHighlightArea(){this.container.classList.add("highlightArea")}}class or extends rr{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class lr extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class cr extends Va{#ji=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Tt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:t,borderStyle:n,popupRef:i}}=this,{width:s,height:a}=Ua(e),r=this.svgFactory.create(s,a,!0);for(const o of t){let t=[];for(let n=0,i=o.length;n<i;n+=2){const i=o[n]-e[0],s=e[3]-o[n+1];t.push(`${i},${s}`)}t=t.join(" ");const s=this.svgFactory.createElement(this.svgElementName);this.#ji.push(s),s.setAttribute("points",t),s.setAttribute("stroke-width",n.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),!i&&this.hasPopupData&&this._createPopup(),r.append(s)}return this.container.append(r),this.container}getElementsToTriggerPopup(){return this.#ji}addHighlightArea(){this.container.classList.add("highlightArea")}}class dr extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ur extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class hr extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class pr extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class fr extends Va{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class gr extends Va{#Bi=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),n.addEventListener("dblclick",this.#Hi.bind(this)),this.#Bi=n;const{isMac:i}=Rn.platform;return e.addEventListener("keydown",(e=>{"Enter"===e.key&&(i?e.metaKey:e.ctrlKey)&&this.#Hi()})),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#Bi}addHighlightArea(){this.container.classList.add("highlightArea")}#Hi(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class mr{#Ui=null;#Wi=null;#Vi=(()=>new Map)();constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:s,page:a,viewport:r}=e;this.div=t,this.#Ui=n,this.#Wi=i,this.page=a,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=s}#qi(e,t){const n=e.firstChild||e;n.id=`${zn}${t}`,this.div.append(e),this.#Ui?.moveElementInDOM(this.div,e,n,!1)}async render(e){const{annotations:t}=e,n=this.div;wi(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new si,annotationStorage:e.annotationStorage||new ji,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const e=a.annotationType===Jt;if(e){const e=i.get(a.id);if(!e)continue;s.elements=e}else{const{width:e,height:t}=Ua(a.rect);if(e<=0||t<=0)continue}s.data=a;const t=Wa.create(s);if(!t.isRenderable)continue;if(!e&&a.popupRef){const e=i.get(a.popupRef);e?e.push(t):i.set(a.popupRef,[t])}const n=t.render();a.hidden&&(n.style.visibility="hidden"),this.#qi(n,a.id),t.annotationEditorType>0&&(this.#Vi.set(t.data.id,t),this._annotationEditorUIManager?.renderAnnotationElement(t))}this.#Gi()}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,wi(n,{rotation:t.rotation}),this.#Gi(),n.hidden=!1}#Gi(){if(!this.#Wi)return;const e=this.div;for(const[t,n]of this.#Wi){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:s}=i;s?"CANVAS"===s.nodeName?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):i.append(n)}this.#Wi.clear()}getEditableAnnotations(){return Array.from(this.#Vi.values())}getEditableAnnotation(e){return this.#Vi.get(e)}}const vr=/\r\n?|\n/g;class Ar extends Ri{#Xi=this.editorDivBlur.bind(this);#Ki=this.editorDivFocus.bind(this);#Yi=this.editorDivInput.bind(this);#Qi=this.editorDivKeydown.bind(this);#$i=this.editorDivPaste.bind(this);#Ai;#Zi="";#Ji=`${this.id}-editor`;#Li;#es=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Ar.prototype,t=e=>e.isEmpty(),n=Mi.TRANSLATE_SMALL,i=Mi.TRANSLATE_BIG;return yn(this,"_keyboardManager",new Ti([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";static _editorType=(()=>Tt.FREETEXT)();constructor(e){super({...e,name:"freeTextEditor"}),this.#Ai=e.color||Ar._defaultColor||Ri._defaultLineColor,this.#Li=e.fontSize||Ar._defaultFontSize}static initialize(e,t){Ri.initialize(e,t,{strings:["pdfjs-free-text-default-content"]});const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Pt.FREETEXT_SIZE:Ar._defaultFontSize=t;break;case Pt.FREETEXT_COLOR:Ar._defaultColor=t}}updateParams(e,t){switch(e){case Pt.FREETEXT_SIZE:this.#ts(t);break;case Pt.FREETEXT_COLOR:this.#ns(t)}}static get defaultPropertiesToUpdate(){return[[Pt.FREETEXT_SIZE,Ar._defaultFontSize],[Pt.FREETEXT_COLOR,Ar._defaultColor||Ri._defaultLineColor]]}get propertiesToUpdate(){return[[Pt.FREETEXT_SIZE,this.#Li],[Pt.FREETEXT_COLOR,this.#Ai]]}#ts(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#Li)*this.parentScale),this.#Li=e,this.#is()},n=this.#Li;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#ns(e){const t=e=>{this.#Ai=this.editorDiv.style.color=e},n=this.#Ai;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Ar._internalPadding*e,-(Ar._internalPadding+this.#Li)*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Tt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const e=this._uiManager._signal;this.editorDiv.addEventListener("keydown",this.#Qi,{signal:e}),this.editorDiv.addEventListener("focus",this.#Ki,{signal:e}),this.editorDiv.addEventListener("blur",this.#Xi,{signal:e}),this.editorDiv.addEventListener("input",this.#Yi,{signal:e}),this.editorDiv.addEventListener("paste",this.#$i,{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#Ji),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#Qi),this.editorDiv.removeEventListener("focus",this.#Ki),this.editorDiv.removeEventListener("blur",this.#Xi),this.editorDiv.removeEventListener("input",this.#Yi),this.editorDiv.removeEventListener("paste",this.#$i),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#ss(){const e=[];this.editorDiv.normalize();for(const t of this.editorDiv.childNodes)e.push(Ar.#as(t));return e.join("\n")}#is(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,i=t.style.display,s=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=i,t.classList.toggle("hidden",s)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#Zi,t=this.#Zi=this.#ss().trimEnd();if(e===t)return;const n=e=>{this.#Zi=e,e?(this.#rs(),this._uiManager.rebuild(this),this.#is()):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#is()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Ar._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#Ji),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Ri._l10nPromise.get("pdfjs-free-text-default-content").then((e=>this.editorDiv?.setAttribute("default-content",e))),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#Li}px * var(--scale-factor))`,n.color=this.#Ai,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Ei(this,this.div,["dblclick","keydown"]),this.width){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this.#es;let[a,r]=this.getInitialTranslation();[a,r]=this.pageTranslationToScreen(a,r);const[o,l]=this.pageDimensions,[c,d]=this.pageTranslation;let u,h;switch(this.rotation){case 0:u=e+(s[0]-c)/o,h=t+this.height-(s[1]-d)/l;break;case 90:u=e+(s[0]-c)/o,h=t-(s[1]-d)/l,[a,r]=[r,-a];break;case 180:u=e-this.width+(s[0]-c)/o,h=t-(s[1]-d)/l,[a,r]=[-a,-r];break;case 270:u=e+(s[0]-c-this.height*l)/o,h=t+(s[1]-d-this.width*o)/l,[a,r]=[-r,a]}this.setAt(u*n,h*i,a,r)}else this.setAt(e*n,t*i,this.width*n,this.height*i);this.#rs(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#as(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(vr,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const i=Ar.#os(t.getData("text")||"").replaceAll(vr,"\n");if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!i.includes("\n"))return a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void s.collapseToStart();const{startContainer:r,startOffset:o}=a,l=[],c=[];if(r.nodeType===Node.TEXT_NODE){const e=r.parentElement;if(c.push(r.nodeValue.slice(o).replaceAll(vr,"")),e!==this.editorDiv){let t=l;for(const n of this.editorDiv.childNodes)n!==e?t.push(Ar.#as(n)):t=c}l.push(r.nodeValue.slice(0,o).replaceAll(vr,""))}else if(r===this.editorDiv){let e=l,t=0;for(const n of this.editorDiv.childNodes)t++===o&&(e=c),e.push(Ar.#as(n))}this.#Zi=`${l.join("\n")}${i}${c.join("\n")}`,this.#rs();const d=new Range;let u=l.reduce(((e,t)=>e+t.length),0);for(const{firstChild:h}of this.editorDiv.childNodes)if(h.nodeType===Node.TEXT_NODE){const e=h.nodeValue.length;if(u<=e){d.setStart(h,u),d.setEnd(h,u);break}u-=e}s.removeAllRanges(),s.addRange(d)}#rs(){if(this.editorDiv.replaceChildren(),this.#Zi)for(const e of this.#Zi.split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#ls(){return this.#Zi.replaceAll("\xa0"," ")}static#os(e){return e.replaceAll(" ","\xa0")}get contentDiv(){return this.editorDiv}static deserialize(e,t,n){let i=null;if(e instanceof nr){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:s,rotation:a,id:r},textContent:o,textPosition:l,parent:{page:{pageNumber:c}}}=e;if(!o||0===o.length)return null;i=e={annotationType:Tt.FREETEXT,color:Array.from(n),fontSize:t,value:o.join("\n"),position:l,pageIndex:c-1,rect:s.slice(0),rotation:a,id:r,deleted:!1}}const s=super.deserialize(e,t,n);return s.#Li=e.fontSize,s.#Ai=In.makeHexColor(...e.color),s.#Zi=Ar.#os(e.value),s.annotationElementId=e.id||null,s.#es=i,s}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const t=Ar._internalPadding*this.parentScale,n=this.getRect(t,t),i=Ri._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#Ai),s={annotationType:Tt.FREETEXT,color:i,fontSize:this.#Li,value:this.#ls(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?s:this.annotationElementId&&!this.#cs(s)?null:(s.id=this.annotationElementId,s)}#cs(e){const{value:t,fontSize:n,color:i,pageIndex:s}=this.#es;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some(((e,t)=>e!==i[t]))||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize=`calc(${this.#Li}px * var(--scale-factor))`,n.color=this.#Ai,t.replaceChildren();for(const s of this.#Zi.split("\n")){const e=document.createElement("div");e.append(s?document.createTextNode(s):document.createElement("br")),t.append(e)}const i=Ar._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(i,i),popupContent:this.#Zi}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class br{#ds;#us=[];#hs=[];constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=1/0,a=-1/0,r=1/0,o=-1/0;const l=10**-4;for(const{x:g,y:m,width:v,height:A}of e){const e=Math.floor((g-t)/l)*l,n=Math.ceil((g+v+t)/l)*l,i=Math.floor((m-t)/l)*l,c=Math.ceil((m+A+t)/l)*l,d=[e,i,c,!0],u=[n,i,c,!1];this.#us.push(d,u),s=Math.min(s,e),a=Math.max(a,n),r=Math.min(r,i),o=Math.max(o,c)}const c=a-s+2*n,d=o-r+2*n,u=s-n,h=r-n,p=this.#us.at(i?-1:-2),f=[p[0],p[2]];for(const g of this.#us){const[e,t,n]=g;g[0]=(e-u)/c,g[1]=(t-h)/d,g[2]=(n-h)/d}this.#ds={x:u,y:h,width:c,height:d,lastPoint:f}}getOutlines(){this.#us.sort(((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]));const e=[];for(const t of this.#us)t[3]?(e.push(...this.#ps(t)),this.#fs(t)):(this.#gs(t),e.push(...this.#ps(t)));return this.#ms(e)}#ms(e){const t=[],n=new Set;for(const a of e){const[e,n,i]=a;t.push([e,n,a],[e,i,a])}t.sort(((e,t)=>e[1]-t[1]||e[0]-t[0]));for(let a=0,r=t.length;a<r;a+=2){const e=t[a][2],i=t[a+1][2];e.push(i),i.push(e),n.add(e),n.add(i)}const i=[];let s;for(;n.size>0;){const e=n.values().next().value;let[t,a,r,o,l]=e;n.delete(e);let c=t,d=a;for(s=[t,r],i.push(s);;){let e;if(n.has(o))e=o;else{if(!n.has(l))break;e=l}n.delete(e),[t,a,r,o,l]=e,c!==t&&(s.push(c,d,t,d===a?a:r),c=t),d=d===a?r:a}s.push(c,d)}return new wr(i,this.#ds)}#vs(e){const t=this.#hs;let n=0,i=t.length-1;for(;n<=i;){const s=n+i>>1,a=t[s][0];if(a===e)return s;a<e?n=s+1:i=s-1}return i+1}#fs(e){let[,t,n]=e;const i=this.#vs(t);this.#hs.splice(i,0,[t,n])}#gs(e){let[,t,n]=e;const i=this.#vs(t);for(let s=i;s<this.#hs.length;s++){const[e,i]=this.#hs[s];if(e!==t)break;if(e===t&&i===n)return void this.#hs.splice(s,1)}for(let s=i-1;s>=0;s--){const[e,i]=this.#hs[s];if(e!==t)break;if(e===t&&i===n)return void this.#hs.splice(s,1)}}#ps(e){const[t,n,i]=e,s=[[t,n,i]],a=this.#vs(i);for(let r=0;r<a;r++){const[e,n]=this.#hs[r];for(let i=0,a=s.length;i<a;i++){const[,r,o]=s[i];if(!(n<=r||o<=e))if(r>=e)if(o>n)s[i][1]=n;else{if(1===a)return[];s.splice(i,1),i--,a--}else s[i][2]=e,o>n&&s.push([t,n,o])}}return s}}class yr{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof kr}}class wr extends yr{#ds;#As;constructor(e,t){super(),this.#As=e,this.#ds=t}toSVGPath(){const e=[];for(const t of this.#As){let[n,i]=t;e.push(`M${n} ${i}`);for(let s=2;s<t.length;s+=2){const a=t[s],r=t[s+1];a===n?(e.push(`V${r}`),i=r):r===i&&(e.push(`H${a}`),n=a)}e.push("Z")}return e.join(" ")}serialize(e,t){let[n,i,s,a]=e;const r=[],o=s-n,l=a-i;for(const c of this.#As){const e=new Array(c.length);for(let t=0;t<c.length;t+=2)e[t]=n+c[t]*o,e[t+1]=a-c[t+1]*l;r.push(e)}return r}get box(){return this.#ds}}class xr{#ds;#bs=[];#ys;#ws;#xs=[];#ks=(()=>new Float64Array(18))();#Es;#Ss;#Cs;#_s;#Ts;#Ps;#Ms=[];static#Ls=8;static#Rs=2;static#Ds=(()=>xr.#Ls+xr.#Rs)();constructor(e,t,n,i,s){let{x:a,y:r}=e,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.#ds=t,this.#Ps=i*n,this.#ws=s,this.#ks.set([NaN,NaN,NaN,NaN,a,r],6),this.#ys=o,this.#_s=xr.#Ls*n,this.#Cs=xr.#Ds*n,this.#Ts=n,this.#Ms.push(a,r)}get free(){return!0}isEmpty(){return isNaN(this.#ks[8])}#Is(){const e=this.#ks.subarray(4,6),t=this.#ks.subarray(16,18),[n,i,s,a]=this.#ds;return[(this.#Es+(e[0]-t[0])/2-n)/s,(this.#Ss+(e[1]-t[1])/2-i)/a,(this.#Es+(t[0]-e[0])/2-n)/s,(this.#Ss+(t[1]-e[1])/2-i)/a]}add(e){let{x:t,y:n}=e;this.#Es=t,this.#Ss=n;const[i,s,a,r]=this.#ds;let[o,l,c,d]=this.#ks.subarray(8,12);const u=t-c,h=n-d,p=Math.hypot(u,h);if(p<this.#Cs)return!1;const f=p-this.#_s,g=f/p,m=g*u,v=g*h;let A=o,b=l;o=c,l=d,c+=m,d+=v,this.#Ms?.push(t,n);const y=m/f,w=-v/f*this.#Ps,x=y*this.#Ps;if(this.#ks.set(this.#ks.subarray(2,8),0),this.#ks.set([c+w,d+x],4),this.#ks.set(this.#ks.subarray(14,18),12),this.#ks.set([c-w,d-x],16),isNaN(this.#ks[6]))return 0===this.#xs.length&&(this.#ks.set([o+w,l+x],2),this.#xs.push(NaN,NaN,NaN,NaN,(o+w-i)/a,(l+x-s)/r),this.#ks.set([o-w,l-x],14),this.#bs.push(NaN,NaN,NaN,NaN,(o-w-i)/a,(l-x-s)/r)),this.#ks.set([A,b,o,l,c,d],6),!this.isEmpty();this.#ks.set([A,b,o,l,c,d],6);return Math.abs(Math.atan2(b-l,A-o)-Math.atan2(v,m))<Math.PI/2?([o,l,c,d]=this.#ks.subarray(2,6),this.#xs.push(NaN,NaN,NaN,NaN,((o+c)/2-i)/a,((l+d)/2-s)/r),[o,l,A,b]=this.#ks.subarray(14,18),this.#bs.push(NaN,NaN,NaN,NaN,((A+o)/2-i)/a,((b+l)/2-s)/r),!0):([A,b,o,l,c,d]=this.#ks.subarray(0,6),this.#xs.push(((A+5*o)/6-i)/a,((b+5*l)/6-s)/r,((5*o+c)/6-i)/a,((5*l+d)/6-s)/r,((o+c)/2-i)/a,((l+d)/2-s)/r),[c,d,o,l,A,b]=this.#ks.subarray(12,18),this.#bs.push(((A+5*o)/6-i)/a,((b+5*l)/6-s)/r,((5*o+c)/6-i)/a,((5*l+d)/6-s)/r,((o+c)/2-i)/a,((l+d)/2-s)/r),!0)}toSVGPath(){if(this.isEmpty())return"";const e=this.#xs,t=this.#bs,n=this.#ks.subarray(4,6),i=this.#ks.subarray(16,18),[s,a,r,o]=this.#ds,[l,c,d,u]=this.#Is();if(isNaN(this.#ks[6])&&!this.isEmpty())return`M${(this.#ks[2]-s)/r} ${(this.#ks[3]-a)/o} L${(this.#ks[4]-s)/r} ${(this.#ks[5]-a)/o} L${l} ${c} L${d} ${u} L${(this.#ks[16]-s)/r} ${(this.#ks[17]-a)/o} L${(this.#ks[14]-s)/r} ${(this.#ks[15]-a)/o} Z`;const h=[];h.push(`M${e[4]} ${e[5]}`);for(let p=6;p<e.length;p+=6)isNaN(e[p])?h.push(`L${e[p+4]} ${e[p+5]}`):h.push(`C${e[p]} ${e[p+1]} ${e[p+2]} ${e[p+3]} ${e[p+4]} ${e[p+5]}`);h.push(`L${(n[0]-s)/r} ${(n[1]-a)/o} L${l} ${c} L${d} ${u} L${(i[0]-s)/r} ${(i[1]-a)/o}`);for(let p=t.length-6;p>=6;p-=6)isNaN(t[p])?h.push(`L${t[p+4]} ${t[p+5]}`):h.push(`C${t[p]} ${t[p+1]} ${t[p+2]} ${t[p+3]} ${t[p+4]} ${t[p+5]}`);return h.push(`L${t[4]} ${t[5]} Z`),h.join(" ")}getOutlines(){const e=this.#xs,t=this.#bs,n=this.#ks,i=n.subarray(4,6),s=n.subarray(16,18),[a,r,o,l]=this.#ds,c=new Float64Array((this.#Ms?.length??0)+2);for(let m=0,v=c.length-2;m<v;m+=2)c[m]=(this.#Ms[m]-a)/o,c[m+1]=(this.#Ms[m+1]-r)/l;c[c.length-2]=(this.#Es-a)/o,c[c.length-1]=(this.#Ss-r)/l;const[d,u,h,p]=this.#Is();if(isNaN(n[6])&&!this.isEmpty()){const e=new Float64Array(36);return e.set([NaN,NaN,NaN,NaN,(n[2]-a)/o,(n[3]-r)/l,NaN,NaN,NaN,NaN,(n[4]-a)/o,(n[5]-r)/l,NaN,NaN,NaN,NaN,d,u,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(n[16]-a)/o,(n[17]-r)/l,NaN,NaN,NaN,NaN,(n[14]-a)/o,(n[15]-r)/l],0),new kr(e,c,this.#ds,this.#Ts,this.#ys,this.#ws)}const f=new Float64Array(this.#xs.length+24+this.#bs.length);let g=e.length;for(let m=0;m<g;m+=2)isNaN(e[m])?f[m]=f[m+1]=NaN:(f[m]=e[m],f[m+1]=e[m+1]);f.set([NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-r)/l,NaN,NaN,NaN,NaN,d,u,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(s[0]-a)/o,(s[1]-r)/l],g),g+=24;for(let m=t.length-6;m>=6;m-=6)for(let e=0;e<6;e+=2)isNaN(t[m+e])?(f[g]=f[g+1]=NaN,g+=2):(f[g]=t[m+e],f[g+1]=t[m+e+1],g+=2);return f.set([NaN,NaN,NaN,NaN,t[4],t[5]],g),new kr(f,c,this.#ds,this.#Ts,this.#ys,this.#ws)}}class kr extends yr{#ds;#Fs=null;#ys;#ws;#Ms;#Ts;#Ns;constructor(e,t,n,i,s,a){super(),this.#Ns=e,this.#Ms=t,this.#ds=n,this.#Ts=i,this.#ys=s,this.#ws=a,this.#Os(a);const{x:r,y:o,width:l,height:c}=this.#Fs;for(let d=0,u=e.length;d<u;d+=2)e[d]=(e[d]-r)/l,e[d+1]=(e[d+1]-o)/c;for(let d=0,u=t.length;d<u;d+=2)t[d]=(t[d]-r)/l,t[d+1]=(t[d+1]-o)/c}toSVGPath(){const e=[`M${this.#Ns[4]} ${this.#Ns[5]}`];for(let t=6,n=this.#Ns.length;t<n;t+=6)isNaN(this.#Ns[t])?e.push(`L${this.#Ns[t+4]} ${this.#Ns[t+5]}`):e.push(`C${this.#Ns[t]} ${this.#Ns[t+1]} ${this.#Ns[t+2]} ${this.#Ns[t+3]} ${this.#Ns[t+4]} ${this.#Ns[t+5]}`);return e.push("Z"),e.join(" ")}serialize(e,t){let[n,i,s,a]=e;const r=s-n,o=a-i;let l,c;switch(t){case 0:l=this.#zs(this.#Ns,n,a,r,-o),c=this.#zs(this.#Ms,n,a,r,-o);break;case 90:l=this.#js(this.#Ns,n,i,r,o),c=this.#js(this.#Ms,n,i,r,o);break;case 180:l=this.#zs(this.#Ns,s,i,-r,o),c=this.#zs(this.#Ms,s,i,-r,o);break;case 270:l=this.#js(this.#Ns,s,a,-r,-o),c=this.#js(this.#Ms,s,a,-r,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}#zs(e,t,n,i,s){const a=new Float64Array(e.length);for(let r=0,o=e.length;r<o;r+=2)a[r]=t+e[r]*i,a[r+1]=n+e[r+1]*s;return a}#js(e,t,n,i,s){const a=new Float64Array(e.length);for(let r=0,o=e.length;r<o;r+=2)a[r]=t+e[r+1]*i,a[r+1]=n+e[r]*s;return a}#Os(e){const t=this.#Ns;let n=t[4],i=t[5],s=n,a=i,r=n,o=i,l=n,c=i;const d=e?Math.max:Math.min;for(let g=6,m=t.length;g<m;g+=6){if(isNaN(t[g]))s=Math.min(s,t[g+4]),a=Math.min(a,t[g+5]),r=Math.max(r,t[g+4]),o=Math.max(o,t[g+5]),c<t[g+5]?(l=t[g+4],c=t[g+5]):c===t[g+5]&&(l=d(l,t[g+4]));else{const e=In.bezierBoundingBox(n,i,...t.slice(g,g+6));s=Math.min(s,e[0]),a=Math.min(a,e[1]),r=Math.max(r,e[2]),o=Math.max(o,e[3]),c<e[3]?(l=e[2],c=e[3]):c===e[3]&&(l=d(l,e[2]))}n=t[g+4],i=t[g+5]}const u=s-this.#ys,h=a-this.#ys,p=r-s+2*this.#ys,f=o-a+2*this.#ys;this.#Fs={x:u,y:h,width:p,height:f,lastPoint:[l,c]}}get box(){return this.#Fs}getNewOutline(e,t){const{x:n,y:i,width:s,height:a}=this.#Fs,[r,o,l,c]=this.#ds,d=s*l,u=a*c,h=n*l+r,p=i*c+o,f=new xr({x:this.#Ms[0]*d+h,y:this.#Ms[1]*u+p},this.#ds,this.#Ts,e,this.#ws,t??this.#ys);for(let g=2;g<this.#Ms.length;g+=2)f.add({x:this.#Ms[g]*d+h,y:this.#Ms[g+1]*u+p});return f.getOutlines()}}class Er{#di=this.#ui.bind(this);#Bs=this.#o.bind(this);#Hs=null;#Us=null;#Ws;#Vs=null;#qs=!1;#Gs=!1;#a=null;#Xs;#p=null;#Ks;static get _keyboardManager(){return yn(this,"_keyboardManager",new Ti([[["Escape","mac+Escape"],Er.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Er.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Er.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Er.prototype._moveToPrevious],[["Home","mac+Home"],Er.prototype._moveToBeginning],[["End","mac+End"],Er.prototype._moveToEnd]]))}constructor(e){let{editor:t=null,uiManager:n=null}=e;t?(this.#Gs=!1,this.#Ks=Pt.HIGHLIGHT_COLOR,this.#a=t):(this.#Gs=!0,this.#Ks=Pt.HIGHLIGHT_DEFAULT_COLOR),this.#p=t?._uiManager||n,this.#Xs=this.#p._eventBus,this.#Ws=t?.color||this.#p?.highlightColors.values().next().value||"#FFFF98"}renderButton(){const e=this.#Hs=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=this.#p._signal;e.addEventListener("click",this.#Ys.bind(this),{signal:t}),e.addEventListener("keydown",this.#di,{signal:t});const n=this.#Us=document.createElement("span");return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=this.#Ws,e.append(n),e}renderMainDropdown(){const e=this.#Vs=this.#Qs();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#Qs(){const e=document.createElement("div"),t=this.#p._signal;e.addEventListener("contextmenu",pi,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of this.#p.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.setAttribute("aria-selected",i===this.#Ws),s.addEventListener("click",this.#$s.bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#di,{signal:t}),e}#$s(e,t){t.stopPropagation(),this.#Xs.dispatch("switchannotationeditorparams",{source:this,type:this.#Ks,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#Hs)return void this.#Ys(e);const t=e.target.getAttribute("data-color");t&&this.#$s(t,e)}_moveToNext(e){this.#Zs?e.target!==this.#Hs?e.target.nextSibling?.focus():this.#Vs.firstChild?.focus():this.#Ys(e)}_moveToPrevious(e){e.target!==this.#Vs?.firstChild&&e.target!==this.#Hs?(this.#Zs||this.#Ys(e),e.target.previousSibling?.focus()):this.#Zs&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){this.#Zs?this.#Vs.firstChild?.focus():this.#Ys(e)}_moveToEnd(e){this.#Zs?this.#Vs.lastChild?.focus():this.#Ys(e)}#ui(e){Er._keyboardManager.exec(this,e)}#Ys(e){if(this.#Zs)return void this.hideDropdown();if(this.#qs=0===e.detail,window.addEventListener("pointerdown",this.#Bs,{signal:this.#p._signal}),this.#Vs)return void this.#Vs.classList.remove("hidden");const t=this.#Vs=this.#Qs();this.#Hs.append(t)}#o(e){this.#Vs?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#Vs?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#Bs)}get#Zs(){return this.#Vs&&!this.#Vs.classList.contains("hidden")}_hideDropdownFromKeyboard(){this.#Gs||(this.#Zs?(this.hideDropdown(),this.#Hs.focus({preventScroll:!0,focusVisible:this.#qs})):this.#a?.unselect())}updateColor(e){if(this.#Us&&(this.#Us.style.backgroundColor=e),!this.#Vs)return;const t=this.#p.highlightColors.values();for(const n of this.#Vs.children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#Hs?.remove(),this.#Hs=null,this.#Us=null,this.#Vs?.remove(),this.#Vs=null}}class Sr extends Ri{#Js=null;#ea=0;#ta;#na=null;#s=null;#ia=null;#sa=null;#aa=0;#ra=null;#oa=null;#v=null;#la=!1;#oe=this.#ca.bind(this);#da=null;#ua;#ha=null;#pa="";#Ps;#fa="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=(()=>Tt.HIGHLIGHT)();static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Sr.prototype;return yn(this,"_keyboardManager",new Ti([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Sr._defaultColor,this.#Ps=e.thickness||Sr._defaultThickness,this.#ua=e.opacity||Sr._defaultOpacity,this.#ta=e.boxes||null,this.#fa=e.methodOfCreation||"",this.#pa=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#la=!0,this.#ga(e),this.#ma()):(this.#Js=e.anchorNode,this.#ea=e.anchorOffset,this.#sa=e.focusNode,this.#aa=e.focusOffset,this.#va(),this.#ma(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#la?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#Ps,methodOfCreation:this.#fa}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#va(){const e=new br(this.#ta,.001);this.#oa=e.getOutlines(),({x:this.x,y:this.y,width:this.width,height:this.height}=this.#oa.box);const t=new br(this.#ta,.0025,.001,"ltr"===this._uiManager.direction);this.#ia=t.getOutlines();const{lastPoint:n}=this.#ia.box;this.#da=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#ga(e){let{highlightOutlines:t,highlightId:n,clipPathId:i}=e;this.#oa=t;if(this.#ia=t.getNewOutline(this.#Ps/2+1.5,.0025),n>=0)this.#v=n,this.#na=i,this.parent.drawLayer.finalizeLine(n,t),this.#ha=this.parent.drawLayer.highlightOutline(this.#ia);else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#v,t),this.parent.drawLayer.updateBox(this.#v,Sr.#Aa(this.#oa.box,(e-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#ha,this.#ia),this.parent.drawLayer.updateBox(this.#ha,Sr.#Aa(this.#ia.box,e))}const{x:s,y:a,width:r,height:o}=t.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=r,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=a,this.y=1-s,this.width=r*t/e,this.height=o*e/t;break}case 180:this.x=1-s,this.y=1-a,this.width=r,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-a,this.y=s,this.width=r*t/e,this.height=o*e/t;break}}const{lastPoint:l}=this.#ia.box;this.#da=[(l[0]-s)/r,(l[1]-a)/o]}static initialize(e,t){Ri.initialize(e,t),Sr._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Pt.HIGHLIGHT_DEFAULT_COLOR:Sr._defaultColor=t;break;case Pt.HIGHLIGHT_THICKNESS:Sr._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return this.#da}updateParams(e,t){switch(e){case Pt.HIGHLIGHT_COLOR:this.#ns(t);break;case Pt.HIGHLIGHT_THICKNESS:this.#ba(t)}}static get defaultPropertiesToUpdate(){return[[Pt.HIGHLIGHT_DEFAULT_COLOR,Sr._defaultColor],[Pt.HIGHLIGHT_THICKNESS,Sr._defaultThickness]]}get propertiesToUpdate(){return[[Pt.HIGHLIGHT_COLOR,this.color||Sr._defaultColor],[Pt.HIGHLIGHT_THICKNESS,this.#Ps||Sr._defaultThickness],[Pt.HIGHLIGHT_FREE,this.#la]]}#ns(e){const t=e=>{this.color=e,this.parent?.drawLayer.changeColor(this.#v,e),this.#s?.updateColor(e)},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#ba(e){const t=this.#Ps,n=e=>{this.#Ps=e,this.#ya(e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(this.#s=new Er({editor:this}),e.addColorPicker(this.#s)),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#wa())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#wa())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#xa(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#ma(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#xa():e&&(this.#ma(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#ya(e){if(!this.#la)return;this.#ga({highlightOutlines:this.#oa.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}#xa(){null!==this.#v&&this.parent&&(this.parent.drawLayer.remove(this.#v),this.#v=null,this.parent.drawLayer.remove(this.#ha),this.#ha=null)}#ma(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===this.#v&&(({id:this.#v,clipPathId:this.#na}=e.drawLayer.highlight(this.#oa,this.color,this.#ua)),this.#ha=e.drawLayer.highlightOutline(this.#ia),this.#ra&&(this.#ra.style.clipPath=this.#na))}static#Aa(e,t){let{x:n,y:i,width:s,height:a}=e;switch(t){case 90:return{x:1-i-a,y:n,width:a,height:s};case 180:return{x:1-n-s,y:1-i-a,width:s,height:a};case 270:return{x:i,y:1-n-s,width:a,height:s}}return{x:n,y:i,width:s,height:a}}rotate(e){const{drawLayer:t}=this.parent;let n;this.#la?(e=(e-this.rotation+360)%360,n=Sr.#Aa(this.#oa.box,e)):n=Sr.#Aa(this,e),t.rotate(this.#v,e),t.rotate(this.#ha,e),t.updateBox(this.#v,n),t.updateBox(this.#ha,Sr.#Aa(this.#ia.box,e))}render(){if(this.div)return this.div;const e=super.render();this.#pa&&(e.setAttribute("aria-label",this.#pa),e.setAttribute("role","mark")),this.#la?e.classList.add("free"):this.div.addEventListener("keydown",this.#oe,{signal:this._uiManager._signal});const t=this.#ra=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#na;const[n,i]=this.parentDimensions;return this.setDims(this.width*n,this.height*i),Ei(this,this.#ra,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(this.#ha,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#ha,"hovered")}#ca(e){Sr._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#ka(!0);break;case 1:case 3:this.#ka(!1)}}#ka(e){if(!this.#Js)return;const t=window.getSelection();e?t.setPosition(this.#Js,this.#ea):t.setPosition(this.#sa,this.#aa)}select(){super.select(),this.#ha&&(this.parent?.drawLayer.removeClass(this.#ha,"hovered"),this.parent?.drawLayer.addClass(this.#ha,"selected"))}unselect(){super.unselect(),this.#ha&&(this.parent?.drawLayer.removeClass(this.#ha,"selected"),this.#la||this.#ka(!1))}get _mustFixPosition(){return!this.#la}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(e),this.parent&&(this.parent.drawLayer.show(this.#v,e),this.parent.drawLayer.show(this.#ha,e))}#wa(){return this.#la?this.rotation:0}#Ea(){if(this.#la)return null;const[e,t]=this.pageDimensions,n=this.#ta,i=new Float32Array(8*n.length);let s=0;for(const{x:a,y:r,width:o,height:l}of n){const n=a*e,c=(1-r-l)*t;i[s]=i[s+4]=n,i[s+1]=i[s+3]=c,i[s+2]=i[s+6]=n+o*e,i[s+5]=i[s+7]=c+l*t,s+=8}return i}#Sa(e){return this.#oa.serialize(e,this.#wa())}static startHighlighting(e,t,n){let{target:i,x:s,y:a}=n;const{x:r,y:o,width:l,height:c}=i.getBoundingClientRect(),d=t=>{this.#Ca(e,t)},u=e._signal,h={capture:!0,passive:!1,signal:u},p=e=>{e.preventDefault(),e.stopPropagation()},f=t=>{i.removeEventListener("pointermove",d),window.removeEventListener("blur",f),window.removeEventListener("pointerup",f),window.removeEventListener("pointerdown",p,h),window.removeEventListener("contextmenu",pi),this.#_a(e,t)};window.addEventListener("blur",f,{signal:u}),window.addEventListener("pointerup",f,{signal:u}),window.addEventListener("pointerdown",p,h),window.addEventListener("contextmenu",pi,{signal:u}),i.addEventListener("pointermove",d,{signal:u}),this._freeHighlight=new xr({x:s,y:a},[r,o,l,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static#Ca(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#_a(e,t){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,n){const i=super.deserialize(e,t,n),{rect:[s,a,r,o],color:l,quadPoints:c}=e;i.color=In.makeHexColor(...l),i.#ua=e.opacity;const[d,u]=i.pageDimensions;i.width=(r-s)/d,i.height=(o-a)/u;const h=i.#ta=[];for(let p=0;p<c.length;p+=8)h.push({x:(c[4]-r)/d,y:(o-(1-c[p+5]))/u,width:(c[p+2]-c[p])/d,height:(c[p+5]-c[p+1])/u});return i.#va(),i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;const t=this.getRect(0,0),n=Ri._colorManager.convert(this.color);return{annotationType:Tt.HIGHLIGHT,color:n,opacity:this.#ua,thickness:this.#Ps,quadPoints:this.#Ea(),outlines:this.#Sa(t),pageIndex:this.pageIndex,rect:t,rotation:this.#wa(),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}class Cr extends Ri{#Ta=0;#Pa=0;#Ma=this.canvasPointermove.bind(this);#La=this.canvasPointerleave.bind(this);#Ra=this.canvasPointerup.bind(this);#Da=this.canvasPointerdown.bind(this);#Ia=null;#Fa=(()=>new Path2D)();#Na=!1;#Oa=!1;#za=!1;#ja=null;#Ba=0;#Ha=0;#Ua=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=(()=>Tt.INK)();constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){Ri.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case Pt.INK_THICKNESS:Cr._defaultThickness=t;break;case Pt.INK_COLOR:Cr._defaultColor=t;break;case Pt.INK_OPACITY:Cr._defaultOpacity=t/100}}updateParams(e,t){switch(e){case Pt.INK_THICKNESS:this.#ba(t);break;case Pt.INK_COLOR:this.#ns(t);break;case Pt.INK_OPACITY:this.#Wa(t)}}static get defaultPropertiesToUpdate(){return[[Pt.INK_THICKNESS,Cr._defaultThickness],[Pt.INK_COLOR,Cr._defaultColor||Ri._defaultLineColor],[Pt.INK_OPACITY,Math.round(100*Cr._defaultOpacity)]]}get propertiesToUpdate(){return[[Pt.INK_THICKNESS,this.thickness||Cr._defaultThickness],[Pt.INK_COLOR,this.color||Cr._defaultColor||Ri._defaultLineColor],[Pt.INK_OPACITY,Math.round(100*(this.opacity??Cr._defaultOpacity))]]}#ba(e){const t=e=>{this.thickness=e,this.#Va()},n=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#ns(e){const t=e=>{this.color=e,this.#qa()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#Wa(e){const t=e=>{this.opacity=e,this.#qa()};e/=100;const n=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#Ga(),this.#Xa()),this.isAttachedToDOM||(this.parent.add(this),this.#Ka()),this.#Va()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#Ia&&(clearTimeout(this.#Ia),this.#Ia=null),this.#ja?.disconnect(),this.#ja=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,i=this.height*t;this.setDimensions(n,i)}enableEditMode(){this.#Na||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#Da,{signal:this._uiManager._signal}))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#Da))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#Ya(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}#Qa(){const{ctx:e,color:t,opacity:n,thickness:i,parentScale:s,scaleFactor:a}=this;e.lineWidth=i*s/a,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}(n)}`}#$a(e,t){const n=this._uiManager._signal;this.canvas.addEventListener("contextmenu",pi,{signal:n}),this.canvas.addEventListener("pointerleave",this.#La,{signal:n}),this.canvas.addEventListener("pointermove",this.#Ma,{signal:n}),this.canvas.addEventListener("pointerup",this.#Ra,{signal:n}),this.canvas.removeEventListener("pointerdown",this.#Da),this.isEditing=!0,this.#za||(this.#za=!0,this.#Ka(),this.thickness||=Cr._defaultThickness,this.color||=Cr._defaultColor||Ri._defaultLineColor,this.opacity??=Cr._defaultOpacity),this.currentPath.push([e,t]),this.#Oa=!1,this.#Qa(),this.#Ua=()=>{this.#Za(),this.#Ua&&window.requestAnimationFrame(this.#Ua)},window.requestAnimationFrame(this.#Ua)}#Ja(e,t){const[n,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===i)return;const s=this.currentPath;let a=this.#Fa;if(s.push([e,t]),this.#Oa=!0,s.length<=2)return a.moveTo(...s[0]),void a.lineTo(e,t);3===s.length&&(this.#Fa=a=new Path2D,a.moveTo(...s[0])),this.#er(a,...s.at(-3),...s.at(-2),e,t)}#tr(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);this.#Fa.lineTo(...e)}#nr(e,t){let n;if(this.#Ua=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#Ja(e,t),this.#tr(),1!==this.currentPath.length)n=this.#ir();else{const i=[e,t];n=[[i,i.slice(),i.slice(),i]]}const i=this.#Fa,s=this.currentPath;this.currentPath=[],this.#Fa=new Path2D;this.addCommands({cmd:()=>{this.allRawPaths.push(s),this.paths.push(n),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#Ga(),this.#Xa()),this.#Va())},mustExec:!0})}#Za(){if(!this.#Oa)return;this.#Oa=!1;const e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),n=t.map((e=>e[0])),i=t.map((e=>e[1])),{ctx:s}=(Math.min(...n),Math.max(...n),Math.min(...i),Math.max(...i),this);s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)s.stroke(a);s.stroke(this.#Fa),s.restore()}#er(e,t,n,i,s,a,r){const o=(t+i)/2,l=(n+s)/2,c=(i+a)/2,d=(s+r)/2;e.bezierCurveTo(o+2*(i-o)/3,l+2*(s-l)/3,c+2*(i-c)/3,d+2*(s-d)/3,c,d)}#ir(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let n,[i,s]=e[0];for(n=1;n<e.length-2;n++){const[a,r]=e[n],[o,l]=e[n+1],c=(a+o)/2,d=(r+l)/2,u=[i+2*(a-i)/3,s+2*(r-s)/3],h=[c+2*(a-c)/3,d+2*(r-d)/3];t.push([[i,s],u,h,[c,d]]),[i,s]=[c,d]}const[a,r]=e[n],[o,l]=e[n+1],c=[i+2*(a-i)/3,s+2*(r-s)/3],d=[o+2*(a-o)/3,l+2*(r-l)/3];return t.push([[i,s],c,d,[o,l]]),t}#qa(){if(this.isEmpty())return void this.#sr();this.#Qa();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#sr();for(const n of this.bezierPath2D)t.stroke(n)}commit(){this.#Na||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#Na=!0,this.div.classList.add("disabled"),this.#Va(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!this.#Na&&(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#$a(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#Ja(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#ar(e)}canvasPointerleave(e){this.#ar(e)}#ar(e){this.canvas.removeEventListener("pointerleave",this.#La),this.canvas.removeEventListener("pointermove",this.#Ma),this.canvas.removeEventListener("pointerup",this.#Ra),this.canvas.addEventListener("pointerdown",this.#Da,{signal:this._uiManager._signal}),this.#Ia&&clearTimeout(this.#Ia),this.#Ia=setTimeout((()=>{this.#Ia=null,this.canvas.removeEventListener("contextmenu",pi)}),10),this.#nr(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#Ga(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#Xa(){this.#ja=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)})),this.#ja.observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{this.#ja?.disconnect(),this.#ja=null}),{once:!0})}get isResizable(){return!this.isEmpty()&&this.#Na}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,i,s,a]=this.#Ya();if(this.setAt(n,i,0,0),this.setDims(s,a),this.#Ga(),this.width){const[n,i]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*i),this.setAt(e*n,t*i,this.width*n,this.height*i),this.#za=!0,this.#Ka(),this.setDims(this.width*n,this.height*i),this.#qa(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#Xa(),this.div}#Ka(){if(!this.#za)return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#sr()}setDimensions(e,t){const n=Math.round(e),i=Math.round(t);if(this.#Ba===n&&this.#Ha===i)return;this.#Ba=n,this.#Ha=i,this.canvas.style.visibility="hidden";const[s,a]=this.parentDimensions;this.width=e/s,this.height=t/a,this.fixAndSetPosition(),this.#Na&&this.#rr(e,t),this.#Ka(),this.#qa(),this.canvas.style.visibility="visible",this.fixDims()}#rr(e,t){const n=this.#or(),i=(e-n)/this.#Pa,s=(t-n)/this.#Ta;this.scaleFactor=Math.min(i,s)}#sr(){const e=this.#or()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#lr(e){const t=new Path2D;for(let n=0,i=e.length;n<i;n++){const[i,s,a,r]=e[n];0===n&&t.moveTo(...i),t.bezierCurveTo(s[0],s[1],a[0],a[1],r[0],r[1])}return t}static#cr(e,t,n){const[i,s,a,r]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]+=i,e[t+1]=r-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]+i,e[t+1]=n+s}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=a-e[t],e[t+1]+=s;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=a-e[t+1],e[t+1]=r-n}break;default:throw new Error("Invalid rotation")}return e}static#dr(e,t,n){const[i,s,a,r]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]-=i,e[t+1]=r-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]-s,e[t+1]=n-i}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=a-e[t],e[t+1]-=s;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=r-e[t+1],e[t+1]=a-n}break;default:throw new Error("Invalid rotation")}return e}#ur(e,t,n,i){const s=[],a=this.thickness/2,r=e*t+a,o=e*n+a;for(const l of this.paths){const t=[],n=[];for(let i=0,s=l.length;i<s;i++){const[a,c,d,u]=l[i];if(a[0]===u[0]&&a[1]===u[1]&&1===s){const i=e*a[0]+r,s=e*a[1]+o;t.push(i,s),n.push(i,s);break}const h=e*a[0]+r,p=e*a[1]+o,f=e*c[0]+r,g=e*c[1]+o,m=e*d[0]+r,v=e*d[1]+o,A=e*u[0]+r,b=e*u[1]+o;0===i&&(t.push(h,p),n.push(h,p)),t.push(f,g,m,v,A,b),n.push(f,g),i===s-1&&n.push(A,b)}s.push({bezier:Cr.#cr(t,i,this.rotation),points:Cr.#cr(n,i,this.rotation)})}return s}#hr(){let e=1/0,t=-1/0,n=1/0,i=-1/0;for(const s of this.paths)for(const[a,r,o,l]of s){const s=In.bezierBoundingBox(...a,...r,...o,...l);e=Math.min(e,s[0]),n=Math.min(n,s[1]),t=Math.max(t,s[2]),i=Math.max(i,s[3])}return[e,n,t,i]}#or(){return this.#Na?Math.ceil(this.thickness*this.parentScale):0}#Va(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!this.#Na)return void this.#qa();const t=this.#hr(),n=this.#or();this.#Pa=Math.max(Ri.MIN_SIZE,t[2]-t[0]),this.#Ta=Math.max(Ri.MIN_SIZE,t[3]-t[1]);const i=Math.ceil(n+this.#Pa*this.scaleFactor),s=Math.ceil(n+this.#Ta*this.scaleFactor),[a,r]=this.parentDimensions;this.width=i/a,this.height=s/r,this.setAspectRatio(i,s);const o=this.translationX,l=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#Ka(),this.#qa(),this.#Ba=i,this.#Ha=s,this.setDims(i,s);const c=e?n/this.scaleFactor/2:0;this.translate(o-this.translationX-c,l-this.translationY-c)}static deserialize(e,t,n){if(e instanceof cr)return null;const i=super.deserialize(e,t,n);i.thickness=e.thickness,i.color=In.makeHexColor(...e.color),i.opacity=e.opacity;const[s,a]=i.pageDimensions,r=i.width*s,o=i.height*a,l=i.parentScale,c=e.thickness/2;i.#Na=!0,i.#Ba=Math.round(r),i.#Ha=Math.round(o);const{paths:d,rect:u,rotation:h}=e;for(let{bezier:f}of d){f=Cr.#dr(f,u,h);const e=[];i.paths.push(e);let t=l*(f[0]-c),n=l*(f[1]-c);for(let i=2,a=f.length;i<a;i+=6){const s=l*(f[i]-c),a=l*(f[i+1]-c),r=l*(f[i+2]-c),o=l*(f[i+3]-c),d=l*(f[i+4]-c),u=l*(f[i+5]-c);e.push([[t,n],[s,a],[r,o],[d,u]]),t=d,n=u}const s=this.#lr(e);i.bezierPath2D.push(s)}const p=i.#hr();return i.#Pa=Math.max(Ri.MIN_SIZE,p[2]-p[0]),i.#Ta=Math.max(Ri.MIN_SIZE,p[3]-p[1]),i.#rr(r,o),i}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=Ri._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Tt.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#ur(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class _r extends Ri{#pr=null;#fr=null;#gr=null;#mr=null;#vr=null;#Ar="";#br=null;#ja=null;#yr=null;#wr=!1;#xr=!1;static _type="stamp";static _editorType=(()=>Tt.STAMP)();constructor(e){super({...e,name:"stampEditor"}),this.#mr=e.bitmapUrl,this.#vr=e.bitmapFile}static initialize(e,t){Ri.initialize(e,t)}static get supportedTypes(){return yn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((e=>`image/${e}`)))}static get supportedTypesStr(){return yn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(Tt.STAMP,{bitmapFile:e.getAsFile()})}#kr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(this.#pr=e.bitmap,t||(this.#fr=e.id,this.#wr=e.isSvg),e.file&&(this.#Ar=e.file.name),this.#Ga()):this.remove()}#Er(){this.#gr=null,this._uiManager.enableWaiting(!1),this.#br&&this.div.focus()}#Sr(){if(this.#fr)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#fr).then((e=>this.#kr(e,!0))).finally((()=>this.#Er()));if(this.#mr){const e=this.#mr;return this.#mr=null,this._uiManager.enableWaiting(!0),void(this.#gr=this._uiManager.imageManager.getFromUrl(e).then((e=>this.#kr(e))).finally((()=>this.#Er())))}if(this.#vr){const e=this.#vr;return this.#vr=null,this._uiManager.enableWaiting(!0),void(this.#gr=this._uiManager.imageManager.getFromFile(e).then((e=>this.#kr(e))).finally((()=>this.#Er())))}const e=document.createElement("input");e.type="file",e.accept=_r.supportedTypesStr;const t=this._uiManager._signal;this.#gr=new Promise((n=>{e.addEventListener("change",(async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this.#kr(t)}else this.remove();n()}),{signal:t}),e.addEventListener("cancel",(()=>{this.remove(),n()}),{signal:t})})).finally((()=>this.#Er())),e.click()}remove(){this.#fr&&(this.#pr=null,this._uiManager.imageManager.deleteId(this.#fr),this.#br?.remove(),this.#br=null,this.#ja?.disconnect(),this.#ja=null,this.#yr&&(clearTimeout(this.#yr),this.#yr=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#fr&&null===this.#br&&this.#Sr(),this.isAttachedToDOM||this.parent.add(this))):this.#fr&&this.#Sr()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#gr||this.#pr||this.#mr||this.#vr||this.#fr)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#pr?this.#Ga():this.#Sr(),this.width){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i)}return this.div}#Ga(){const{div:e}=this;let{width:t,height:n}=this.#pr;const[i,s]=this.pageDimensions,a=.75;if(this.width)t=this.width*i,n=this.height*s;else if(t>a*i||n>a*s){const e=Math.min(a*i/t,a*s/n);t*=e,n*=e}const[r,o]=this.parentDimensions;this.setDims(t*r/i,n*o/s),this._uiManager.enableWaiting(!1);const l=this.#br=document.createElement("canvas");e.append(l),e.hidden=!1,this.#Cr(t,n),this.#Xa(),this.#xr||(this.parent.addUndoableEditor(this),this.#xr=!0),this._reportTelemetry({action:"inserted_image"}),this.#Ar&&l.setAttribute("aria-label",this.#Ar)}#_r(e,t){const[n,i]=this.parentDimensions;this.width=e/n,this.height=t/i,this.setDims(e,t),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#yr&&clearTimeout(this.#yr);this.#yr=setTimeout((()=>{this.#yr=null,this.#Cr(e,t)}),200)}#Tr(e,t){const{width:n,height:i}=this.#pr;let s=n,a=i,r=this.#pr;for(;s>2*e||a>2*t;){const n=s,i=a;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const o=new OffscreenCanvas(s,a);o.getContext("2d").drawImage(r,0,0,n,i,0,0,s,a),r=o.transferToImageBitmap()}return r}#Cr(e,t){e=Math.ceil(e),t=Math.ceil(t);const n=this.#br;if(!n||n.width===e&&n.height===t)return;n.width=e,n.height=t;const i=this.#wr?this.#pr:this.#Tr(e,t);if(this._uiManager.hasMLManager&&!this.hasAltText()){const n=new OffscreenCanvas(e,t).getContext("2d");n.drawImage(i,0,0,i.width,i.height,0,0,e,t),this._uiManager.mlGuess({service:"image-to-text",request:{data:n.getImageData(0,0,e,t).data,width:e,height:t,channels:4}}).then((e=>{const t=e?.output||"";this.parent&&t&&!this.hasAltText()&&(this.altTextData={altText:t,decorative:!1})}))}const s=n.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(i,0,0,i.width,i.height,0,0,e,t)}getImageForAltText(){return this.#br}#Pr(e){if(e){if(this.#wr){const e=this._uiManager.imageManager.getSvgUrl(this.#fr);if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=this.#pr);return e.getContext("2d").drawImage(this.#pr,0,0),e.toDataURL()}if(this.#wr){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*ei.PDF_TO_CSS_UNITS),i=Math.round(this.height*t*ei.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(n,i);return s.getContext("2d").drawImage(this.#pr,0,0,this.#pr.width,this.#pr.height,0,0,n,i),s.transferToImageBitmap()}return structuredClone(this.#pr)}#Xa(){this._uiManager._signal&&(this.#ja=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.#_r(t.width,t.height)})),this.#ja.observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{this.#ja?.disconnect(),this.#ja=null}),{once:!0}))}static deserialize(e,t,n){if(e instanceof fr)return null;const i=super.deserialize(e,t,n),{rect:s,bitmapUrl:a,bitmapId:r,isSvg:o,accessibilityData:l}=e;r&&n.imageManager.isValidId(r)?i.#fr=r:i.#mr=a,i.#wr=o;const[c,d]=i.pageDimensions;return i.width=(s[2]-s[0])/c,i.height=(s[3]-s[1])/d,l&&(i.altTextData=l),i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;const n={annotationType:Tt.STAMP,bitmapId:this.#fr,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#wr,structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=this.#Pr(!0),n.accessibilityData=this.altTextData,n;const{decorative:i,altText:s}=this.altTextData;if(!i&&s&&(n.accessibilityData={type:"Figure",alt:s}),null===t)return n;t.stamps||=new Map;const a=this.#wr?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(this.#fr)){if(this.#wr){const e=t.stamps.get(this.#fr);a>e.area&&(e.area=a,e.serialized.bitmap.close(),e.serialized.bitmap=this.#Pr(!1))}}else t.stamps.set(this.#fr,{area:a,serialized:n}),n.bitmap=this.#Pr(!1);return n}}class Tr{#Ui;#Mr=!1;#Lr=null;#Rr=null;#Dr=null;#Ir=null;#Fr=null;#Nr=(()=>new Map)();#Or=!1;#zr=!1;#jr=!1;#Br=null;#p;static _initialized=!1;static#O=(()=>new Map([Ar,Cr,_r,Sr].map((e=>[e._editorType,e]))))();constructor(e){let{uiManager:t,pageIndex:n,div:i,accessibilityManager:s,annotationLayer:a,drawLayer:r,textLayer:o,viewport:l,l10n:c}=e;const d=[...Tr.#O.values()];if(!Tr._initialized){Tr._initialized=!0;for(const e of d)e.initialize(c,t)}t.registerEditorTypes(d),this.#p=t,this.pageIndex=n,this.div=i,this.#Ui=s,this.#Lr=a,this.viewport=l,this.#Br=o,this.drawLayer=r,this.#p.addLayer(this)}get isEmpty(){return 0===this.#Nr.size}get isInvisible(){return this.isEmpty&&this.#p.getMode()===Tt.NONE}updateToolbar(e){this.#p.updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.#p.getMode();switch(this.#Hr(),e){case Tt.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Tt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Tt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of Tr.#O.values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#Br?.div}addInkEditorIfNeeded(e){if(this.#p.getMode()!==Tt.INK)return;if(!e)for(const t of this.#Nr.values())if(t.isEmpty())return void t.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){this.#p.setEditingState(e)}addCommands(e){this.#p.addCommands(e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Lr?.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of this.#Nr.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#p.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!this.#Lr)return;const t=this.#Lr.getEditableAnnotations();for(const n of t){if(n.hide(),this.#p.isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){this.#jr=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of this.#Nr.values())i.disableEditing(),i.annotationElementId&&(null===i.serialize()?(t.set(i.annotationElementId,i),this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()):e.set(i.annotationElementId,i));if(this.#Lr){const n=this.#Lr.getEditableAnnotations();for(const i of n){const{id:n}=i.data;if(this.#p.isDeletedAnnotationElement(n))continue;let s=t.get(n);s?(s.resetAnnotationElement(i),s.show(!1),i.show()):(s=e.get(n),s&&(this.#p.addChangedExistingAnnotation(s),s.renderAnnotationElement(i),s.show(!1)),i.show())}}this.#Hr(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of Tr.#O.values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#jr=!1}getEditableAnnotation(e){return this.#Lr?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#p.getActive()!==e&&this.#p.setActiveEditor(e)}enableTextSelection(){this.div.tabIndex=-1,this.#Br?.div&&!this.#Ir&&(this.#Ir=this.#Ur.bind(this),this.#Br.div.addEventListener("pointerdown",this.#Ir,{signal:this.#p._signal}),this.#Br.div.classList.add("highlighting"))}disableTextSelection(){this.div.tabIndex=0,this.#Br?.div&&this.#Ir&&(this.#Br.div.removeEventListener("pointerdown",this.#Ir),this.#Ir=null,this.#Br.div.classList.remove("highlighting"))}#Ur(e){if(this.#p.unselectAll(),e.target===this.#Br.div){const{isMac:t}=Rn.platform;if(0!==e.button||e.ctrlKey&&t)return;this.#p.showAllEditors("highlight",!0,!0),this.#Br.div.classList.add("free"),Sr.startHighlighting(this,"ltr"===this.#p.direction,e),this.#Br.div.addEventListener("pointerup",(()=>{this.#Br.div.classList.remove("free")}),{once:!0,signal:this.#p._signal}),e.preventDefault()}}enableClick(){if(this.#Dr)return;const e=this.#p._signal;this.#Dr=this.pointerdown.bind(this),this.#Rr=this.pointerup.bind(this),this.div.addEventListener("pointerdown",this.#Dr,{signal:e}),this.div.addEventListener("pointerup",this.#Rr,{signal:e})}disableClick(){this.#Dr&&(this.div.removeEventListener("pointerdown",this.#Dr),this.div.removeEventListener("pointerup",this.#Rr),this.#Dr=null,this.#Rr=null)}attach(e){this.#Nr.set(e.id,e);const{annotationElementId:t}=e;t&&this.#p.isDeletedAnnotationElement(t)&&this.#p.removeDeletedAnnotationElement(e)}detach(e){this.#Nr.delete(e.id),this.#Ui?.removePointerInTextLayer(e.contentDiv),!this.#jr&&e.annotationElementId&&this.#p.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#p.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,this.#zr||this.addInkEditorIfNeeded(!1)}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#p.addDeletedAnnotationElement(e.annotationElementId),Ri.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),this.#p.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),this.#p.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#Fr&&(e._focusEventsAllowed=!1,this.#Fr=setTimeout((()=>{this.#Fr=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this.#p._signal}),t.focus())}),0)),e._structTreeParentId=this.#Ui?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#p.getId()}get#Wr(){return Tr.#O.get(this.#p.getMode())}get _signal(){return this.#p._signal}#Vr(e){const t=this.#Wr;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#Wr?.canCreateNewEmptyEditor()}pasteEditor(e,t){this.#p.updateToolbar(e),this.#p.updateMode(e);const{offsetX:n,offsetY:i}=this.#qr(),s=this.getNextId(),a=this.#Vr({parent:this,id:s,x:n,y:i,uiManager:this.#p,isCentered:!0,...t});a&&this.add(a)}deserialize(e){return Tr.#O.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#p)||null}createAndAddNewEditor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getNextId(),s=this.#Vr({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#p,isCentered:t,...n});return s&&this.add(s),s}#qr(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,t),r=(s+Math.min(window.innerWidth,e+n))/2-e,o=(a+Math.min(window.innerHeight,t+i))/2-t,[l,c]=this.viewport.rotation%180===0?[r,o]:[o,r];return{offsetX:l,offsetY:c}}addNewEditor(){this.createAndAddNewEditor(this.#qr(),!0)}setSelected(e){this.#p.setSelected(e)}toggleSelected(e){this.#p.toggleSelected(e)}isSelected(e){return this.#p.isSelected(e)}unselect(e){this.#p.unselect(e)}pointerup(e){const{isMac:t}=Rn.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&this.#Or&&(this.#Or=!1,this.#Mr?this.#p.getMode()!==Tt.STAMP?this.createAndAddNewEditor(e,!1):this.#p.unselectAll():this.#Mr=!0)}pointerdown(e){if(this.#p.getMode()===Tt.HIGHLIGHT&&this.enableTextSelection(),this.#Or)return void(this.#Or=!1);const{isMac:t}=Rn.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;this.#Or=!0;const n=this.#p.getActive();this.#Mr=!n||n.isEmpty()}findNewParent(e,t,n){const i=this.#p.findParent(t,n);return null!==i&&i!==this&&(i.changeParent(e),!0)}destroy(){this.#p.getActive()?.parent===this&&(this.#p.commitOrRemove(),this.#p.setActiveEditor(null)),this.#Fr&&(clearTimeout(this.#Fr),this.#Fr=null);for(const e of this.#Nr.values())this.#Ui?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#Nr.clear(),this.#p.removeLayer(this)}#Hr(){this.#zr=!0;for(const e of this.#Nr.values())e.isEmpty()&&e.remove();this.#zr=!1}render(e){let{viewport:t}=e;this.viewport=t,wi(this.div,t);for(const n of this.#p.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(e){let{viewport:t}=e;this.#p.commitOrRemove(),this.#Hr();const n=this.viewport.rotation,i=t.rotation;if(this.viewport=t,wi(this.div,{rotation:i}),n!==i)for(const s of this.#Nr.values())s.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#p.viewParameters.realScale}}class Pr{#xi=null;#v=0;#Gr=(()=>new Map)();#Xr=(()=>new Map)();constructor(e){let{pageIndex:t}=e;this.pageIndex=t}setParent(e){if(this.#xi){if(this.#xi!==e){if(this.#Gr.size>0)for(const t of this.#Gr.values())t.remove(),e.append(t);this.#xi=e}}else this.#xi=e}static get _svgFactory(){return yn(this,"_svgFactory",new si)}static#Kr(e){let{x:t=0,y:n=0,width:i=1,height:s=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{style:a}=e;a.top=100*n+"%",a.left=100*t+"%",a.width=100*i+"%",a.height=100*s+"%"}#Yr(e){const t=Pr._svgFactory.create(1,1,!0);return this.#xi.append(t),t.setAttribute("aria-hidden",!0),Pr.#Kr(t,e),t}#Qr(e,t){const n=Pr._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=Pr._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i}highlight(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=this.#v++,a=this.#Yr(e.box);a.classList.add("highlight"),e.free&&a.classList.add("free");const r=Pr._svgFactory.createElement("defs");a.append(r);const o=Pr._svgFactory.createElement("path");r.append(o);const l=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",l),o.setAttribute("d",e.toSVGPath()),i&&this.#Xr.set(s,o);const c=this.#Qr(r,l),d=Pr._svgFactory.createElement("use");return a.append(d),a.setAttribute("fill",t),a.setAttribute("fill-opacity",n),d.setAttribute("href",`#${l}`),this.#Gr.set(s,a),{id:s,clipPathId:`url(#${c})`}}highlightOutline(e){const t=this.#v++,n=this.#Yr(e.box);n.classList.add("highlightOutline");const i=Pr._svgFactory.createElement("defs");n.append(i);const s=Pr._svgFactory.createElement("path");i.append(s);const a=`path_p${this.pageIndex}_${t}`;let r;if(s.setAttribute("id",a),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke"),e.free){n.classList.add("free");const e=Pr._svgFactory.createElement("mask");i.append(e),r=`mask_p${this.pageIndex}_${t}`,e.setAttribute("id",r),e.setAttribute("maskUnits","objectBoundingBox");const s=Pr._svgFactory.createElement("rect");e.append(s),s.setAttribute("width","1"),s.setAttribute("height","1"),s.setAttribute("fill","white");const o=Pr._svgFactory.createElement("use");e.append(o),o.setAttribute("href",`#${a}`),o.setAttribute("stroke","none"),o.setAttribute("fill","black"),o.setAttribute("fill-rule","nonzero"),o.classList.add("mask")}const o=Pr._svgFactory.createElement("use");n.append(o),o.setAttribute("href",`#${a}`),r&&o.setAttribute("mask",`url(#${r})`);const l=o.cloneNode();return n.append(l),o.classList.add("mainOutline"),l.classList.add("secondaryOutline"),this.#Gr.set(t,n),t}finalizeLine(e,t){const n=this.#Xr.get(e);this.#Xr.delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#Gr.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),this.#Xr.delete(e)}updatePath(e,t){this.#Xr.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){Pr.#Kr(this.#Gr.get(e),t)}show(e,t){this.#Gr.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#Gr.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#Gr.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#Gr.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#Gr.get(e).classList.add(t)}removeClass(e,t){this.#Gr.get(e).classList.remove(t)}remove(e){null!==this.#xi&&(this.#Gr.get(e).remove(),this.#Gr.delete(e))}destroy(){this.#xi=null;for(const e of this.#Gr.values())e.remove();this.#Gr.clear()}}var Mr=gt.AnnotationLayer,Lr=gt.AnnotationMode,Rr=gt.GlobalWorkerOptions,Dr=gt.PDFDataRangeTransport,Ir=gt.TextLayer,Fr=gt.getDocument,Nr=function(e,t,n){if(n||2===arguments.length)for(var i,s=0,a=t.length;s<a;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))},Or=Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),["onFocus","onBlur"],!0),["onInput","onInvalid","onReset","onSubmit"],!0),["onLoad","onError"],!0),["onKeyDown","onKeyPress","onKeyUp"],!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],!0),["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],!0),["onSelect"],!0),["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onScroll"],!0),["onWheel"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onChange"],!0),["onToggle"],!0);function zr(e,t){var n={};return Or.forEach((function(i){var s=e[i];s&&(n[i]=t?function(e){return s(e,t(i))}:s)})),n}function jr(e){var t=!1;return{promise:new Promise((function(n,i){e.then((function(e){return!t&&n(e)})).catch((function(e){return!t&&i(e)}))})),cancel:function(){t=!0}}}function Br(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Br(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const Hr=function(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Br(e))&&(i&&(i+=" "),i+=t);return i};var Ur="Invariant failed";function Wr(e,t){if(!e)throw new Error(Ur)}var Vr=n(6440),qr=Object.prototype.hasOwnProperty;function Gr(e,t,n){for(n of e.keys())if(Xr(n,t))return n}function Xr(e,t){var n,i,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&Xr(e[i],t[i]););return-1===i}if(n===Set){if(e.size!==t.size)return!1;for(i of e){if((s=i)&&"object"===typeof s&&!(s=Gr(t,s)))return!1;if(!t.has(s))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(i of e){if((s=i[0])&&"object"===typeof s&&!(s=Gr(t,s)))return!1;if(!Xr(i[1],t.get(s)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((i=e.byteLength)===t.byteLength)for(;i--&&e.getInt8(i)===t.getInt8(i););return-1===i}if(ArrayBuffer.isView(e)){if((i=e.byteLength)===t.byteLength)for(;i--&&e[i]===t[i];);return-1===i}if(!n||"object"===typeof e){for(n in i=0,e){if(qr.call(e,n)&&++i&&!qr.call(t,n))return!1;if(!(n in t)||!Xr(e[n],t[n]))return!1}return Object.keys(t).length===i}}return e!==e&&t!==t}const Kr=(0,a.createContext)(null);function Yr(e){let{children:t,type:n}=e;return(0,Me.jsx)("div",{className:`react-pdf__message react-pdf__message--${n}`,children:t})}class Qr{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Wr(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Wr(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise((t=>{Wr(this.pdfDocument),Wr(e),"string"===typeof e?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)})).then((e=>{Wr(Array.isArray(e));const t=e[0];new Promise((e=>{Wr(this.pdfDocument),t instanceof Object?this.pdfDocument.getPageIndex(t).then((t=>{e(t)})).catch((()=>{Wr(!1)})):"number"===typeof t?e(t):Wr(!1)})).then((t=>{const n=t+1;Wr(this.pdfViewer),Wr(n>=1&&n<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:t,pageNumber:n})}))}))}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Wr(this.pdfViewer),Wr(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const $r={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Zr="undefined"!==typeof window,Jr=Zr&&"file:"===window.location.protocol;function eo(e){return function(e){return"undefined"!==typeof e}(e)&&null!==e}function to(e){return function(e){return"string"===typeof e}(e)&&/^data:/.test(e)}function no(e){Wr(to(e));const[t="",n=""]=e.split(",");return-1!==t.split(";").indexOf("base64")?atob(n):unescape(n)}function io(){return Zr&&window.devicePixelRatio||1}const so="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function ao(){Vr(!Jr,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${so}`)}function ro(e){(null===e||void 0===e?void 0:e.cancel)&&e.cancel()}function oo(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function lo(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function co(){return(0,a.useReducer)(lo,{value:void 0,error:void 0})}var uo=function(e,t,n,i){return new(n||(n=Promise))((function(s,a){function r(e){try{l(i.next(e))}catch(t){a(t)}}function o(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,o)}l((i=i.apply(e,t||[])).next())}))},ho=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const{Tm:po}=i,fo=(e,t)=>{switch(t){case $r.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case $r.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."));break}};function go(e){return"object"===typeof e&&null!==e&&("data"in e||"range"in e||"url"in e)}const mo=(0,a.forwardRef)((function(e,t){var{children:n,className:i,error:s="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:d,loading:u="Loading PDF\u2026",noData:h="No PDF file specified.",onItemClick:p,onLoadError:f,onLoadProgress:g,onLoadSuccess:m,onPassword:v=fo,onSourceError:A,onSourceSuccess:b,options:y,renderMode:w,rotate:x}=e,k=ho(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[E,S]=co(),{value:C,error:_}=E,[T,P]=co(),{value:M,error:L}=T,R=(0,a.useRef)(new Qr),D=(0,a.useRef)([]),I=(0,a.useRef)(void 0),F=(0,a.useRef)(void 0);l&&l!==I.current&&go(l)&&(Vr(!Xr(l,I.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),I.current=l),y&&y!==F.current&&(Vr(!Xr(y,F.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),F.current=y);const N=(0,a.useRef)({scrollPageIntoView:e=>{const{dest:t,pageNumber:n,pageIndex:i=n-1}=e;if(p)return void p({dest:t,pageIndex:i,pageNumber:n});const s=D.current[i];s?s.scrollIntoView():Vr(!1,`An internal link leading to page ${n} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});(0,a.useImperativeHandle)(t,(()=>({linkService:R,pages:D,viewer:N})),[]),(0,a.useEffect)((function(){S({type:"RESET"})}),[l,S]);const O=(0,a.useCallback)((()=>uo(this,void 0,void 0,(function*(){if(!l)return null;if("string"===typeof l){if(to(l)){return{data:no(l)}}return ao(),{url:l}}if(l instanceof po)return{range:l};if(l instanceof ArrayBuffer)return{data:l};if(Zr&&function(e){return Wr(Zr),e instanceof Blob}(l)){const e=yield function(e){return new Promise(((t,n)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return n(new Error("Error while reading a file."));t(i.result)},i.onerror=e=>{if(!e.target)return n(new Error("Error while reading a file."));const{error:t}=e.target;if(!t)return n(new Error("Error while reading a file."));switch(t.code){case t.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},i.readAsArrayBuffer(e)}))}(l);return{data:e}}if(Wr("object"===typeof l),Wr(go(l)),"url"in l&&"string"===typeof l.url){if(to(l.url)){const{url:e}=l,t=ho(l,["url"]),n=no(e);return Object.assign({data:n},t)}ao()}return l}))),[l]);(0,a.useEffect)((()=>{const e=jr(O());return e.promise.then((e=>{S({type:"RESOLVE",value:e})})).catch((e=>{S({type:"REJECT",error:e})})),()=>{ro(e)}}),[O,S]),(0,a.useEffect)((()=>{"undefined"!==typeof C&&(!1!==C?b&&b():_&&(Vr(!1,_.toString()),A&&A(_)))}),[C]),(0,a.useEffect)((function(){P({type:"RESET"})}),[P,C]),(0,a.useEffect)((function(){if(!C)return;const e=y?Object.assign(Object.assign({},C),y):C,t=Fr(e);g&&(t.onProgress=g),v&&(t.onPassword=v);const n=t,i=n.promise.then((e=>{P({type:"RESOLVE",value:e})})).catch((e=>{n.destroyed||P({type:"REJECT",error:e})}));return()=>{i.finally((()=>n.destroy()))}}),[y,P,C]),(0,a.useEffect)((()=>{"undefined"!==typeof M&&(!1!==M?M&&(m&&m(M),D.current=new Array(M.numPages),R.current.setDocument(M)):L&&(Vr(!1,L.toString()),f&&f(L)))}),[M]),(0,a.useEffect)((function(){R.current.setViewer(N.current),R.current.setExternalLinkRel(r),R.current.setExternalLinkTarget(o)}),[r,o]);const z=(0,a.useCallback)(((e,t)=>{D.current[e]=t}),[]),j=(0,a.useCallback)((e=>{delete D.current[e]}),[]),B=(0,a.useMemo)((()=>({imageResourcesPath:d,linkService:R.current,onItemClick:p,pdf:M,registerPage:z,renderMode:w,rotate:x,unregisterPage:j})),[d,p,M,z,w,x,j]),H=(0,a.useMemo)((()=>zr(k,(()=>M))),[k,M]);return(0,Me.jsx)("div",Object.assign({className:Hr("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},H,{children:l?void 0===M||null===M?(0,Me.jsx)(Yr,{type:"loading",children:"function"===typeof u?u():u}):!1===M?(0,Me.jsx)(Yr,{type:"error",children:"function"===typeof s?s():s}):(0,Me.jsx)(Kr.Provider,{value:B,children:n}):(0,Me.jsx)(Yr,{type:"no-data",children:"function"===typeof h?h():h})}))}));function vo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);return n.length<=1?n[0]||null:function(e){n.forEach((function(t){"function"===typeof t?t(e):t&&(t.current=e)}))}}const Ao=(0,a.createContext)(null),bo={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},yo=/^H(\d+)$/;function wo(e){return"children"in e}function xo(e){return!!wo(e)&&(1===e.children.length&&0 in e.children&&"id"in e.children[0])}function ko(e){const t={};if(wo(e)){const{role:n}=e,i=n.match(yo);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(function(e){return e in bo}(n)){const e=bo[n];e&&(t.role=e)}}return t}function Eo(e){const t={};if(wo(e)){if(void 0!==e.alt&&(t["aria-label"]=e.alt),void 0!==e.lang&&(t.lang=e.lang),xo(e)){const[n]=e.children;if(n){const e=Eo(n);return Object.assign(Object.assign({},t),e)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function So(e){return e?Object.assign(Object.assign({},ko(e)),Eo(e)):null}function Co(e){let{className:t,node:n}=e;const i=(0,a.useMemo)((()=>So(n)),[n]),s=(0,a.useMemo)((()=>wo(n)?xo(n)?null:n.children.map(((e,t)=>(0,Me.jsx)(Co,{node:e},t))):null),[n]);return(0,Me.jsx)("span",Object.assign({className:t},i,{children:s}))}function _o(){return(0,a.useContext)(Ao)}function To(){const e=_o();Wr(e);const{onGetStructTreeError:t,onGetStructTreeSuccess:n}=e,[i,s]=co(),{value:r,error:o}=i,{customTextRenderer:l,page:c}=e;return(0,a.useEffect)((function(){s({type:"RESET"})}),[s,c]),(0,a.useEffect)((function(){if(l)return;if(!c)return;const e=jr(c.getStructTree()),t=e;return e.promise.then((e=>{s({type:"RESOLVE",value:e})})).catch((e=>{s({type:"REJECT",error:e})})),()=>ro(t)}),[l,c,s]),(0,a.useEffect)((()=>{void 0!==r&&(!1!==r?r&&n&&n(r):o&&(Vr(!1,o.toString()),t&&t(o)))}),[r]),r?(0,Me.jsx)(Co,{className:"react-pdf__Page__structTree structTree",node:r}):null}const Po=Lr;function Mo(e){const t=_o();Wr(t);const n=Object.assign(Object.assign({},t),e),{_className:i,canvasBackground:s,devicePixelRatio:r=io(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:d,renderTextLayer:u,rotate:h,scale:p}=n,{canvasRef:f}=e;Wr(c);const g=(0,a.useRef)(null);function m(e){(function(e){return"RenderingCancelledException"===e.name})(e)||(Vr(!1,e.toString()),o&&o(e))}const v=(0,a.useMemo)((()=>c.getViewport({scale:p*r,rotation:h})),[r,c,h,p]),A=(0,a.useMemo)((()=>c.getViewport({scale:p,rotation:h})),[c,h,p]);(0,a.useEffect)((function(){if(!c)return;c.cleanup();const{current:e}=g;if(!e)return;e.width=v.width,e.height=v.height,e.style.width=`${Math.floor(A.width)}px`,e.style.height=`${Math.floor(A.height)}px`,e.style.visibility="hidden";const t={annotationMode:d?Po.ENABLE_FORMS:Po.ENABLE,canvasContext:e.getContext("2d",{alpha:!1}),viewport:v};s&&(t.background=s);const n=c.render(t),i=n;return n.promise.then((()=>{e.style.visibility="",c&&l&&l(oo(c,p))})).catch(m),()=>ro(i)}),[s,c,d,v,A]);const b=(0,a.useCallback)((()=>{const{current:e}=g;e&&(e.width=0,e.height=0)}),[]);return(0,a.useEffect)((()=>b),[b]),(0,Me.jsx)("canvas",{className:`${i}__canvas`,dir:"ltr",ref:vo(f,g),style:{display:"block",userSelect:"none"},children:u?(0,Me.jsx)(To,{}):null})}function Lo(){const e=_o();Wr(e);const{customTextRenderer:t,onGetTextError:n,onGetTextSuccess:i,onRenderTextLayerError:s,onRenderTextLayerSuccess:r,page:o,pageIndex:l,pageNumber:c,rotate:d,scale:u}=e;Wr(o);const[h,p]=co(),{value:f,error:g}=h,m=(0,a.useRef)(null),v=(0,a.useRef)(void 0);Vr(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,a.useEffect)((function(){p({type:"RESET"})}),[o,p]),(0,a.useEffect)((function(){if(!o)return;const e=jr(o.getTextContent()),t=e;return e.promise.then((e=>{p({type:"RESOLVE",value:e})})).catch((e=>{p({type:"REJECT",error:e})})),()=>ro(t)}),[o,p]),(0,a.useEffect)((()=>{void 0!==f&&(!1!==f?f&&i&&i(f):g&&(Vr(!1,g.toString()),n&&n(g)))}),[f]);const A=(0,a.useCallback)((()=>{r&&r()}),[r]),b=(0,a.useCallback)((e=>{Vr(!1,e.toString()),s&&s(e)}),[s]);const y=(0,a.useMemo)((()=>o.getViewport({scale:u,rotation:d})),[o,d,u]);return(0,a.useLayoutEffect)((function(){if(!o||!f)return;const{current:e}=m;if(!e)return;e.innerHTML="";const n=o.streamTextContent({includeMarkedContent:!0}),i=new Ir({container:e,textContentSource:n,viewport:y}),s=i;return i.render().then((()=>{const n=document.createElement("div");n.className="endOfContent",e.append(n),v.current=n;const i=e.querySelectorAll('[role="presentation"]');if(t){let e=0;f.items.forEach(((n,s)=>{if(!function(e){return"str"in e}(n))return;const a=i[e];if(!a)return;const r=t(Object.assign({pageIndex:l,pageNumber:c,itemIndex:s},n));a.innerHTML=r,e+=n.str&&n.hasEOL?2:1}))}A()})).catch(b),()=>ro(s)}),[t,b,A,o,l,c,f,y]),(0,Me.jsx)("div",{className:Hr("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const e=v.current;e&&e.classList.remove("active")},onMouseDown:function(){const e=v.current;e&&e.classList.add("active")},ref:m})}function Ro(){return(0,a.useContext)(Kr)}function Do(){const e=Ro(),t=_o();Wr(t);const n=Object.assign(Object.assign({},e),t),{imageResourcesPath:i,linkService:s,onGetAnnotationsError:r,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:d,pdf:u,renderForms:h,rotate:p,scale:f=1}=n;Wr(u),Wr(d),Wr(s);const[g,m]=co(),{value:v,error:A}=g,b=(0,a.useRef)(null);Vr(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,a.useEffect)((function(){m({type:"RESET"})}),[m,d]),(0,a.useEffect)((function(){if(!d)return;const e=jr(d.getAnnotations()),t=e;return e.promise.then((e=>{m({type:"RESOLVE",value:e})})).catch((e=>{m({type:"REJECT",error:e})})),()=>{ro(t)}}),[m,d]),(0,a.useEffect)((()=>{void 0!==v&&(!1!==v?v&&o&&o(v):A&&(Vr(!1,A.toString()),r&&r(A)))}),[v]);const y=(0,a.useMemo)((()=>d.getViewport({scale:f,rotation:p})),[d,p,f]);return(0,a.useEffect)((function(){if(!u||!d||!s||!v)return;const{current:e}=b;if(!e)return;const t=y.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:e,l10n:null,page:d,viewport:t},a={annotations:v,annotationStorage:u.annotationStorage,div:e,imageResourcesPath:i,linkService:s,page:d,renderForms:h,viewport:t};e.innerHTML="";try{new Mr(n).render(a),c&&c()}catch(r){!function(e){Vr(!1,`${e}`),l&&l(e)}(r)}return()=>{}}),[v,i,s,d,u,h,y]),(0,Me.jsx)("div",{className:Hr("react-pdf__Page__annotations","annotationLayer"),ref:b})}var Io=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Fo=1;function No(e){const t=Ro(),n=Object.assign(Object.assign({},t),e),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:r,canvasRef:o,children:l,className:c,customRenderer:d,customTextRenderer:u,devicePixelRatio:h,error:p="Failed to load the page.",height:f,inputRef:g,loading:m="Loading page\u2026",noData:v="No page specified.",onGetAnnotationsError:A,onGetAnnotationsSuccess:b,onGetStructTreeError:y,onGetStructTreeSuccess:w,onGetTextError:x,onGetTextSuccess:k,onLoadError:E,onLoadSuccess:S,onRenderAnnotationLayerError:C,onRenderAnnotationLayerSuccess:_,onRenderError:T,onRenderSuccess:P,onRenderTextLayerError:M,onRenderTextLayerSuccess:L,pageIndex:R,pageNumber:D,pdf:I,registerPage:F,renderAnnotationLayer:N=!0,renderForms:O=!1,renderMode:z="canvas",renderTextLayer:j=!0,rotate:B,scale:H=Fo,unregisterPage:U,width:W}=n,V=Io(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[q,G]=co(),{value:X,error:K}=q,Y=(0,a.useRef)(null);Wr(I);const Q=eo(D)?D-1:null!==R&&void 0!==R?R:null,$=null!==D&&void 0!==D?D:eo(R)?R+1:null,Z=null!==B&&void 0!==B?B:X?X.rotate:null,J=(0,a.useMemo)((()=>{if(!X)return null;let e=1;const t=null!==H&&void 0!==H?H:Fo;if(W||f){const t=X.getViewport({scale:1,rotation:Z});W?e=W/t.width:f&&(e=f/t.height)}return t*e}),[f,X,Z,H,W]);(0,a.useEffect)((function(){return()=>{eo(Q)&&s&&U&&U(Q)}}),[s,I,Q,U]),(0,a.useEffect)((function(){G({type:"RESET"})}),[G,I,Q]),(0,a.useEffect)((function(){if(!I||!$)return;const e=jr(I.getPage($)),t=e;return e.promise.then((e=>{G({type:"RESOLVE",value:e})})).catch((e=>{G({type:"REJECT",error:e})})),()=>ro(t)}),[G,I,$]),(0,a.useEffect)((()=>{void 0!==X&&(!1!==X?function(){if(S){if(!X||!J)return;S(oo(X,J))}if(s&&F){if(!eo(Q)||!Y.current)return;F(Q,Y.current)}}():K&&(Vr(!1,K.toString()),E&&E(K)))}),[X,J]);const ee=(0,a.useMemo)((()=>X&&eo(Q)&&$&&eo(Z)&&eo(J)?{_className:i,canvasBackground:r,customTextRenderer:u,devicePixelRatio:h,onGetAnnotationsError:A,onGetAnnotationsSuccess:b,onGetStructTreeError:y,onGetStructTreeSuccess:w,onGetTextError:x,onGetTextSuccess:k,onRenderAnnotationLayerError:C,onRenderAnnotationLayerSuccess:_,onRenderError:T,onRenderSuccess:P,onRenderTextLayerError:M,onRenderTextLayerSuccess:L,page:X,pageIndex:Q,pageNumber:$,renderForms:O,renderTextLayer:j,rotate:Z,scale:J}:null),[i,r,u,h,A,b,y,w,x,k,C,_,T,P,M,L,X,Q,$,O,j,Z,J]),te=(0,a.useMemo)((()=>zr(V,(()=>X?J?oo(X,J):void 0:X))),[V,X,J]),ne=`${Q}@${J}/${Z}`;function ie(){switch(z){case"custom":return Wr(d),(0,Me.jsx)(d,{},`${ne}_custom`);case"none":return null;default:return(0,Me.jsx)(Mo,{canvasRef:o},`${ne}_canvas`)}}return(0,Me.jsx)("div",Object.assign({className:Hr(i,c),"data-page-number":$,ref:vo(g,Y),style:{"--scale-factor":`${J}`,backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},te,{children:$?null===I||void 0===X||null===X?(0,Me.jsx)(Yr,{type:"loading",children:"function"===typeof m?m():m}):!1===I||!1===X?(0,Me.jsx)(Yr,{type:"error",children:"function"===typeof p?p():p}):(0,Me.jsxs)(Ao.Provider,{value:ee,children:[ie(),j?(0,Me.jsx)(Lo,{},`${ne}_text`):null,N?(0,Me.jsx)(Do,{},`${ne}_annotations`):null,l]}):(0,Me.jsx)(Yr,{type:"no-data",children:"function"===typeof v?v():v})}))}const Oo=n.p+"static/media/charte-epfl-sic.27472a6654585be60e42.pdf";Rr.workerSrc=new URL(n(749),n.b).toString();const zo=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,a.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,a.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"notre engagement":"our engagement")+" | EPFL Sustainable Innovation Challenge"}),[]);const[r,o]=(0,a.useState)(0),[l,c]=(0,a.useState)(1),[d,u]=(0,a.useState)(1),h=(0,a.useRef)();return(0,a.useEffect)((()=>{function e(){if(h.current){const e=h.current.offsetWidth;u(e/600)}}return e(),window.addEventListener("resize",(()=>e())),()=>{window.removeEventListener("resize",e)}}),[]),(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsxs)("main",{children:[(0,Me.jsxs)("h1",{children:[{FR:"Notre engagement",EN:"Our engagement"}[n]," (",(0,Me.jsx)("a",{href:Oo,children:"pdf"}),")"]}),(0,Me.jsx)("div",{className:"pdf-container",ref:h,children:(0,Me.jsx)(mo,{file:Oo,onLoadSuccess:function(e){let{numPages:t}=e;o(t)},children:Array(r).fill(0).map(((e,t)=>(0,Me.jsx)(No,{scale:d,renderTextLayer:!1,renderAnnotationLayer:!1,pageNumber:t+1},`page-${t}`)))})})]})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})})},jo=(n.p,n.p+"static/media/status-epfl-sic-signed.45536677b6cae8523ddd.pdf"),Bo=n.p+"static/media/ag-epfl-sic-signed.a2bf679f82cfc03c9ada.pdf";Rr.workerSrc=new URL(n(749),n.b).toString();const Ho=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,a.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,a.useEffect)((function(){window.scrollTo(0,0),document.title="status | EPFL Sustainable Innovation Challenge"}),[]);const r={description:{FR:"Nous sommes une association \xe0 but non lucratif de l'EPFL. Vous pouvez trouver les documents sign\xe9s de nos statuts ainsi que du compte rendu de notre derni\xe8re assembl\xe9e g\xe9n\xe9rale en cliquant sur les boutons ci-dessous.",EN:"We are a nonprofit association at EPFL. You can find the signed documents for both our statutes and the minutes of our most recent general assembly by clicking the buttons below."},"ag-title":{FR:"PV AG",EN:"GA minutes"},"status-title":{FR:"Statuts",EN:"Statutes"}},[o,l]=(0,a.useState)(0),[c,d]=(0,a.useState)(1),[u,h]=(0,a.useState)(1),p=(0,a.useRef)();return(0,a.useEffect)((()=>{function e(){if(p.current){const e=p.current.offsetWidth;h(e/600)}}return e(),window.addEventListener("resize",(()=>e())),()=>{window.removeEventListener("resize",e)}}),[]),(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsxs)("main",{children:[(0,Me.jsx)("h1",{children:r.description[n]}),(0,Me.jsxs)("h1",{children:[" (",(0,Me.jsx)("a",{href:Bo,children:r["ag-title"][n]}),") - (",(0,Me.jsx)("a",{href:jo,children:r["status-title"][n]}),")"]})]})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})})};const Uo=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,a.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,a.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"nous contacter":"contact us")+" | EPFL Sustainable Innovation Challenge"}),[]);const r={title:{FR:"Nous Contacter",EN:"Contact Us"},object:{FR:"objet",EN:"object"},"your-message":{FR:"votre message ici *",EN:"your message here *"}};return(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsx)("main",{children:(0,Me.jsxs)("form",{action:"https://formsubmit.co/sic@epfl.ch",method:"POST",children:[(0,Me.jsx)("h1",{children:r.title[n]}),(0,Me.jsx)("input",{type:"email",name:"email",placeholder:"email *",required:!0}),(0,Me.jsx)("input",{type:"text",name:"objet",placeholder:r.object[n]}),(0,Me.jsx)("textarea",{name:"message",rows:"7",placeholder:r["your-message"][n],required:!0}),(0,Me.jsx)("input",{type:"submit",value:"submit"})]})})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})})};const Wo=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,a.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}return(0,a.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"le blog":"the blog")+" | EPFL Sustainable Innovation Challenge"}),[]),(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsx)("main",{children:(0,Me.jsx)("p",{children:{EN:"Welcome to our blog gallery \u2014 a curated collection of inspiring moments, stories, and visuals that capture the essence of our journey.",FR:"Bienvenue dans notre galerie de blog \u2014 une collection soigneusement s\xe9lectionn\xe9e de moments inspirants, d'histoires et de visuels qui capturent l'essence de notre parcours."}[n]})})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})};const Vo=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,a.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,a.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"article du blog":"blog post")+" | EPFL Sustainable Innovation Challenge"}),[]);const{blogPostId:r}=ae();return(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsxs)("main",{children:["this is a blog post with id '",r,"'"]})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})};n.p,n.p,n.p;n.p;n.p,n.p,n.p,n.p;const qo=function(e){let{option1:t,option2:n,selectedOption:i,handleOptionSwitchCallBack:s}=e;return(0,Me.jsxs)("div",{className:"switch-button","selected-option":i,children:[(0,Me.jsx)("p",{onClick:()=>s(0),children:t}),(0,Me.jsx)("p",{onClick:()=>s(1),children:n}),(0,Me.jsx)("div",{})]})};const Go=function(e){let{scheduleData:t}=e,n=[];for(let a=8;a<=20;a++)n.push(`${a}h00`),n.push(`${a}h15`),n.push(`${a}h30`),n.push(`${a}h45`);function i(e,t){let[n,i]=e.split("h");e=60*+n+ +i;let[s,a]=t.split("h");return e<(t=60*+s+ +a)}function s(e){let[t,n]=e.split("h");return"00"===n}return(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsxs)("table",{children:[(0,Me.jsx)("thead",{children:(0,Me.jsxs)("tr",{children:[(0,Me.jsx)("th",{}),t.locations.map((e=>(0,Me.jsx)("th",{children:e.name})))]})}),(0,Me.jsx)("tbody",{children:n.map((e=>(0,Me.jsxs)("tr",{children:[(0,Me.jsx)("td",{children:s(e)?e:""}),t.locations.map((t=>function(e,t){let s=e.events.find((e=>t===e.start));if(s){let e=("onwards"===s.end?n.length:n.findIndex((e=>e===s.end)))-n.findIndex((e=>e===s.start));return(0,Me.jsxs)("td",{className:s.type,rowSpan:e,children:[s.event," ",(0,Me.jsx)("br",{}),s.start," - ",s.end]})}return e.events.find((e=>i(e.start,t)&&("onwards"===e.end||i(t,e.end))))?null:(0,Me.jsx)("td",{})}(t,e)))]})))})]})})},Xo=JSON.parse('{"_":[{"date":"13/04","locations":[{"name":"Rolex Forum","events":[{"start":"8h00","end":"8h45","event":"Registration","type":"marked-as-diverse"},{"start":"8h45","end":"9h00","event":"Opening statement with Edouard Bugnion","type":"marked-as-diverse"},{"start":"9h00","end":"9h45","event":"Kai Gehring","type":"marked-as-speakers"},{"start":"10h00","end":"10h45","event":"Alexander Mathys","type":"marked-as-speakers"},{"start":"10h45","end":"11h15","event":"Coffee Break","type":"marked-as-diverse"},{"start":"11h15","end":"12h00","event":"Christophe Ballif","type":"marked-as-speakers"},{"start":"12h15","end":"13h00","event":"C\xe9dric Tard","type":"marked-as-speakers"},{"start":"13h00","end":"14h00","event":"Lunch","type":"marked-as-diverse"},{"start":"14h00","end":"14h45","event":"Gr\xe9gory Nocton","type":"marked-as-speakers"},{"start":"15h00","end":"15h45","event":"Claudia Binder","type":"marked-as-speakers"},{"start":"16h00","end":"16h45","event":"Sascha Nick","type":"marked-as-speakers"},{"start":"16h45","end":"17h15","event":"Coffee Break","type":"marked-as-diverse"},{"start":"17h15","end":"18h00","event":"Massimo Tavoni","type":"marked-as-speakers"},{"start":"18h00","end":"20h00","event":"Challenge","type":"marked-as-special-format-event"},{"start":"20h00","end":"onwards","event":"Apero","type":"marked-as-diverse"}]},{"name":"MED and Rolex Hall","events":[{"start":"9h00","end":"onwards","event":"industry, academia and student exhibition + showcase","type":"marked-as-showcase"}]}]},{"date":"14/04","locations":[{"name":"Rolex Forum","events":[{"start":"9h00","end":"9h45","event":"Monika Roeling","type":"marked-as-speakers"},{"start":"10h00","end":"10h45","event":"Satu Huuhka","type":"marked-as-speakers"},{"start":"12h00","end":"12h45","event":"Giacomo D\'Alisa","type":"marked-as-speakers"},{"start":"12h45","end":"13h30","event":"Lunch","type":"marked-as-diverse"},{"start":"15h30","end":"16h15","event":"Julia Steinberger","type":"marked-as-speakers"},{"start":"16h30","end":"18h30","event":"Academic Citizen\'s Assembly + Coffee","type":"marked-as-special-format-event"},{"start":"18h30","end":"19h00","event":"Prizes and closing statement","type":"marked-as-diverse"}]},{"name":"Rolex Hodler","events":[{"start":"10h45","end":"11h15","event":"Coffee Break","type":"marked-as-diverse"},{"start":"11h15","end":"11h45","event":"Workshop: careers in sustainability, e4s","type":"marked-as-workshops"},{"start":"13h30","end":"14h15","event":"Workshop: sustainability and industrial development, Deloitte","type":"marked-as-workshops"},{"start":"14h30","end":"15h15","event":"Workshop: ZEG (internal people)","type":"marked-as-workshops"},{"start":"16h30","end":"18h30","event":"Workshop: ZEG (external people)","type":"marked-as-workshops"}]}]}]}');const Ko=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,a.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,a.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"horaires & billets":"schedule & tickets")+" | EPFL Sustainable Innovation Challenge"}),[]);const r="13/03",o="14/03";let[l,c]=(0,a.useState)(0);return(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsxs)("main",{children:[(0,Me.jsx)(qo,{option1:r,option2:o,selectedOption:l,handleOptionSwitchCallBack:function(e){c(e)}}),(0,Me.jsx)(Go,{scheduleData:Xo._[l]}),(0,Me.jsxs)("div",{className:"schedule-legend",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"marked-as-speakers"}),(0,Me.jsx)("p",{children:"Speakers"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"marked-as-showcase"}),(0,Me.jsx)("p",{children:"Showcase"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"marked-as-special-format-event"}),(0,Me.jsx)("p",{children:"Special format event"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"marked-as-workshops"}),(0,Me.jsx)("p",{children:"Workshops"})]})]})]})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})};const Yo=function(e){let{team_data:t,is_honorific:n}=e,i=(n?"/honorific-team/":"/selected-team/")+t.id;return(0,Me.jsxs)(_e,{className:n?"honorific-team-card":"selected-team-card",to:i,children:[(0,Me.jsx)("h2",{children:t.name}),(0,Me.jsx)("p",{children:t["short-description"]})]},t.id)};const Qo=function(e){let{jury_data:t}=e;return(0,Me.jsx)("div",{children:t.name})},$o=[{name:"AEther Swiss Kite",id:"aether-swiss-kite",country:"Switzerland",university:"EPFL","short-description":"Autonomous kites to cut shipping emissions","long-description":"\xc6ther Swiss Kite is an EPFL association aiming to create an autonomous                                 kite piloting system. Founded in 2024 by former members of the SP80 sailing                                 speed record project, the team aims to use its expertise to generate electricity                                  by using the kite as a wind turbine, or to save energy by towing freight boats.                                 To meet this challenge, the \xc6ther team is made up of some fifteen EPFL students, all                                 passionate about their work. Most of them even carry out their semester projects,                                 which are credited and recognized towards their diploma. The research and development                                 carried out at \xc6ther gives students the opportunity to deepen their knowledge in an environment                                 conducive to innovation.",linkedin:"http://linkedin.com/company/%C3%A6ther-swiss-kite/",instagram:"https://www.instagram.com/aether.swiss.kite/"},{name:"EPFL Carbon Team",id:"epfl-carbon-team",country:"Switzerland",university:"EPFL","short-description":"Direct Air Capture","long-description":"We are a student MAKE project supported by several renowned professors and laboratories at EPFL.                                 We are developing a new durable, low-cost, scalable, and sustainable solution for Direct-Air-Capture                                 Our prototype consists of three parts : Ast\xe9rix, Pneumatix and Id\xe9fix. Ast\xe9rix contains adsorbants                                 and works with a periodic air flow. It releases two air fluxes : one rich in CO2 and one poor in CO2                                 (since it has been removed) thanks to filtration via the adsorbants. Id\xe9fix works continously as it                                 contains graphene membranes that act like a filter trapping CO2 from the incoming air. Pneumatix connects                                 both other parts whose combination allows for this CO2 capture process optimisation.",linkedin:"https://www.linkedin.com/company/epfl-carbon-team/",instagram:"https://www.instagram.com/epflcarbonteam/"},{name:"Genorobotics",id:"genorobotics",country:"Switzerland",university:"EPFL","short-description":"Holistic technological innovation for botanical conservation","long-description":"Biodiversity preservation has become a major challenge of the XXIst century. Biodiversity identification                                 and monitoring are the cornerstones for preservation actions. However, the classical conservation and                                 taxonomy approaches no longer fit with the emergency of the situation. In response to these great upheavals                                 and the opportunities given by the latest biotechnology advances conservationists have enlarged their toolbox.                                The use of DNA has deeply impacted taxonomy over the last decade, evolving from a species detection method to                                 a tool for the identification and discovery of new species. However, the full exploitation of genomic technologies                                requires high sequencing costs and expensively equipped facilities only available in developed countries.                                 Furthermore, exportation of biological samples between countries has been largely restricted by the NAGOYA                                 protocol in order to protect the access to genetic resources and the sharing of their benefits. This creates                                 an impasse for conservation efforts and scientific research, since both directly work with biological samples to                                 study or reference them. The need for on-site genomic tools has become urgent ! In this way, to fill the gap                                between new genomic conservation approaches and DNA sequencing technologies, we are developing a miniaturized tool                                to automatically process botanical samples into the field and accelerate biodiversity identification.",linkedin:"https://www.linkedin.com/company/genorobotics/",instagram:"https://www.instagram.com/genorobotics/"},{name:"GUST",id:"gust",country:"Poland",university:"University of Lodz","short-description":"Biocomposite wind turbines","long-description":"GUST (Generative Urban Small Turbine) is a student project launched in October 2015. The project is implemented by                                 members of the Student Scientific Circle of Energy Scientists (SKNE) located at the Institute of Flow Machinery of the Faculty of Mechanical                                 Engineering of the Technical University of Lodz. The project is designed to promote the harvesting of renewable energy from wind for prosumers.                                 To this end, a prototype of a domestic wind turbine has been designed and constructed, It is intended to cover a significant portion of a                                 household's daily electricity needs, as well as contribute to cost reduction and increased savings.",linkedin:"https://www.linkedin.com/company/generative-urban-small-turbine/",instagram:null},{name:"NeoMineX",id:"neominex",country:"Belgium",university:"KU Leuven","short-description":"Biomining metals with engineered bacteria","long-description":"We engineered bacteria to take up metals from the environment by expressing proteins with a high affinity for specific metals.                               Our engineered bacteria are mixed with wastewater where they bind to their target metals. Our project encourages a circular                               economy and contributes to less metal pollution in the environment and more place for nature, by reducing the amount of mining                               cites needed. We highly value our sustainability collaborations as well. Synthetic biology will shape all of our futures,                               it is therefore important that everyone has the ability to learn about it. In order to have truly sustainable changes,                               science and industry need to be representative. We want to show that science is for everyone.",linkedin:"https://www.linkedin.com/company/kuleuvenigem/",instagram:"https://www.instagram.com/igemkuleuven/"},{name:"RebuiLT",id:"rebuilt",country:"Switzerland",university:"EPFL","short-description":"Sustainable construction with reused materials","long-description":"RebuiLT is a MAKE EPFL project whose objective is to propose in a concrete way a new method of construction more respectful                                 of the environment, in line with the circularity of materials and low-tech. Currently, rebuiLT is building a pavilion in                                 Ecublens from reused concrete elements",linkedin:"https://www.linkedin.com/company/rebuilt-epfl/",instagram:"https://www.instagram.com/rebuilt_epfl/"},{name:"Sailowtech",id:"sailowtech",country:"Switzerland",university:"EPFL","short-description":"Low-cost device for water analysis","long-description":"Sailowtech is a scientific sailing expedition program. Its mission is to combine low-tech and frugal innovations,                                 Open Sciences, awareness and spirit of adventure to encourage current and future generations to understand and                                 invest in the preservation of the oceans. DISCOVERY - PRESERVATION - TRANSMISSION. Composed of committed young people,                                 Sailowtech is rooted in scientific and social solidarity. It encourages participatory science through free access to                                 its resources. It cultivates a pragmatic and rigorous approach to ecological issues by benefiting from expert advice.                                 Finally, it includes sustainability in all its actions to propose a model of scientific expedition with minimum environmental                                 impact",linkedin:"https://www.linkedin.com/company/sailowtech/ ",instagram:"https://www.instagram.com/sailowtech/"},{name:"Solar Team Eindhoven",id:"solar-team-eindhoven",country:"The Netherlands",university:"TU Eindhoven","short-description":"Solar powered off-road car","long-description":"Solar Team Eindhoven (STE) is a team of enthusiastic students who want to show the world that driving on solar energy is not just a                                 pipe dream, but is already possible today. We are getting closer and closer to our sustainable future, and we are happy to contribute                                 to this with the development of a practical passenger car. More than 20 students, many of them Honors students and coming from almost all                                 faculties, are working full-time on the development of the car. The practical electric car, powered by solar energy, will be built from the                                 ground up. The design of the car of the future meets the wishes of the normal consumer. The knowledge present at Eindhoven University of Technology                                 combined with insights from the high-tech industry will be implemented in the design, in production and during testing. This cooperation makes the                                 group of top students into a powerful team that will participate in the 'Cruiser class' of the World Solar Challenge. This is the beginning of a                                 tradition in which Solar Team Eindhoven successfully participates in this race in Australia, leading to the car of the future. We like to share                                 our enthusiasm for technology and a sustainable future with others by actively seeking contact with the general public. In this way we show the Netherlands                                the value and possibilities of renewable energy and want to inspire new innovations.",linkedin:"https://www.linkedin.com/company/solar-team-eindhoven/",instagram:"https://www.instagram.com/solarteameindh"},{name:"Team Daedalus",id:"team-deadalus",country:"The Netherlands",university:"TU Eindhoven","short-description":"Solar-powered UAV for continuous wildfire monitoring","long-description":"Team Daedalus is developing a solar-powered unmanned aircraft to be used in the detection and monitoring of wildfires. Using solar-power, the aircraft has                                 no need to land and refuel, and can therefore remain in the air for much longer time periods. The team is currently working on deploying a 3m wingspan                                 prototype that will validate the key technologies, while simultaenously designing a 4m wingspan prototype that will aim for at least 12h of continuous flight.",linkedin:"https://www.linkedin.com/company/team-daedalus-tue/",instagram:null},{name:"The SARA Project",id:"the-sara-project",country:"Switzerland",university:"ETHZ","short-description":"Smartphone-based river monitoring application utilizing computer vision to detect and track environmental waste.","long-description":"The proposed project focuses on developing a smartphone-based river monitoring application utilizing computer vision to detect and track environmental waste,                                 particularly in river systems. This innovative solution offers an accessible, scalable and cost-effective approach to addressing river pollution, aiding in                                 data collection, environmental awareness and decision-making for clean-up initiatives. The project's impact lies in its potential to significantly enhance                                 environmental monitoring, promote sustainable practices and empower local communities and authorities with actionable insights to combat water pollution.                                 By participating in this challenge, the project could gain visibility, foster collaborations and access critical resources to advance its development and                                 implementation, driving global efforts toward cleaner waterways and improved environmental health.",linkedin:"https://www.linkedin.com/company/autonomous-river-cleanup-project/",instagram:"https://www.instagram.com/autonomousrivercleanup/"},{name:"Trovador",id:"trovador",country:"Portugal",university:"T\xe9cnico Lisboa","short-description":"Autonomous robots for reforestation","long-description":"Trovador enables reforestation in hard-to-access areas through robotic platforms that guarantee high tree survival rates. Our planting methods rely on planning                                 the plantation site, deploying the robot, and monitoring it from a distance. We deploy hexapod robots that not only offer stability, they also achieve a high                                 efficiency and speed performance.",linkedin:"https://www.linkedin.com/company/trovador-eu/",instagram:"https://www.instagram.com/trovador.eu/"},{name:"TUM Green Tech - Desalination",id:"tum-green-tech-desalination",country:"Germany",university:"TU M\xfcnchen","short-description":"Energy-efficient desalination for remote areas","long-description":"The TUM Green Tech Initiative is developing a sustainable desalination system to provide clean water to water-scarce regions, particularly in Africa.                                 The project aims to create an accessible, cost-effective, and solar-powered desalination system using Ion-Concentration Polarization (ICP) technology,                                 which is energy-efficient and scalable. Unlike traditional desalination methods, ICP operates without high-pressure pumps, making it ideal for off-grid                                 communities. The system will be designed for local maintenance and will include brine management solutions to minimize environmental impact. The team is                                 competing in the Water Abundance XPRIZE and plans to build a 1000-liter/day prototype by August.",linkedin:"https://www.linkedin.com/company/tum-green-tech-initiative/",instagram:"https://www.instagram.com/tum_greentech/"}],Zo=[{name:"TUM Green Tech - SailGen",id:"tum-green-tech-sailGen",country:"Germany",university:"TU M\xfcnchen","short-description":"Harvesting offshore wind energy","long-description":"Using innovative sailboats to collect sustainable energy on waters, tapping into the 71% of Earth's                                 surface covered by oceans and unleash the vast potential for renewable wind energy!                                 The goal: Develop a prototype that helps preserve our environment and takes a bold step toward a greener, better world.",linkedin:"https://www.linkedin.com/company/tum-green-tech-initiative/",instagram:"https://www.instagram.com/tum_greentech/"},{name:"TUM Carbon Removal Initiative e.V.",id:"tum-carbon-removal-initiative",country:"Germany",university:"TU M\xfcnchen","short-description":"Direct Air Capture","long-description":"We envision a sustainable and carbon-neutral world by mitigating the effects of climate change through carbon removal. To do so,                                 we iteratively develop carbon removal technologies and store carbon dioxide as dry ice for decades. Over the next year, we aim                                 to finish development and construction of our first pilot plant, which is set out to remove 20 tonnes of CO2 out of the atmosphere                                 per year. We reduce the atmospheric levels of CO2 (0.04%) by directly removing it from earth's atmosphere (\u201eDirect Air Capture\u201c)                                  and storing it as dry ice for long periods of time. This is a necessary step to reach international climate goals of limiting global                                 warming to 1.5 \xb0C.",linkedin:"https://www.linkedin.com/company/tum-carbon-removal-initiative/",instagram:"https://www.instagram.com/tum_carbon/"},{name:"Swiss Solar Boat",id:"swiss-solar-boat",country:"Switzerland",university:"EPFL","short-description":"Solar and hydrogen powered foiling boat","long-description":"Swiss Solar Boat is a Swiss project created by EPFL engineering students eager to contribute to the new momentum the world needs in terms of                                 technology, innovation, sustainability, and ecology. Driven by our passion for the maritime world and the desire to share knowledge, our goal                                 is to design and build boats that address the key challenges of future maritime transportation. We believe that combining hydrogen and                                 solar energy is the solution for more sustainable and efficient sailing. We are constantly striving for improvement by participating in                                 competitions like the Monaco Energy Boat Challenge, with much more to come.",linkedin:"https://www.linkedin.com/company/swiss-solar-boat/",instagram:"https://www.instagram.com/swiss_solar_boat/"},{name:"Ecolens",id:"ecolens",country:"Switzerland",university:"EPFL","short-description":"App guiding sustainable food choices","long-description":"EcoLens is a mobile app designed to incentivize students to eat more sustainably. Utilizing a game-like interface, the app encourages users to make                                 more eco-conscious choices at university restaurants. Students can track their food-related carbon emissions, earn rewards, and participate in challenges.",linkedin:"https://www.linkedin.com/company/ecolens-challenge/about/",instagram:"https://www.instagram.com/ecolens_epfl/"}],Jo=[{name:"Dunia Brunner",role:"Project Officer, UNIL",details:"Laborator for Applied Circular Economy",picture:null},{name:"Sacha Nick",role:"Scientist & Lecturer, EPFL",details:"Laboratory of Environmental and Urban Economics",picture:null},{name:"Fr\xe9d\xe9ric Dreyer",role:"Innovation & Ecosystems Manager, EPFL",details:null,picture:null},{name:"Yves Letterier",role:"Senior Scientist, EPFL",details:"Laboratory for Processinf of Advanced Composites",picture:null},{name:"Julia Bory",role:"Lead of Innovation at E4S, a jooint venture of UNIL, IMD and EPFL",details:"",picture:null},{name:"Karen Scrivener",role:"Full Professor, EPFL",details:"Laboratory of Construction Materials",picture:null},{name:"Michka M\xe9lo",role:"Sustainability Coach, EPFL Sustainability",details:"",picture:null}];const el=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,a.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,a.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"le challenge":"the challenge")+" | EPFL Sustainable Innovation Challenge"}),[]);const r={jury:{EN:"The Jury",FR:"Le jury"},"selected-teams":{EN:"Selected Teams",FR:"\xc9quipes s\xe9lectionn\xe9es"},"honorific-teams":{EN:"Honorific teams",FR:"S\xe9lections honorifiques"},"introduction-to-jury-1":{EN:"A huge thank you to our esteemed jury members, whose expertise and dedication have helped select the 12 winning teams for this year's Sustainable Innovation Challenge.",FR:"Un immense merci \xe0 nos \xe9minents membres du jury, dont l\u2019expertise et le d\xe9vouement ont permis de s\xe9lectionner les 12 \xe9quipes laur\xe9ates de cette \xe9dition du Sustainable Innovation Challenge."},"introduction-to-jury-2":{EN:"Their insights are shaping the future of sustainability-driven innovation, ensuring that each project stays true to its mission of making a positive impact.",FR:"Leurs perspectives fa\xe7onnent l'avenir de l'innovation ax\xe9e sur la durabilit\xe9, garantissant que chaque projet reste fid\xe8le \xe0 sa mission d'avoir un impact positif."},"introduction-to-jury-3":{EN:"We are proud to have such an incredible lineup of professionals guiding the next generation of innovators.",FR:"Nous sommes fiers de pouvoir compter sur un groupe aussi exceptionnel de professionnels pour guider la prochaine g\xe9n\xe9ration d'innovateurs."}};return(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsxs)("main",{children:[(0,Me.jsx)("h2",{children:r["selected-teams"][n]}),(0,Me.jsx)("div",{className:"gallery",children:$o.map((e=>(0,Me.jsx)(Yo,{is_honorific:!1,team_data:e})))}),(0,Me.jsx)("h2",{children:r["honorific-teams"][n]}),(0,Me.jsx)("div",{className:"gallery",children:Zo.map((e=>(0,Me.jsx)(Yo,{is_honorific:!0,team_data:e})))}),(0,Me.jsx)("h2",{children:r.jury[n]}),(0,Me.jsxs)("p",{children:[r["introduction-to-jury-1"][n],(0,Me.jsx)("br",{}),r["introduction-to-jury-2"][n],(0,Me.jsx)("br",{}),r["introduction-to-jury-3"][n],(0,Me.jsx)("br",{})]}),(0,Me.jsx)("div",{className:"gallery",children:Jo.map((e=>(0,Me.jsx)(Qo,{jury_data:e})))})]})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})};const tl=function(e){let{speaker_data:t}=e,n=`/speaker/${t.id}`;return(0,Me.jsxs)(_e,{className:"speaker-card",to:n,children:[(0,Me.jsx)("h2",{children:t.name}),(0,Me.jsx)("p",{children:t.title})]},t.id)};const nl=function(e){let{company_stand_data:t}=e,n=`/company-stand/${t.id}`;return(0,Me.jsxs)(_e,{className:"company-stand-card",to:n,children:[(0,Me.jsx)("h2",{children:t.name}),(0,Me.jsx)("p",{children:t["short-description"]})]},t.id)},il=[{name:"Massimo Tavoni",id:"massimo-tavoni",role:"Full Professor at Politecnico di Milano and Director of the \u201cEuropean Institute on Economics and the Environment\u201d",title:"Keeping the Paris agreement alive: scenarios of climate stabilization",abstract:"Despite increasing risks from climate change, progress on climate policy                     remains insufficient. Growing geopolitical tensions risk exacerbating delays                     in mitigation to a point of no return. In this talk, we discuss future scenarios                    of emissions and their compatibility with climate stabilization at safe levels.                     We discuss the role of technology, society and economics to keep the Paris agreement                     climate goals alive, and compare the efforts of mitigation with their benefits to society."},{name:"Monika Roeling",id:"monika-roeling",role:"Researcher in Sustainability in Education at TUDelft",title:"A roadmap to sustainability and climate education at TU Delft?",abstract:"In 2019, TU Delft decided to become carbon neutral, circular, climate adaptive, and a                     living lab by 2030 while contributing to the quality of life. Creating a roadmap to sustainability                     and climate change within education at TU Delft is essential. We are currently working on a better                     implementation of both topics in all education programmes. The project initially started with an                     inventory of over 1800 BSc, Msc and minor courses on keywords and SDGs. The results were then                     gathered in an online (Green) Database that helps both students and teaching staff to have an                     overview of sustainability and climate change education at TU Delft and to choose wisely. With                     this newly acquired information it was possible to start the discussions with the executive                     board and other stakeholders on improving the educational programs. Next to these conversations,                     we worked on a university wide framework based on frameworks from literature. A first pilot was                     started with the BSc renewal of Building and Architecture started in 2022. During this revision,                     all Building and Architecture courses were linked to at least one SDG. The renewed BSc is currently                     running for its first year and will soon be evaluated with the help of students and staff. Furthermore,                     in January 2025 a community of practice was started in cooperation with The Teaching Lab. From now on,                     lecturers, students and support staff interested in sustainability and climate change education will work                     together more and more, showing the importance of collaboration and interdisciplinary science."},{name:"Kai Gehring",id:"kai-gehring",role:"Prof. Dr. Kai Gehring is currently a professor for political economy and sustainable development                 at the University of Bern in addition to being a member of the Wyss Academy for Nature.                 He is also associated with the Institute for Economic Research in Munich.",title:"Insuring Peace: Index-Based Livestock Insurance, Droughts, and Conflict",abstract:"We provide quasi-experimental evidence of how an innovative market-based solution using                     remote-sensing technology can mitigate drought-induced conflict. Droughts are a major driver                     of conflict in Africa, particularly between nomadic pastoralists and sedentary farmers.                     The IndexBased Livestock Insurance (IBLI) piloted in Kenya provides automated, preemptive                     payouts to pastoralists affected by droughts. Combining plausible exogenous variation in                     rainfall and the staggered rollout of IBLI in Kenya over the 2001-2020 period, we find                     that IBLI strongly reduces drought-induced conflict. Key mechanisms are an income smoothing                     effect and reduced migratory pressure for pastoralists, reducing the likelihood of miscoordination                     with other land users. Our study suggests that market-based solutions are a scalable, cost-effective                    pathway to mitigate conflict, complementing political solutions such as institutional reforms."},{name:"Alexander Mathys",id:"alexander-mathys",role:"Associate Professor at the Department of Health Sciences and Technology, and Deputy head of Institute of Food, Nutrition, and Health at ETH Z\xfcrich",title:"Emerging Food Production for more Sustainable Food Systems",abstract:"Innovations in food systems can support all 17 Sustainable Development Goals. The wide scope of the                     SDGs calls for holistic approaches that integrate 'siloed' food sustainability assessments in order to develop                     solutions able to change complex food systems. Here we present a multi-indicator sustainability assessment to                     quantify the performance of food systems, products, and services. Specifically, the integration of nutritional                     quality is crucial for a fair assessment. This data shows the need for nutritional equivalent, more sustainable                     alternatives to animal-based food and feed. Several aspects regarding affordability of such products need to be                     considered and include scalability, need for economy of scale, reduction of capital (CAPEX) and operational expenditures (OPEX).                     Centered on this framework, selected solutions by using polyextremophilic microalgae for nutritious food and black soldier fly                     larvae (BSFL) for more sustainable feed systems are suggested. The nutrient rich microalgae biomass of Galdieria sulphuraria                     grows in low pH (0-3) and at high temperatures up to 56\xb0C without cooling. The selective habitat of G. sulphuraria inhibits                     the growth of other microbial species, saving decontamination costs, simplifying the process, enabling circular residue                     stream utilization and continuous cultivation. On top of that, our developed emerging nanosecond pulsed electric field                     based single cell stimulation enabled up to 40% more biomass production in comparison to the control. All these aspects                     significantly minimize CAPEX and OPEX. Integration of up to 50% bright yellow microalgae protein concentrate with significantly                     more micronutrients such as vitamin E, B1, B2, B3, and B6 in comparison to soy demonstrated the potential of heterotrophic                     microalgae-based meat substitutes. For feed applications, resilient BSFL can effectively convert residue and waste streams                     into high quality feed in urban and rural areas. This supports potentially more sustainable feeds for needed livestock in                     developing areas. Selected implementation initiatives of these science-driven innovations with relevant industry partners and                     start-ups demonstrate the impact and relevance for the food sector."},{name:"Gr\xe9gory Nocton",id:"gregory-nocton",role:"Director of the Organo-f-Synthesis Laboratory, CNRS and professor at Ecole Polytechnique, President of the Center for Rare Earth and Actinide Research",title:"Carbon Removal by Direct Air Capture",abstract:"Direct Air Capture (DAC), which consists of directly and selectively capturing the CO2 in the atmosphere in                     relatively low concentrations (424 ppm), is a tremendous scientific challenge. The hurdles that impede the widespread                     adoption of amine-based technologies and the regeneration of adsorbent materials capable of carrying out this DAC at                     moderate energy cost are other complex challenges against the prohibitive energy cost of thermal regeneration techniques.                     Within the field, there is interest in capturing CO2 at temperatures closer to those of many industrial exhaust streams. However,                     metal oxide sorbents operating at these temperatures generally exhibit slow CO2 uptake kinetics and cycle instability. A final                     question remains about the fate of CO2, which has been captured. It is either buried to achieve a negative net cycle or transformed                     and valorized in a net zero cycle. During the conference, we will introduce you to the players and technologies in the field, and                     discuss their limitations. We will also present our approaches to developing original studies with various metals, cold plasmas,                     and photochemical methods to capture, regenerate, and transform captured CO2 efficiently."},{name:"C\xe9dric Tard",id:"cedric-tard",role:"CNRS Scientist and Professor at Ecole Polytechnique, and Director of the Laboratoire de Chimie Mol\xe9culaire and its research group",title:"CO2 Extraction from seawater: from Lab Bench to Ocean Depths",abstract:"This presentation explores innovative technologies for extracting carbon dioxide from aqueous media, focusing on electrochemical                     methods and techniques that redistribute and dilute acidity from the surface ocean to deeper layers. These approaches aim to reduce surface                     acidification and accelerate carbonate homeostasis, addressing the critical issue of ocean acidification and its impact on marine wildlife.                     Key technologies discussed include advanced electrochemical processes and novel methods for acidity redistribution, each with its unique                     advantages and challenges. Specific case studies will be presented to illustrate the real-world applications and effectiveness of these                     technologies. The main challenges, such as sustainability, energy consumption, or salinity, will be addressed, along with potential solutions                     to overcome these obstacles. The potential impacts of these technologies are significant, including a reduction in ocean acidification and an                     increase in the ocean's capacity to act as a carbon sink, thereby mitigating atmospheric carbon dioxide concentrations. By highlighting these                     cutting-edge methods and their practical implementations, this talk aims to inspire further research and adoption of these technologies to protect                     our oceans and combat climate change."},{name:"Christophe Ballif",id:"christophe-ballif",role:"PR Christophe Ballif is a teacher here at the EPFL. He is director of the Photovoltaics and Thin Film Electronics Laboratory in Neuchatel.                 In 2016, he received the Becquerel prize for his contributions to the field of high efficiency photovoltaics.",title:"Energy transition made easy: a quick travel between myths and reality, between Switzerland and China, with a closer look to photovoltaics",abstract:"In the first part of the presentation, we'll illustrate the enormous challenge for a transition to a carbon neutral world. Through simple,                    but often ignored, calculations, we'll show that the core of the transition worldwide must realistically be based mostly on solar and wind electricity.                     We'll discuss how, because or thanks to the hundreds of billions of dollars invested in manufacturing assets in Asia, it is now possible to deploy over                     thousand gigawatt of new renewable energy production assets every year as well as the batteries required to manage the grids. We'll discuss the impact of                     energy transition on minerals and mining, and the cost in terms of CO2 emission. We'll also show that, if the right route is not chosen, the fossil fuel                     industry we'll ensure we continue to warm up the world. We'll show how technological innovation, competition and volume, make for a permanent increase in                     the component efficiency, a decrease in the manufacturing costs as well as a decrease in the carbon footprint of all clean energy assets. In particular,                     we'll discuss the various improvements in the chain of photovoltaics, as well as the constant change and evolutions of silicon solar cells (from Al-BSF to PERC,                     Heterojunction, Topcon, tandem and much more). After discussing shortly the situation of Switzerland with close to 11% solar electricity production for 2024,                     we'll illustrate with multiple examples the amazing possibilities offered by specialty PV products: from white solar modules for the building to local Swiss                     manufacturing, from stratospheric balloons carrying ultra-light weight silicon modules to connected high performance Swiss solar watches, from floating solar                     to agrivoltaics, there seem to be no boundaries for solarizing our world!"},{name:"Claudia Binder and Ankita Singhvi",id:"claudia-binder-and-ankita-singhvi",role:"Full Professor at Laboratory for Human-Environment-Relations in Urban Systems at EPFL, and a researcher at the same lab",title:"Where should we innovate? Insights from Material Flow Analyses.",abstract:"The transition towards more sustainable material systems requires innovation at product, urban and national levels. However, it is not always clear where                     we should innovate, which technologies we should foster and what the side effects of the innovations could be. Whereas life cycle assessment supports in comparing                     different products from cradle to grave, it lacks in providing a holistic view on the overall material system. Material Flow Analysis (MFA) is a systemic tool based                     on the law of mass balance which quantifies the stocks and flows of a system providing the basis for scenario modeling. The results of an MFA can aid in prioritizing                     innovations and interventions. We provide a short insight into the methodology and focus on two examples, phosphorous and circularity of rare earths with respect to                     renewable energy technologies (e.g., PV, wind), to show the utility of MFA for supporting a more sustainable material management. "},{name:"Julia Steinberger",id:"julia-steinberger",role:"Professor of Societal Challenges of Climate Change at UNIL",title:"Living Well Within Limits: is it possible? And what will it take?",abstract:"The Living Well Within Limits project investigates the energy requirements of well-being, from quantitative, participatory and                     provisioning systems perspectives. In this presentation, I will communicate individual and cross-cutting findings from the project, and their                     implications. In particular, I will share our results on the international distribution of energy footprints by country, consumption category,                     and income classes, as well as modelling the minimum energy demand that would provide decent living standards for everyone on earth by 2050.                     I will show that achieving low-carbon well-being, both from the beneficiary (\u201cconsumer\u201d) and supply-chain (producer) sides, involves strong                     distributional and political elements. Political economy research is thus necessary to diagnose reasons for poor outcomes, and identify the                     most promising avenues for positive change. I thus argue for the active (as in activist) engagement of the research community."},{name:"Giacomo D'Alisa",id:"giacomo-d-alisa",role:"Researcher ICTA_UAB, co-director of the Master in Political Ecology, Autonomous University of Barcelona",title:"The case for degrowth and the Universal Care Income",abstract:"The talk consists of two parts. First, I will defend degrowth -  living well with less through a different way of living and                     prioritizing well-being, equity and sustainability. Based on emerging initiatives and traditions worldwide, we propose a radical vision                     of degrowth and outline policies to transform work and care, income and investment, avoiding exploitative and unsustainable practices.                     Degrowth can be achieved through transformative strategies that allow societies to become more sustainable by design, not by disaster.                     Secondly, I will present one of the proposals within the range of degrowth policies: universal care income. I will explain how it aligns                     with the universal basic income proposal and what aspects it differs from it"},{name:"Sascha Nick",id:"sascha-nick",role:"Scientist and Lecturer, EPFL, Laboratory of Environmental and Urban Economics, Prof at Business School of Lausanne. Scientific Director of the DAS in Sustainable Business.",title:"When is innovation beneficial to society? A systems perspective",abstract:"While the physical limits of innovation and technology often lie orders of magnitude beyond current capabilities, their                     immediate consequences are frequently overlooked. Who will use these innovations, and for what purpose? Who will be excluded? How will                     they impact society, ecosystem resilience, and broader society? Who will deploy them, and how long will that take? What unfolds in the meantime?                     These seemingly simple questions are deeply connected to the dynamics of complex adaptive systems. Understanding and shaping these system-wide effects                     is just as critical as developing the innovations themselves. Often, the most transformative breakthroughs lie not in technology but in social                     and governance innovations. In this talk, we will explore what meaningful, positive innovation looks like across mobility, housing, aviation,                     renewable energy, and climate action."},{name:"Satu Huuhka",id:"satu-huuhka",role:"Professor of Sustainable Renovation at Tampere University",title:"What is a sustainable building?",abstract:"Construction and buildings are a major contributor to climate change, biodiversity loss, resource depletion and waste generation worldwide.                     All buildings cause emissions, so is there such a thing as a sustainable building? In my presentation, I will discuss where the environmental                     impacts of buildings and cities stem from, how they accumulate temporally, and how to apply consequential thinking when trying to determine the                     lower-impact choice from multiple competing alternatives. Using case studies, I will elaborate how the circular economy, such as building and                     materials reuse, can help to reduce the environmental burden of the construction industry. Furthermore, I will propose what it takes to transition                     the sector from linear to circular."}],sl=[{name:"Wasteflow",id:"wasteflow",logo:n.p+"static/media/logo_wasteflow.b22bac74b06fd737aa79.png","short-description":"WasteFlow is a Swiss startup revolutionizing recycling facilities with AI-powered                                 vision systems that enhance operational efficiency and safety.","long-description":"WasteFlow addresses the global challenge of low recycling rates by integrating advanced                             AI vision technology into existing recycling infrastructures. Their system employs strategically                             placed cameras to monitor waste streams in real-time, providing actionable insights that improve                             sorting accuracy, predict maintenance needs, and identify potential hazards. This innovative approach                             not only boosts recycling efficiency but also reduces operational costs and enhances workplace safety.                             With successful implementations in Swiss facilities and support from initiatives like Venture Kick,                             WasteFlow is poised to make a significant environmental impact by transforming waste management practices.",link:"https://www.wasteflow.ai/"},{name:"VoltControl",id:"voltcontrol",logo:n.p+"static/media/logo_volt_control.efa4d53d3b78bd80129c.png","short-description":"VoltControl SA is a Swiss company specializing in innovative energy-saving solutions for large buildings,                                 utilizing advanced voltage stabilization technology to reduce electricity consumption without compromising user comfort.","long-description":"VoltControl SA focuses on enhancing energy efficiency in substantial infrastructures. Their                             cutting-edge voltage stabilizers not only lower electricity bills but also extend the lifespan of                             electrical equipment, offering a rapid return on investment, typically within three years. Committed to sustainability,                             VoltControl provides clients with real-time monitoring through their VoltPlus Dashboard, enabling                             continuous tracking of energy usage and savings. Recognized for their eco-friendly approach, VoltControl was awarded                             the Solar Impulse Efficient Solution Label in 2020, highlighting their dedication to profitable and environmentally                             conscious innovations.",link:"https://www.voltcontrol.ch/"},{name:"Urbasolar Axpo Group",id:"urbasolar-axpo-group",logo:n.p+"static/media/logo_urbasolar_axpo_group.9e2fd533450dee7a9eb9.png","short-description":"Urbasolar, a dynamic subsidiary of the Axpo Group, is at the forefront of Europe's solar energy revolution,                                 offering innovative photovoltaic solutions that power a sustainable future.","long-description":"Urbasolar has rapidly evolved into a leading force in the solar energy sector. Specializing in the development,                             construction, and operation of photovoltaic plants, the company boasts a diverse portfolio that includes rooftop                             installations, ground-mounted systems, parking canopies, and greenhouse integrations. With over 650 power plants                             generating more than 1 GW of clean energy, Urbasolar is committed to driving the energy transition across Europe.                             As part of the Axpo Group, Urbasolar offers employees the opportunity to engage in groundbreaking projects within                             an international framework, fostering innovation and sustainability.",link:"https://www.urbasolar.com/"},{name:"TexUp",id:"texup",logo:n.p+"static/media/logo_texup.42a8cc06b804a2280917.png","short-description":"TexUp is a Swiss company that transforms textile waste into high-quality acoustic panels, offering sustainable                                 and customizable soundproofing solutions for various interior spaces.","long-description":"TexUp specializes in recycling textile waste into durable and aesthetically pleasing acoustic panels.                             These panels are locally manufactured, contributing to reduced carbon footprints and supporting the regional                             economy. Designed to enhance sound quality in environments such as offices and meeting rooms, TexUp's products                             combine sustainability with high acoustic performance, providing effective noise reduction while promoting environmental responsibility",link:"https://www.texup.ch/"},{name:"Resilio",id:"resilio",logo:n.p+"static/media/logo_resilio.5c214f5ec1a188708f39.png","short-description":"Resilio is a Swiss company specializing in sustainable IT solutions, offering services such as environmental                                 impact assessments, training, and strategy development to help organizations reduce their digital environmental footprint.","long-description":"The company provides a range of services, including Life Cycle Assessments (LCA) compliant with the latest European                             Union recommendations, certified training courses, and workshops aimed at guiding organizations toward more ethical and                             sustainable digital practices. Resilio collaborates with both public and private entities to develop actionable strategies                             that reduce the environmental impact of operations.",link:"https://resilio-solutions.com/fr/about"},{name:"Perovskia Solar",id:"perovskia-solar",logo:n.p+"static/media/logo_perovskia.ec822a3cb3bc90696eef.png","short-description":"Swiss cleantech startup specializing in digitally printed, customizable perovskite solar cells designed to seamlessly                                 integrate into electronic devices, enhancing their energy efficiency.","long-description":"Perovskia Solar AG pioneers the next generation of photovoltaics by offering high-performance,                             lightweight perovskite solar solutions tailored for IoT devices and sensors. Their innovative                             technology enables solar cells to be printed directly onto various substrates, allowing for seamless                             integration into electronic devices and extending battery life or even eliminating the need for batteries                             in low-power applications.",link:"https://perovskia.solar/"},{name:"Kuori",id:"kuori",logo:n.p+"static/media/logo_kuori.46f6da0bba181f22cd53.png","short-description":"Kuori is a Swiss cleantech company pioneering circular materials to combat plastic pollution and promote a sustainable, post-oil economy.","long-description":"Kuori is an innovative Swiss cleantech company committed to transitioning towards a post-oil economy by transforming consumer goods                             through sustainable materials. Their mission focuses on creating circular solutions that minimize plastic pollution, contributing                             to a cleaner environment. Kuori collaborates with various partners to develop and implement eco-friendly alternatives, aiming                             to revolutionize the materials industry for a more sustainable future.",link:"https://kuori.ch/about"},{name:"Gramitherm",id:"gramitherm",logo:n.p+"static/media/logo_gramitherm.b6b99433c670522b2a34.png","short-description":"Gramitherm is a Belgian company producing eco-friendly insulation panels made from natural grass fibers, offering sustainable                                 solutions for both new constructions and renovations.","long-description":"Gramitherm utilizes a patented Swiss technology to manufacture insulation boards from natural grass fibers. These panels provide                             effective thermal and acoustic insulation, contributing to energy efficiency in buildings. Notably, each kilogram of Gramitherm                             captures 1.5 kg of CO\u2082 equivalent, underscoring its negative carbon footprint. The company emphasizes sustainability by transforming                             an abundant and rapidly renewable resource into high-performance, recyclable insulation materials suitable for various building projects.",link:"https://gramitherm.eu/produits/"},{name:"Arcalignum",id:"arcalignum",logo:n.p+"static/media/logo_arcalignum.e823ea4148b3eca0afc0.png","short-description":"Arcalignum is a Swiss company specializing in modular, hand-portable wooden construction elements, featuring an innovative                                 fastening system for rapid and sustainable building assembly.","long-description":"Arcalignum offers a novel construction process that enables quick assembly of durable, high-performance, and low-carbon                             buildings, making sustainable construction more accessible to professionals across the industry. Their eco-designed modules                             are prefabricated off-site, ensuring efficient on-site assembly with minimal tools and labor, while reducing environmental                             impact by using natural and bio-sourced materials.",link:"https://arcalignum.ch/"},{name:"Arbio",id:"arbio",logo:n.p+"static/media/logo_arbio.8d965aed9e291811f9fe.png","short-description":"Arbio is a Swiss company specializing in ecological solutions for the maintenance and care of green spaces,                                 offering a range of organic products and services tailored to sustainable landscaping needs.","long-description":"Arbio provides environmentally friendly products and services focused on the upkeep of parks, gardens, and other green                             areas. Their offerings include organic fertilizers, natural pest control solutions, and consulting services aimed                             at promoting biodiversity and ecological balance in managed landscapes.",link:"https://arbio.ch/"},{name:"Aeternum",id:"aeternum",logo:n.p+"static/media/logo_aeternum.f489f05a34658d5c3bdb.png","short-description":"Aeternum is a Swiss startup specializing in the development of reusable and re-adaptable low-carbon buildings for                                 real estate owners and investors.","long-description":"Aeternum offers sustainable building solutions utilizing a standardized kit of components. Their approach enables                             the creation of high-quality spaces that can be reconfigured over multiple life cycles to meet evolving needs,                             promoting zero waste and net-zero carbon emissions. Aeternum's mission is to help cities become more dynamic                             and responsive by providing buildings that can quickly and cost-effectively adapt or relocate without                             negatively impacting the environment.",link:"https://www.aeternum-tech.com/"}],al=[{organizer:"ZEG",id:"zeg",title:"Sobriety, Resilience, and Limits: Keys to a Sustainable Future","short-description":"We will explore how sobriety and resilience can transform lives. We will identify                                 obstacles to change and discuss strategies to overcome them, providing insights                                 and actionable steps to contribute to a more sustainable future","long-description":"Do you want to contribute to a more sustainable future but don't know where to start?                             This one-hour workshop is the perfect opportunity to learn about sobriety and resilience                             and how they can transform our lives. We will identify obstacles to change and explore                             ways to overcome them. Come join us to exchange ideas, learn, and take action for a better                             world!"},{organizer:"E4S",id:"e4s",title:"How to build a career that matters","short-description":"Want to make an impact but unsure where to start? Join Ang\xe9lique Chatton (BCV)                                 and David Campbell (Frigg) as they share their journeys\u2014one in a major financial                                 institution, the other in a climate-focused startup\u2014offering insights on building                                 a purpose-driven career.","long-description":"Want to make a real impact but not sure where to start? Whether you dream of                             driving sustainability in a global corporation or launching solutions in a green                             tech startup, there's no single path to a career with purpose. Join us for a dynamic                             conversation with Ang\xe9lique Chatton (BCV) and David Campbell (Frigg) as they share how                             they built careers that drive change\u2014one in a major financial institution, the other                             in a climate-focused startup."},{organizer:"Deloitte",id:"deloitte",title:"Making an Impact that Matters","short-description":"Bold early-stage innovations have the greatest impact but need the right support to                                 scale. Deloitte co-founded UpLink to help high-impact startups turn ideas into real-world                                 solutions. Join this session to explore how early innovation wins and how businesses can                                 drive global change.","long-description":"The biggest impact comes from the boldest early-stage innovations\u2014but they need the right                             support to scale. Deloitte combines business and tech to help startups turn raw ideas into                             real-world solutions. That's why it co-founded UpLink\u2014a platform fueling high-impact startups                             tackling global challenges. This session explores why early innovation wins and how business                             can help scale ideas that truly change the world. Don\u2019t watch the change happen\u2014drive it.                             Join our session."}];const rl=function(e){let{workshop_data:t}=e,n=`/workshop/${t.id}`;return(0,Me.jsxs)(_e,{className:"workshop-card",to:n,children:[(0,Me.jsx)("h2",{children:t.organizer}),(0,Me.jsx)("p",{children:t["short-description"]})]},t.id)};const ol=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,a.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,a.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"activit\xe9s":"activities")+" | EPFL Sustainable Innovation Challenge"}),[]);const r={speakers:{EN:"Speakers",FR:"Intervernants"},workshops:{EN:"Workshops",FR:"Ateliers"},stands:{EN:"Stands",FR:"Stands"}};return(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsxs)("main",{children:[(0,Me.jsx)("h2",{children:r.speakers[n]}),(0,Me.jsx)("div",{className:"gallery",children:il.map((e=>(0,Me.jsx)(tl,{speaker_data:e})))}),(0,Me.jsx)("h2",{children:r.workshops[n]}),(0,Me.jsx)("div",{className:"gallery",children:al.map((e=>(0,Me.jsx)(rl,{workshop_data:e})))}),(0,Me.jsx)("h2",{children:r.stands[n]}),(0,Me.jsx)("div",{className:"gallery",children:sl.map((e=>(0,Me.jsx)(nl,{company_stand_data:e})))})]})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})};const ll=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,a.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,a.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"pr\xe9sentation d'\xe9quipe":"team presentation")+" | EPFL Sustainable Innovation Challenge"}),[]);const{teamId:r}=ae();return(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsx)("main",{})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})};const cl=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,a.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}return(0,a.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"intervenant":"speaker")+" | EPFL Sustainable Innovation Challenge"}),[]),(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsx)("main",{})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})};const dl=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,a.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}return(0,a.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"atelier":"workshop")+" | EPFL Sustainable Innovation Challenge"}),[]),(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsx)("main",{})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})};const ul=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,a.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}return(0,a.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"stand entreprise":"company stand")+" | EPFL Sustainable Innovation Challenge"}),[]),(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsx)("main",{})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})};o.createRoot(document.getElementById("root")).render((0,Me.jsx)(a.StrictMode,{children:(0,Me.jsx)(Ee,{children:(0,Me.jsxs)(Ae,{children:[(0,Me.jsx)(me,{path:"/",element:(0,Me.jsx)(Je,{})}),(0,Me.jsx)(me,{path:"/our-engagement",element:(0,Me.jsx)(zo,{})}),(0,Me.jsx)(me,{path:"/pv-status-ag",element:(0,Me.jsx)(Ho,{})}),(0,Me.jsx)(me,{path:"/members",element:(0,Me.jsx)(pt,{})}),(0,Me.jsx)(me,{path:"/contact",element:(0,Me.jsx)(Uo,{})}),(0,Me.jsx)(me,{path:"/blog",element:(0,Me.jsx)(Wo,{})}),(0,Me.jsx)(me,{path:"/blog/:blogPostId",element:(0,Me.jsx)(Vo,{})}),[(0,Me.jsx)(me,{path:"/event-schedule",element:(0,Me.jsx)(Ko,{})}),(0,Me.jsx)(me,{path:"/activities",element:(0,Me.jsx)(ol,{})}),(0,Me.jsx)(me,{path:"/the-challenge",element:(0,Me.jsx)(el,{})}),(0,Me.jsx)(me,{path:"/selected-team/:teamId",element:(0,Me.jsx)(ll,{})}),(0,Me.jsx)(me,{path:"/honorific-team/:teamId",element:(0,Me.jsx)(ll,{})}),(0,Me.jsx)(me,{path:"/speaker/:speakerId",element:(0,Me.jsx)(cl,{})}),(0,Me.jsx)(me,{path:"/workshop/:workshopId",element:(0,Me.jsx)(dl,{})}),(0,Me.jsx)(me,{path:"/company-stand/:companyStand",element:(0,Me.jsx)(ul,{})})],(0,Me.jsx)(me,{path:"*",element:(0,Me.jsx)(ge,{to:"/",replace:!0})})]})})}))})();
//# sourceMappingURL=main.27779269.js.map