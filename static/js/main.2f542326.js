/*! For license information please see main.2f542326.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var i=n(43),s=n(853);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,i,s,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,i){var s=m.hasOwnProperty(t)?m[t]:null;(null!==s?0!==s.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,i)&&(n=null),i||null===s?function(e){return!!u.call(f,e)||!u.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,i=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var A=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var N,O=Object.assign;function j(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),r=i.stack.split("\n"),a=s.length-1,o=r.length-1;1<=a&&0<=o&&s[a]!==r[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==r[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==r[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function H(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case C:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){i=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=G(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=V(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(i&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(te(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function re(e,t){var n=V(t.value),i=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),s=ge(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ae=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function Ce(e){if(e=ys(e)){if("function"!==typeof xe)throw Error(r(280));var t=e.stateNode;t&&(t=ws(t),xe(e.stateNode,e.type,t))}}function ke(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function _e(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Pe(){}var Me=!1;function Re(e,t,n){if(Me)return e(t,n);Me=!0;try{return Te(e,t,n)}finally{Me=!1,(null!==Ee||null!==Se)&&(Pe(),_e())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var i=ws(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(r(231,t,typeof n));return n}var De=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){De=!1}function Fe(e,t,n,i,s,r,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ne=!1,Oe=null,je=!1,ze=null,Be={onError:function(e){Ne=!0,Oe=e}};function He(e,t,n,i,s,r,a,o,l){Ne=!1,Oe=null,Fe.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(r(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(i=s.return)){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Ve(s),e;if(a===i)return Ve(s),t;a=a.sibling}throw Error(r(188))}if(n.return!==i.return)n=s,i=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=a;break}if(l===i){o=!0,i=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,i=s;break}if(l===i){o=!0,i=a,n=s;break}l=l.sibling}if(!o)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var $e=s.unstable_scheduleCallback,Xe=s.unstable_cancelCallback,Ke=s.unstable_shouldYield,Ye=s.unstable_requestPaint,Qe=s.unstable_now,Ze=s.unstable_getCurrentPriorityLevel,Je=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,it=s.unstable_IdlePriority,st=null,rt=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?i=ut(o):0!==(r&=a)&&(i=ut(r))}else 0!==(a=n&~s)?i=ut(a):0!==r&&(i=ut(r));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(r=t&-t)||16===s&&0!==(4194240&r)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)s=1<<(n=31-at(t)),i|=e[n],t&=~s;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-at(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var yt=0;function At(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,St,Ct,kt=!1,_t=[],Tt=null,Pt=null,Mt=null,Rt=new Map,Lt=new Map,Dt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Nt(e,t,n,i,s,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},null!==t&&(null!==(t=ys(t))&&xt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Ot(e){var t=bs(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ys(n))&&xt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Ae=i,n.target.dispatchEvent(i),Ae=null,t.shift()}return!0}function zt(e,t,n){jt(e)&&n.delete(t)}function Bt(){kt=!1,null!==Tt&&jt(Tt)&&(Tt=null),null!==Pt&&jt(Pt)&&(Pt=null),null!==Mt&&jt(Mt)&&(Mt=null),Rt.forEach(zt),Lt.forEach(zt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Ht(t,e)}if(0<_t.length){Ht(_t[0],e);for(var n=1;n<_t.length;n++){var i=_t[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Tt&&Ht(Tt,e),null!==Pt&&Ht(Pt,e),null!==Mt&&Ht(Mt,e),Rt.forEach(t),Lt.forEach(t),n=0;n<Dt.length;n++)(i=Dt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ot(n),null===n.blockedOn&&Dt.shift()}var Wt=A.ReactCurrentBatchConfig,Vt=!0;function Gt(e,t,n,i){var s=yt,r=Wt.transition;Wt.transition=null;try{yt=1,$t(e,t,n,i)}finally{yt=s,Wt.transition=r}}function qt(e,t,n,i){var s=yt,r=Wt.transition;Wt.transition=null;try{yt=4,$t(e,t,n,i)}finally{yt=s,Wt.transition=r}}function $t(e,t,n,i){if(Vt){var s=Kt(e,t,n,i);if(null===s)Vi(e,t,i,Xt,n),Ft(e,i);else if(function(e,t,n,i,s){switch(t){case"focusin":return Tt=Nt(Tt,e,t,n,i,s),!0;case"dragenter":return Pt=Nt(Pt,e,t,n,i,s),!0;case"mouseover":return Mt=Nt(Mt,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return Rt.set(r,Nt(Rt.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Lt.set(r,Nt(Lt.get(r)||null,e,t,n,i,s)),!0}return!1}(s,e,t,n,i))i.stopPropagation();else if(Ft(e,i),4&t&&-1<It.indexOf(e)){for(;null!==s;){var r=ys(s);if(null!==r&&wt(r),null===(r=Kt(e,t,n,i))&&Vi(e,t,i,Xt,n),r===s)break;s=r}null!==s&&i.stopPropagation()}else Vi(e,t,i,null,n)}}var Xt=null;function Kt(e,t,n,i){if(Xt=null,null!==(e=bs(e=we(i))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,i=n.length,s="value"in Qt?Qt.value:Qt.textContent,r=s.length;for(e=0;e<i&&n[e]===s[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===s[r-t];t++);return Jt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function sn(){return!1}function rn(e){function t(t,n,i,s,r){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:sn,this.isPropagationStopped=sn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=rn(cn),un=O({},cn,{view:0,detail:0}),hn=rn(un),pn=O({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=rn(pn),gn=rn(O({},pn,{dataTransfer:0})),mn=rn(O({},un,{relatedTarget:0})),vn=rn(O({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=O({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=rn(bn),An=rn(O({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return Sn}var kn=O({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=rn(kn),Tn=rn(O({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=rn(O({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Mn=rn(O({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=O({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=rn(Rn),Dn=[9,13,27,32],In=d&&"CompositionEvent"in window,Fn=null;d&&"documentMode"in document&&(Fn=document.documentMode);var Nn=d&&"TextEvent"in window&&!Fn,On=d&&(!In||Fn&&8<Fn&&11>=Fn),jn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,i){ke(i),0<(t=qi(t,"onChange")).length&&(n=new dn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var qn=null,$n=null;function Xn(e){ji(e,0)}function Kn(e){if($(As(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(d){var Zn;if(d){var Jn="oninput"in document;if(!Jn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Jn="function"===typeof ei.oninput}Zn=Jn}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function ti(){qn&&(qn.detachEvent("onpropertychange",ni),$n=qn=null)}function ni(e){if("value"===e.propertyName&&Kn($n)){var t=[];Gn(t,$n,e,we(e)),Re(Xn,t)}}function ii(e,t,n){"focusin"===e?(ti(),$n=n,(qn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function si(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn($n)}function ri(e,t){if("click"===e)return Kn(t)}function ai(e,t){if("input"===e||"change"===e)return Kn(t)}var oi="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(oi(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!u.call(t,s)||!oi(e[s],t[s]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function di(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function ui(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ui(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ui(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=void 0===i.end?r:Math.min(i.end,s),!e.extend&&r>i&&(s=i,i=r,r=s),s=di(n,r);var a=di(n,i);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),r>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gi=d&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,bi=null,yi=!1;function Ai(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yi||null==mi||mi!==X(i)||("selectionStart"in(i=mi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},bi&&li(bi,i)||(bi=i,0<(i=qi(vi,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=mi)))}function wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xi={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},Ei={},Si={};function Ci(e){if(Ei[e])return Ei[e];if(!xi[e])return e;var t,n=xi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Si)return Ei[e]=n[t];return e}d&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);var ki=Ci("animationend"),_i=Ci("animationiteration"),Ti=Ci("animationstart"),Pi=Ci("transitionend"),Mi=new Map,Ri="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(e,t){Mi.set(e,t),l(t,[e])}for(var Di=0;Di<Ri.length;Di++){var Ii=Ri[Di];Li(Ii.toLowerCase(),"on"+(Ii[0].toUpperCase()+Ii.slice(1)))}Li(ki,"onAnimationEnd"),Li(_i,"onAnimationIteration"),Li(Ti,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(Pi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ni=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function Oi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,s,a,o,l,c){if(He.apply(this,arguments),Ne){if(!Ne)throw Error(r(198));var d=Oe;Ne=!1,Oe=null,je||(je=!0,ze=d)}}(i,t,void 0,e),e.currentTarget=null}function ji(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&s.isPropagationStopped())break e;Oi(s,o,c),r=l}else for(a=0;a<i.length;a++){if(l=(o=i[a]).instance,c=o.currentTarget,o=o.listener,l!==r&&s.isPropagationStopped())break e;Oi(s,o,c),r=l}}}if(je)throw e=ze,je=!1,ze=null,e}function zi(e,t){var n=t[gs];void 0===n&&(n=t[gs]=new Set);var i=e+"__bubble";n.has(i)||(Wi(t,e,2,!1),n.add(i))}function Bi(e,t,n){var i=0;t&&(i|=4),Wi(n,e,i,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[Hi]){e[Hi]=!0,a.forEach((function(t){"selectionchange"!==t&&(Ni.has(t)||Bi(t,!1,e),Bi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hi]||(t[Hi]=!0,Bi("selectionchange",!1,t))}}function Wi(e,t,n,i){switch(Yt(t)){case 1:var s=Gt;break;case 4:s=qt;break;default:s=$t}n=s.bind(null,t,n,e),s=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),i?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Vi(e,t,n,i,s){var r=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var o=i.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=bs(o)))return;if(5===(l=a.tag)||6===l){i=r=a;continue e}o=o.parentNode}}i=i.return}Re((function(){var i=r,s=we(n),a=[];e:{var o=Mi.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case ki:case _i:case Ti:l=vn;break;case Pi:l=Mn;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var p,f=i;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=Le(f,h))&&d.push(Gi(f,g,p)))),u)break;f=f.return}0<d.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Ae||!(c=n.relatedTarget||n.fromElement)||!bs(c)&&!c[fs])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?bs(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(d=fn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=Tn,g="onPointerLeave",h="onPointerEnter",f="pointer"),u=null==l?o:As(l),p=null==c?o:As(c),(o=new d(g,f+"leave",l,n,s)).target=u,o.relatedTarget=p,g=null,bs(s)===i&&((d=new d(h,f+"enter",c,n,s)).target=p,d.relatedTarget=u,g=d),u=g,l&&c)e:{for(h=c,f=0,p=d=l;p;p=$i(p))f++;for(p=0,g=h;g;g=$i(g))p++;for(;0<f-p;)d=$i(d),f--;for(;0<p-f;)h=$i(h),p--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=$i(d),h=$i(h)}d=null}else d=null;null!==l&&Xi(a,o,l,d,!1),null!==c&&null!==u&&Xi(a,u,c,d,!0)}if("select"===(l=(o=i?As(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Yn;else if(Vn(o))if(Qn)m=ai;else{m=si;var v=ii}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ri);switch(m&&(m=m(e,i))?Gn(a,m,n,s):(v&&v(e,o,i),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=i?As(i):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(mi=v,vi=i,bi=null);break;case"focusout":bi=vi=mi=null;break;case"mousedown":yi=!0;break;case"contextmenu":case"mouseup":case"dragend":yi=!1,Ai(a,n,s);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":Ai(a,n,s)}var b;if(In)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Un?Bn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(On&&"ko"!==n.locale&&(Un||"onCompositionStart"!==y?"onCompositionEnd"===y&&Un&&(b=en()):(Zt="value"in(Qt=s)?Qt.value:Qt.textContent,Un=!0)),0<(v=qi(i,y)).length&&(y=new An(y,e,null,n,s),a.push({event:y,listeners:v}),b?y.data=b:null!==(b=Hn(n))&&(y.data=b))),(b=Nn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(zn=!0,jn);case"textInput":return(e=t.data)===jn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!In&&Bn(e,t)?(e=en(),Jt=Zt=Qt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=qi(i,"onBeforeInput")).length&&(s=new An("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:i}),s.data=b))}ji(a,t)}))}function Gi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qi(e,t){for(var n=t+"Capture",i=[];null!==e;){var s=e,r=s.stateNode;5===s.tag&&null!==r&&(s=r,null!=(r=Le(e,n))&&i.unshift(Gi(e,r,s)),null!=(r=Le(e,t))&&i.push(Gi(e,r,s))),e=e.return}return i}function $i(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xi(e,t,n,i,s){for(var r=t._reactName,a=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===i)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Le(n,r))&&a.unshift(Gi(n,l,o)):s||null!=(l=Le(n,r))&&a.push(Gi(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ki=/\r\n?/g,Yi=/\u0000|\uFFFD/g;function Qi(e){return("string"===typeof e?e:""+e).replace(Ki,"\n").replace(Yi,"")}function Zi(e,t,n){if(t=Qi(t),Qi(e)!==t&&n)throw Error(r(425))}function Ji(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var is="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,rs="function"===typeof Promise?Promise:void 0,as="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof rs?function(e){return rs.resolve(null).then(e).catch(os)}:is;function os(e){setTimeout((function(){throw e}))}function ls(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===i)return e.removeChild(s),void Ut(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=s}while(n);Ut(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),hs="__reactFiber$"+us,ps="__reactProps$"+us,fs="__reactContainer$"+us,gs="__reactEvents$"+us,ms="__reactListeners$"+us,vs="__reactHandles$"+us;function bs(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[hs])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function ys(e){return!(e=e[hs]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function As(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function ws(e){return e[ps]||null}var xs=[],Es=-1;function Ss(e){return{current:e}}function Cs(e){0>Es||(e.current=xs[Es],xs[Es]=null,Es--)}function ks(e,t){Es++,xs[Es]=e.current,e.current=t}var _s={},Ts=Ss(_s),Ps=Ss(!1),Ms=_s;function Rs(e,t){var n=e.type.contextTypes;if(!n)return _s;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s,r={};for(s in n)r[s]=t[s];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ls(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ds(){Cs(Ps),Cs(Ts)}function Is(e,t,n){if(Ts.current!==_s)throw Error(r(168));ks(Ts,t),ks(Ps,n)}function Fs(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var s in i=i.getChildContext())if(!(s in t))throw Error(r(108,W(e)||"Unknown",s));return O({},n,i)}function Ns(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_s,Ms=Ts.current,ks(Ts,e),ks(Ps,Ps.current),!0}function Os(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Fs(e,t,Ms),i.__reactInternalMemoizedMergedChildContext=e,Cs(Ps),Cs(Ts),ks(Ts,e)):Cs(Ps),ks(Ps,n)}var js=null,zs=!1,Bs=!1;function Hs(e){null===js?js=[e]:js.push(e)}function Us(){if(!Bs&&null!==js){Bs=!0;var e=0,t=yt;try{var n=js;for(yt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}js=null,zs=!1}catch(s){throw null!==js&&(js=js.slice(e+1)),$e(Je,Us),s}finally{yt=t,Bs=!1}}return null}var Ws=[],Vs=0,Gs=null,qs=0,$s=[],Xs=0,Ks=null,Ys=1,Qs="";function Zs(e,t){Ws[Vs++]=qs,Ws[Vs++]=Gs,Gs=e,qs=t}function Js(e,t,n){$s[Xs++]=Ys,$s[Xs++]=Qs,$s[Xs++]=Ks,Ks=e;var i=Ys;e=Qs;var s=32-at(i)-1;i&=~(1<<s),n+=1;var r=32-at(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Ys=1<<32-at(t)+s|n<<s|i,Qs=r+e}else Ys=1<<r|n<<s|i,Qs=e}function er(e){null!==e.return&&(Zs(e,1),Js(e,1,0))}function tr(e){for(;e===Gs;)Gs=Ws[--Vs],Ws[Vs]=null,qs=Ws[--Vs],Ws[Vs]=null;for(;e===Ks;)Ks=$s[--Xs],$s[Xs]=null,Qs=$s[--Xs],$s[Xs]=null,Ys=$s[--Xs],$s[Xs]=null}var nr=null,ir=null,sr=!1,rr=null;function ar(e,t){var n=Lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function or(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,nr=e,ir=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,nr=e,ir=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ks?{id:Ys,overflow:Qs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,nr=e,ir=null,!0);default:return!1}}function lr(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cr(e){if(sr){var t=ir;if(t){var n=t;if(!or(e,t)){if(lr(e))throw Error(r(418));t=cs(n.nextSibling);var i=nr;t&&or(e,t)?ar(i,n):(e.flags=-4097&e.flags|2,sr=!1,nr=e)}}else{if(lr(e))throw Error(r(418));e.flags=-4097&e.flags|2,sr=!1,nr=e}}}function dr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;nr=e}function ur(e){if(e!==nr)return!1;if(!sr)return dr(e),sr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ir)){if(lr(e))throw hr(),Error(r(418));for(;t;)ar(e,t),t=cs(t.nextSibling)}if(dr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ir=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ir=null}}else ir=nr?cs(e.stateNode.nextSibling):null;return!0}function hr(){for(var e=ir;e;)e=cs(e.nextSibling)}function pr(){ir=nr=null,sr=!1}function fr(e){null===rr?rr=[e]:rr.push(e)}var gr=A.ReactCurrentBatchConfig;function mr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var s=i,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=s.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function vr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function br(e){return(0,e._init)(e._payload)}function yr(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=jc(n,e.mode,i)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,i){var r=n.type;return r===E?u(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===L&&br(r)===t.type)?((i=s(t,n.props)).ref=mr(e,t,n),i.return=e,i):((i=Fc(n.type,n.key,n.props,null,e.mode,i)).ref=mr(e,t,n),i.return=e,i)}function d(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,i)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,i,r){return null===t||7!==t.tag?((t=Nc(n,e.mode,i,r)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=mr(e,null,t),n.return=e,n;case x:return(t=zc(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Nc(t,e.mode,n,null)).return=e,t;vr(e,t)}return null}function p(e,t,n,i){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,i):null;case x:return n.key===s?d(e,t,n,i):null;case L:return p(e,t,(s=n._init)(n._payload),i)}if(te(n)||F(n))return null!==s?null:u(e,t,n,i,null);vr(e,n)}return null}function f(e,t,n,i,s){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,s);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return c(t,e=e.get(null===i.key?n:i.key)||null,i,s);case x:return d(t,e=e.get(null===i.key?n:i.key)||null,i,s);case L:return f(e,t,n,(0,i._init)(i._payload),s)}if(te(i)||F(i))return u(t,e=e.get(n)||null,i,s,null);vr(t,i)}return null}function g(s,r,o,l){for(var c=null,d=null,u=r,g=r=0,m=null;null!==u&&g<o.length;g++){u.index>g?(m=u,u=null):m=u.sibling;var v=p(s,u,o[g],l);if(null===v){null===u&&(u=m);break}e&&u&&null===v.alternate&&t(s,u),r=a(v,r,g),null===d?c=v:d.sibling=v,d=v,u=m}if(g===o.length)return n(s,u),sr&&Zs(s,g),c;if(null===u){for(;g<o.length;g++)null!==(u=h(s,o[g],l))&&(r=a(u,r,g),null===d?c=u:d.sibling=u,d=u);return sr&&Zs(s,g),c}for(u=i(s,u);g<o.length;g++)null!==(m=f(u,s,g,o[g],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?g:m.key),r=a(m,r,g),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach((function(e){return t(s,e)})),sr&&Zs(s,g),c}function m(s,o,l,c){var d=F(l);if("function"!==typeof d)throw Error(r(150));if(null==(l=d.call(l)))throw Error(r(151));for(var u=d=null,g=o,m=o=0,v=null,b=l.next();null!==g&&!b.done;m++,b=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=p(s,g,b.value,c);if(null===y){null===g&&(g=v);break}e&&g&&null===y.alternate&&t(s,g),o=a(y,o,m),null===u?d=y:u.sibling=y,u=y,g=v}if(b.done)return n(s,g),sr&&Zs(s,m),d;if(null===g){for(;!b.done;m++,b=l.next())null!==(b=h(s,b.value,c))&&(o=a(b,o,m),null===u?d=b:u.sibling=b,u=b);return sr&&Zs(s,m),d}for(g=i(s,g);!b.done;m++,b=l.next())null!==(b=f(g,s,m,b.value,c))&&(e&&null!==b.alternate&&g.delete(null===b.key?m:b.key),o=a(b,o,m),null===u?d=b:u.sibling=b,u=b);return e&&g.forEach((function(e){return t(s,e)})),sr&&Zs(s,m),d}return function e(i,r,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,d=r;null!==d;){if(d.key===c){if((c=a.type)===E){if(7===d.tag){n(i,d.sibling),(r=s(d,a.props.children)).return=i,i=r;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&br(c)===d.type){n(i,d.sibling),(r=s(d,a.props)).ref=mr(i,d,a),r.return=i,i=r;break e}n(i,d);break}t(i,d),d=d.sibling}a.type===E?((r=Nc(a.props.children,i.mode,l,a.key)).return=i,i=r):((l=Fc(a.type,a.key,a.props,null,i.mode,l)).ref=mr(i,r,a),l.return=i,i=l)}return o(i);case x:e:{for(d=a.key;null!==r;){if(r.key===d){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(i,r.sibling),(r=s(r,a.children||[])).return=i,i=r;break e}n(i,r);break}t(i,r),r=r.sibling}(r=zc(a,i.mode,l)).return=i,i=r}return o(i);case L:return e(i,r,(d=a._init)(a._payload),l)}if(te(a))return g(i,r,a,l);if(F(a))return m(i,r,a,l);vr(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==r&&6===r.tag?(n(i,r.sibling),(r=s(r,a)).return=i,i=r):(n(i,r),(r=jc(a,i.mode,l)).return=i,i=r),o(i)):n(i,r)}}var Ar=yr(!0),wr=yr(!1),xr=Ss(null),Er=null,Sr=null,Cr=null;function kr(){Cr=Sr=Er=null}function _r(e){var t=xr.current;Cs(xr),e._currentValue=t}function Tr(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Pr(e,t){Er=e,Cr=Sr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ao=!0),e.firstContext=null)}function Mr(e){var t=e._currentValue;if(Cr!==e)if(e={context:e,memoizedValue:t,next:null},null===Sr){if(null===Er)throw Error(r(308));Sr=e,Er.dependencies={lanes:0,firstContext:e}}else Sr=Sr.next=e;return t}var Rr=null;function Lr(e){null===Rr?Rr=[e]:Rr.push(e)}function Dr(e,t,n,i){var s=t.interleaved;return null===s?(n.next=n,Lr(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ir(e,i)}function Ir(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fr=!1;function Nr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Or(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zr(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Pl)){var s=i.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Ir(e,n)}return null===(s=i.interleaved)?(t.next=t,Lr(i)):(t.next=s.next,s.next=t),i.interleaved=t,Ir(e,n)}function Br(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Hr(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var s=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?s=r=a:r=r.next=a,n=n.next}while(null!==n);null===r?s=r=t:r=r.next=t}else s=r=t;return n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ur(e,t,n,i){var s=e.updateQueue;Fr=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?r=c:a.next=c,a=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==r){var u=s.baseState;for(a=0,d=c=l=null,o=r;;){var h=o.lane,p=o.eventTime;if((i&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,g=o;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(p,u,h);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(p,u,h):f)||void 0===h)break e;u=O({},u,h);break e;case 2:Fr=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,a|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===r&&(s.shared.lanes=0);Ol|=a,e.lanes=a,e.memoizedState=u}}function Wr(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(null!==s){if(i.callback=null,i=n,"function"!==typeof s)throw Error(r(191,s));s.call(i)}}}var Vr={},Gr=Ss(Vr),qr=Ss(Vr),$r=Ss(Vr);function Xr(e){if(e===Vr)throw Error(r(174));return e}function Kr(e,t){switch(ks($r,t),ks(qr,e),ks(Gr,Vr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cs(Gr),ks(Gr,t)}function Yr(){Cs(Gr),Cs(qr),Cs($r)}function Qr(e){Xr($r.current);var t=Xr(Gr.current),n=le(t,e.type);t!==n&&(ks(qr,e),ks(Gr,n))}function Zr(e){qr.current===e&&(Cs(Gr),Cs(qr))}var Jr=Ss(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ia=A.ReactCurrentDispatcher,sa=A.ReactCurrentBatchConfig,ra=0,aa=null,oa=null,la=null,ca=!1,da=!1,ua=0,ha=0;function pa(){throw Error(r(321))}function fa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oi(e[n],t[n]))return!1;return!0}function ga(e,t,n,i,s,a){if(ra=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Ja:eo,e=n(i,s),da){a=0;do{if(da=!1,ua=0,25<=a)throw Error(r(301));a+=1,la=oa=null,t.updateQueue=null,ia.current=to,e=n(i,s)}while(da)}if(ia.current=Za,t=null!==oa&&null!==oa.next,ra=0,la=oa=aa=null,ca=!1,t)throw Error(r(300));return e}function ma(){var e=0!==ua;return ua=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ba(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(r(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ya(e,t){return"function"===typeof t?t(e):t}function Aa(e){var t=ba(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=oa,s=i.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}i.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,i=i.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((ra&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=i):c=c.next=h,aa.lanes|=u,Ol|=u}d=d.next}while(null!==d&&d!==a);null===c?o=i:c.next=l,oi(i,t.memoizedState)||(Ao=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,aa.lanes|=a,Ol|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);oi(a,t.memoizedState)||(Ao=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function xa(){}function Ea(e,t){var n=aa,i=ba(),s=t(),a=!oi(i.memoizedState,s);if(a&&(i.memoizedState=s,Ao=!0),i=i.queue,Fa(ka.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ma(9,Ca.bind(null,n,i,s,t),void 0,null),null===Ml)throw Error(r(349));0!==(30&ra)||Sa(n,t,s)}return s}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ca(e,t,n,i){t.value=n,t.getSnapshot=i,_a(t)&&Ta(e)}function ka(e,t,n){return n((function(){_a(t)&&Ta(e)}))}function _a(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oi(e,n)}catch(i){return!0}}function Ta(e){var t=Ir(e,1);null!==t&&ic(t,e,1,-1)}function Pa(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:e},t.queue=e,e=e.dispatch=Xa.bind(null,aa,e),[t.memoizedState,e]}function Ma(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ra(){return ba().memoizedState}function La(e,t,n,i){var s=va();aa.flags|=e,s.memoizedState=Ma(1|t,n,void 0,void 0===i?null:i)}function Da(e,t,n,i){var s=ba();i=void 0===i?null:i;var r=void 0;if(null!==oa){var a=oa.memoizedState;if(r=a.destroy,null!==i&&fa(i,a.deps))return void(s.memoizedState=Ma(t,n,r,i))}aa.flags|=e,s.memoizedState=Ma(1|t,n,r,i)}function Ia(e,t){return La(8390656,8,e,t)}function Fa(e,t){return Da(2048,8,e,t)}function Na(e,t){return Da(4,2,e,t)}function Oa(e,t){return Da(4,4,e,t)}function za(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,za.bind(null,t,e),n)}function Ha(){}function Ua(e,t){var n=ba();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&fa(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Wa(e,t){var n=ba();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&fa(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Va(e,t,n){return 0===(21&ra)?(e.baseState&&(e.baseState=!1,Ao=!0),e.memoizedState=n):(oi(n,t)||(n=gt(),aa.lanes|=n,Ol|=n,e.baseState=!0),t)}function Ga(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var i=sa.transition;sa.transition={};try{e(!1),t()}finally{yt=n,sa.transition=i}}function qa(){return ba().memoizedState}function $a(e,t,n){var i=nc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(e))Ya(t,n);else if(null!==(n=Dr(e,t,n,i))){ic(n,e,i,tc()),Qa(n,t,i)}}function Xa(e,t,n){var i=nc(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(e))Ya(t,s);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,oi(o,a)){var l=t.interleaved;return null===l?(s.next=s,Lr(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Dr(e,t,s,i))&&(ic(n,e,i,s=tc()),Qa(n,t,i))}}function Ka(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ya(e,t){da=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Za={readContext:Mr,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Ja={readContext:Mr,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Mr,useEffect:Ia,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return La(4194308,4,e,t)},useInsertionEffect:function(e,t){return La(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=va();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=$a.bind(null,aa,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Pa,useDebugValue:Ha,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Ga.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=aa,s=va();if(sr){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===Ml)throw Error(r(349));0!==(30&ra)||Sa(i,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Ia(ka.bind(null,i,a,e),[e]),i.flags|=2048,Ma(9,Ca.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Ml.identifierPrefix;if(sr){var n=Qs;t=":"+t+"R"+(n=(Ys&~(1<<32-at(Ys)-1)).toString(32)+n),0<(n=ua++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eo={readContext:Mr,useCallback:Ua,useContext:Mr,useEffect:Fa,useImperativeHandle:Ba,useInsertionEffect:Na,useLayoutEffect:Oa,useMemo:Wa,useReducer:Aa,useRef:Ra,useState:function(){return Aa(ya)},useDebugValue:Ha,useDeferredValue:function(e){return Va(ba(),oa.memoizedState,e)},useTransition:function(){return[Aa(ya)[0],ba().memoizedState]},useMutableSource:xa,useSyncExternalStore:Ea,useId:qa,unstable_isNewReconciler:!1},to={readContext:Mr,useCallback:Ua,useContext:Mr,useEffect:Fa,useImperativeHandle:Ba,useInsertionEffect:Na,useLayoutEffect:Oa,useMemo:Wa,useReducer:wa,useRef:Ra,useState:function(){return wa(ya)},useDebugValue:Ha,useDeferredValue:function(e){var t=ba();return null===oa?t.memoizedState=e:Va(t,oa.memoizedState,e)},useTransition:function(){return[wa(ya)[0],ba().memoizedState]},useMutableSource:xa,useSyncExternalStore:Ea,useId:qa,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function io(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var so={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tc(),s=nc(e),r=jr(i,s);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=zr(e,r,s))&&(ic(t,e,s,i),Br(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tc(),s=nc(e),r=jr(i,s);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=zr(e,r,s))&&(ic(t,e,s,i),Br(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),i=nc(e),s=jr(n,i);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=zr(e,s,i))&&(ic(t,e,i,n),Br(t,e,i))}};function ro(e,t,n,i,s,r,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,a):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(s,r))}function ao(e,t,n){var i=!1,s=_s,r=t.contextType;return"object"===typeof r&&null!==r?r=Mr(r):(s=Ls(t)?Ms:Ts.current,r=(i=null!==(i=t.contextTypes)&&void 0!==i)?Rs(e,s):_s),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=so,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=r),t}function oo(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function lo(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Nr(e);var r=t.contextType;"object"===typeof r&&null!==r?s.context=Mr(r):(r=Ls(t)?Ms:Ts.current,s.context=Rs(e,r)),s.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(io(e,t,r,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&so.enqueueReplaceState(s,s.state,null),Ur(e,n,s,i),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function co(e,t){try{var n="",i=t;do{n+=H(i),i=i.return}while(i);var s=n}catch(r){s="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:s,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var po="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=jr(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Gl||(Gl=!0,ql=i),ho(0,t)},n}function go(e,t,n){(n=jr(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){ho(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof i&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new po;var s=new Set;i.set(t,s)}else void 0===(s=i.get(t))&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bo(e,t,n,i,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=jr(-1,1)).tag=2,zr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var yo=A.ReactCurrentOwner,Ao=!1;function wo(e,t,n,i){t.child=null===e?wr(t,null,n,i):Ar(t,e.child,n,i)}function xo(e,t,n,i,s){n=n.render;var r=t.ref;return Pr(t,s),i=ga(e,t,n,i,r,s),n=ma(),null===e||Ao?(sr&&n&&er(t),t.flags|=1,wo(e,t,i,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Go(e,t,s))}function Eo(e,t,n,i,s){if(null===e){var r=n.type;return"function"!==typeof r||Dc(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,i,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,So(e,t,r,i,s))}if(r=e.child,0===(e.lanes&s)){var a=r.memoizedProps;if((n=null!==(n=n.compare)?n:li)(a,i)&&e.ref===t.ref)return Go(e,t,s)}return t.flags|=1,(e=Ic(r,i)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,i,s){if(null!==e){var r=e.memoizedProps;if(li(r,i)&&e.ref===t.ref){if(Ao=!1,t.pendingProps=i=r,0===(e.lanes&s))return t.lanes=e.lanes,Go(e,t,s);0!==(131072&e.flags)&&(Ao=!0)}}return _o(e,t,n,i,s)}function Co(e,t,n){var i=t.pendingProps,s=i.children,r=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ks(Il,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ks(Il,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==r?r.baseLanes:n,ks(Il,Dl),Dl|=i}else null!==r?(i=r.baseLanes|n,t.memoizedState=null):i=n,ks(Il,Dl),Dl|=i;return wo(e,t,s,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,n,i,s){var r=Ls(n)?Ms:Ts.current;return r=Rs(t,r),Pr(t,s),n=ga(e,t,n,i,r,s),i=ma(),null===e||Ao?(sr&&i&&er(t),t.flags|=1,wo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Go(e,t,s))}function To(e,t,n,i,s){if(Ls(n)){var r=!0;Ns(t)}else r=!1;if(Pr(t,s),null===t.stateNode)Vo(e,t),ao(t,n,i),lo(t,n,i,s),i=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Mr(c):c=Rs(t,c=Ls(n)?Ms:Ts.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate;u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==i||l!==c)&&oo(t,a,i,c),Fr=!1;var h=t.memoizedState;a.state=h,Ur(t,i,a,s),l=t.memoizedState,o!==i||h!==l||Ps.current||Fr?("function"===typeof d&&(io(t,n,d,i),l=t.memoizedState),(o=Fr||ro(t,n,o,i,h,l,c))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Or(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:no(t.type,o),a.props=c,u=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Mr(l):l=Rs(t,l=Ls(n)?Ms:Ts.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==u||h!==l)&&oo(t,a,i,l),Fr=!1,h=t.memoizedState,a.state=h,Ur(t,i,a,s);var f=t.memoizedState;o!==u||h!==f||Ps.current||Fr?("function"===typeof p&&(io(t,n,p,i),f=t.memoizedState),(c=Fr||ro(t,n,c,i,h,f,l)||!1)?(d||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=l,i=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Po(e,t,n,i,r,s)}function Po(e,t,n,i,s,r){ko(e,t);var a=0!==(128&t.flags);if(!i&&!a)return s&&Os(t,n,!1),Go(e,t,r);i=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=Ar(t,e.child,null,r),t.child=Ar(t,null,o,r)):wo(e,t,o,r),t.memoizedState=i.state,s&&Os(t,n,!0),t.child}function Mo(e){var t=e.stateNode;t.pendingContext?Is(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Is(0,t.context,!1),Kr(e,t.containerInfo)}function Ro(e,t,n,i,s){return pr(),fr(s),t.flags|=256,wo(e,t,n,i),t.child}var Lo,Do,Io,Fo,No={dehydrated:null,treeContext:null,retryLane:0};function Oo(e){return{baseLanes:e,cachePool:null,transitions:null}}function jo(e,t,n){var i,s=t.pendingProps,a=Jr.current,o=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&a)),i?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ks(Jr,1&a),null===e)return cr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Oc(l,s,0,null),e=Nc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Oo(n),t.memoizedState=No,e):zo(t,l));if(null!==(a=e.memoizedState)&&null!==(i=a.dehydrated))return function(e,t,n,i,s,a,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,i=uo(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,s=t.mode,i=Oc({mode:"visible",children:i.children},s,0,null),(a=Nc(a,s,o,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!==(1&t.mode)&&Ar(t,e.child,null,o),t.child.memoizedState=Oo(o),t.memoizedState=No,a);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===s.data){if(i=s.nextSibling&&s.nextSibling.dataset)var l=i.dgst;return i=l,Bo(e,t,o,i=uo(a=Error(r(419)),i,void 0))}if(l=0!==(o&e.childLanes),Ao||l){if(null!==(i=Ml)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(i.suspendedLanes|o))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Ir(e,s),ic(i,e,s,-1))}return mc(),Bo(e,t,o,i=uo(Error(r(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ir=cs(s.nextSibling),nr=t,sr=!0,rr=null,null!==e&&($s[Xs++]=Ys,$s[Xs++]=Qs,$s[Xs++]=Ks,Ys=e.id,Qs=e.overflow,Ks=t),t=zo(t,i.children),t.flags|=4096,t)}(e,t,l,s,i,a,n);if(o){o=s.fallback,l=t.mode,i=(a=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==a?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ic(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==i?o=Ic(i,o):(o=Nc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Oo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=No,s}return e=(o=e.child).sibling,s=Ic(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function zo(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,i){return null!==i&&fr(i),Ar(t,e.child,null,n),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ho(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Tr(e.return,t,n)}function Uo(e,t,n,i,s){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function Wo(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(wo(e,t,i.children,n),0!==(2&(i=Jr.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ho(e,n,t);else if(19===e.tag)Ho(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ks(Jr,i),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Uo(t,!1,s,n,r);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ea(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Uo(t,!0,n,null,r);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Go(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function $o(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,i|=14680064&s.subtreeFlags,i|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Xo(e,t,n){var i=t.pendingProps;switch(tr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $o(t),null;case 1:case 17:return Ls(t.type)&&Ds(),$o(t),null;case 3:return i=t.stateNode,Yr(),Cs(Ps),Cs(Ts),na(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ur(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==rr&&(oc(rr),rr=null))),Do(e,t),$o(t),null;case 5:Zr(t);var s=Xr($r.current);if(n=t.type,null!==e&&null!=t.stateNode)Io(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(r(166));return $o(t),null}if(e=Xr(Gr.current),ur(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[hs]=t,i[ps]=a,e=0!==(1&t.mode),n){case"dialog":zi("cancel",i),zi("close",i);break;case"iframe":case"object":case"embed":zi("load",i);break;case"video":case"audio":for(s=0;s<Fi.length;s++)zi(Fi[s],i);break;case"source":zi("error",i);break;case"img":case"image":case"link":zi("error",i),zi("load",i);break;case"details":zi("toggle",i);break;case"input":Y(i,a),zi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},zi("invalid",i);break;case"textarea":se(i,a),zi("invalid",i)}for(var l in be(n,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zi(i.textContent,c,e),s=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zi(i.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zi("scroll",i)}switch(n){case"input":q(i),J(i,a,!0);break;case"textarea":q(i),ae(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=Ji)}i=s,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[hs]=t,e[ps]=i,Lo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,i),n){case"dialog":zi("cancel",e),zi("close",e),s=i;break;case"iframe":case"object":case"embed":zi("load",e),s=i;break;case"video":case"audio":for(s=0;s<Fi.length;s++)zi(Fi[s],e);s=i;break;case"source":zi("error",e),s=i;break;case"img":case"image":case"link":zi("error",e),zi("load",e),s=i;break;case"details":zi("toggle",e),s=i;break;case"input":Y(e,i),s=K(e,i),zi("invalid",e);break;case"option":default:s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=O({},i,{value:void 0}),zi("invalid",e);break;case"textarea":se(e,i),s=ie(e,i),zi("invalid",e)}for(a in be(n,s),c=s)if(c.hasOwnProperty(a)){var d=c[a];"style"===a?me(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===a?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=d&&"onScroll"===a&&zi("scroll",e):null!=d&&y(e,a,d,l))}switch(n){case"input":q(e),J(e,i,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+V(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?ne(e,!!i.multiple,a,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $o(t),null;case 6:if(e&&null!=t.stateNode)Fo(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(r(166));if(n=Xr($r.current),Xr(Gr.current),ur(t)){if(i=t.stateNode,n=t.memoizedProps,i[hs]=t,(a=i.nodeValue!==n)&&null!==(e=nr))switch(e.tag){case 3:Zi(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zi(i.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hs]=t,t.stateNode=i}return $o(t),null;case 13:if(Cs(Jr),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sr&&null!==ir&&0!==(1&t.mode)&&0===(128&t.flags))hr(),pr(),t.flags|=98560,a=!1;else if(a=ur(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));a[hs]=t}else pr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$o(t),a=!1}else null!==rr&&(oc(rr),rr=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Jr.current)?0===Fl&&(Fl=3):mc())),null!==t.updateQueue&&(t.flags|=4),$o(t),null);case 4:return Yr(),Do(e,t),null===e&&Ui(t.stateNode.containerInfo),$o(t),null;case 10:return _r(t.type._context),$o(t),null;case 19:if(Cs(Jr),null===(a=t.memoizedState))return $o(t),null;if(i=0!==(128&t.flags),null===(l=a.rendering))if(i)qo(a,!1);else{if(0!==Fl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,qo(a,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ks(Jr,1&Jr.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Wl&&(t.flags|=128,i=!0,qo(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ea(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!sr)return $o(t),null}else 2*Qe()-a.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,i=!0,qo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=Jr.current,ks(Jr,i?1&n|2:1&n),t):($o(t),null);case 22:case 23:return hc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Dl)&&($o(t),6&t.subtreeFlags&&(t.flags|=8192)):$o(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Ko(e,t){switch(tr(t),t.tag){case 1:return Ls(t.type)&&Ds(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yr(),Cs(Ps),Cs(Ts),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zr(t),null;case 13:if(Cs(Jr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));pr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cs(Jr),null;case 4:return Yr(),null;case 10:return _r(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Lo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Do=function(){},Io=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Xr(Gr.current);var r,a=null;switch(n){case"input":s=K(e,s),i=K(e,i),a=[];break;case"select":s=O({},s,{value:void 0}),i=O({},i,{value:void 0}),a=[];break;case"textarea":s=ie(e,s),i=ie(e,i),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof i.onClick&&(e.onclick=Ji)}for(d in be(n,i),n=null,s)if(!i.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var l=s[d];for(r in l)l.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in i){var c=i[d];if(l=null!=s?s[d]:void 0,i.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(n||(n={}),n[r]=c[r])}else n||(a||(a=[]),a.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zi("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},Fo=function(e,t,n,i){n!==i&&(t.flags|=4)};var Yo=!1,Qo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Cc(e,t,i)}else n.current=null}function tl(e,t,n){try{n()}catch(i){Cc(e,t,i)}}var nl=!1;function il(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var s=i=i.next;do{if((s.tag&e)===e){var r=s.destroy;s.destroy=void 0,void 0!==r&&tl(t,n,r)}s=s.next}while(s!==i)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[ps],delete t[gs],delete t[ms],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ji));else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function dl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var ul=null,hl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:Qo||el(n,t);case 6:var i=ul,s=hl;ul=null,pl(e,t,n),hl=s,null!==(ul=i)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Ut(e)):ls(ul,n.stateNode));break;case 4:i=ul,s=hl,ul=n.stateNode.containerInfo,hl=!0,pl(e,t,n),ul=i,hl=s;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){s=i=i.next;do{var r=s,a=r.destroy;r=r.tag,void 0!==a&&(0!==(2&r)||0!==(4&r))&&tl(n,t,a),s=s.next}while(s!==i)}pl(e,t,n);break;case 1:if(!Qo&&(el(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){Cc(n,t,o)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Qo=(i=Qo)||null!==n.memoizedState,pl(e,t,n),Qo=i):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var i=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var s=n[i];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(r(160));fl(a,o,s),ul=null,hl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(d){Cc(s,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),bl(e),4&i){try{il(3,e,e.return),sl(3,e)}catch(m){Cc(e,e.return,m)}try{il(5,e,e.return)}catch(m){Cc(e,e.return,m)}}break;case 1:ml(t,e),bl(e),512&i&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),bl(e),512&i&&null!==n&&el(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(m){Cc(e,e.return,m)}}if(4&i&&null!=(s=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(s,a),ye(l,o);var d=ye(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?me(s,h):"dangerouslySetInnerHTML"===u?ue(s,h):"children"===u?he(s,h):y(s,u,h,d)}switch(l){case"input":Z(s,a);break;case"textarea":re(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(s,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(s,!!a.multiple,a.defaultValue,!0):ne(s,!!a.multiple,a.multiple?[]:"",!1))}s[ps]=a}catch(m){Cc(e,e.return,m)}}break;case 6:if(ml(t,e),bl(e),4&i){if(null===e.stateNode)throw Error(r(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){Cc(e,e.return,m)}}break;case 3:if(ml(t,e),bl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Cc(e,e.return,m)}break;case 4:default:ml(t,e),bl(e);break;case 13:ml(t,e),bl(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(Ul=Qe())),4&i&&gl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(d=Qo)||u,ml(t,e),Qo=d):ml(t,e),bl(e),8192&i){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Jo=e,u=e.child;null!==u;){for(h=Jo=u;null!==Jo;){switch(f=(p=Jo).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:el(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){i=p,n=p.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Cc(i,n,m)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==f?(f.return=p,Jo=f):xl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{s=h.stateNode,d?"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",o))}catch(m){Cc(e,e.return,m)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(m){Cc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),bl(e),4&i&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var s=i.stateNode;32&i.flags&&(he(s,""),i.flags&=-33),dl(e,ll(e),s);break;case 3:case 4:var a=i.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(r(161))}}catch(o){Cc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Jo=e,Al(e,t,n)}function Al(e,t,n){for(var i=0!==(1&e.mode);null!==Jo;){var s=Jo,r=s.child;if(22===s.tag&&i){var a=null!==s.memoizedState||Yo;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Yo;var c=Qo;if(Yo=a,(Qo=l)&&!c)for(Jo=s;null!==Jo;)l=(a=Jo).child,22===a.tag&&null!==a.memoizedState?El(s):null!==l?(l.return=a,Jo=l):El(s);for(;null!==r;)Jo=r,Al(r,t,n),r=r.sibling;Jo=s,Yo=o,Qo=c}wl(e)}else 0!==(8772&s.subtreeFlags)&&null!==r?(r.return=s,Jo=r):wl(e)}}function wl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||sl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Qo)if(null===n)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:no(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Wr(t,a,i);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wr(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(r(163))}Qo||512&t.flags&&rl(t)}catch(ja){Cc(t,t.return,ja)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function xl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function El(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(l){Cc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var s=t.return;try{i.componentDidMount()}catch(l){Cc(t,s,l)}}var r=t.return;try{rl(t)}catch(l){Cc(t,r,l)}break;case 5:var a=t.return;try{rl(t)}catch(l){Cc(t,a,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var Sl,Cl=Math.ceil,kl=A.ReactCurrentDispatcher,_l=A.ReactCurrentOwner,Tl=A.ReactCurrentBatchConfig,Pl=0,Ml=null,Rl=null,Ll=0,Dl=0,Il=Ss(0),Fl=0,Nl=null,Ol=0,jl=0,zl=0,Bl=null,Hl=null,Ul=0,Wl=1/0,Vl=null,Gl=!1,ql=null,$l=null,Xl=!1,Kl=null,Yl=0,Ql=0,Zl=null,Jl=-1,ec=0;function tc(){return 0!==(6&Pl)?Qe():-1!==Jl?Jl:Jl=Qe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Ll?Ll&-Ll:null!==gr.transition?(0===ec&&(ec=gt()),ec):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function ic(e,t,n,i){if(50<Ql)throw Ql=0,Zl=null,Error(r(185));vt(e,n,i),0!==(2&Pl)&&e===Ml||(e===Ml&&(0===(2&Pl)&&(jl|=n),4===Fl&&lc(e,Ll)),sc(e,i),1===n&&0===Pl&&0===(1&t.mode)&&(Wl=Qe()+500,zs&&Us()))}function sc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes;0<r;){var a=31-at(r),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&i)||(s[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),r&=~o}}(e,t);var i=ht(e,e===Ml?Ll:0);if(0===i)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){zs=!0,Hs(e)}(cc.bind(null,e)):Hs(cc.bind(null,e)),as((function(){0===(6&Pl)&&Us()})),n=null;else{switch(At(i)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Mc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Jl=-1,ec=0,0!==(6&Pl))throw Error(r(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var i=ht(e,e===Ml?Ll:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=vc(e,i);else{t=i;var s=Pl;Pl|=2;var a=gc();for(Ml===e&&Ll===t||(Vl=null,Wl=Qe()+500,pc(e,t));;)try{yc();break}catch(l){fc(e,l)}kr(),kl.current=a,Pl=s,null!==Rl?t=0:(Ml=null,Ll=0,t=Fl)}if(0!==t){if(2===t&&(0!==(s=ft(e))&&(i=s,t=ac(e,s))),1===t)throw n=Nl,pc(e,0),lc(e,i),sc(e,Qe()),n;if(6===t)lc(e,i);else{if(s=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!oi(r(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=vc(e,i))&&(0!==(a=ft(e))&&(i=a,t=ac(e,a))),1===t))throw n=Nl,pc(e,0),lc(e,i),sc(e,Qe()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(r(345));case 2:case 5:xc(e,Hl,Vl);break;case 3:if(lc(e,i),(130023424&i)===i&&10<(t=Ul+500-Qe())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&i)!==i){tc(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=is(xc.bind(null,e,Hl,Vl),t);break}xc(e,Hl,Vl);break;case 4:if(lc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,s=-1;0<i;){var o=31-at(i);a=1<<o,(o=t[o])>s&&(s=o),i&=~a}if(i=s,10<(i=(120>(i=Qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Cl(i/1960))-i)){e.timeoutHandle=is(xc.bind(null,e,Hl,Vl),i);break}xc(e,Hl,Vl);break;default:throw Error(r(329))}}}return sc(e,Qe()),e.callbackNode===n?rc.bind(null,e):null}function ac(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Hl,Hl=n,null!==t&&oc(t)),e}function oc(e){null===Hl?Hl=e:Hl.push.apply(Hl,e)}function lc(e,t){for(t&=~zl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),i=1<<n;e[n]=-1,t&=~i}}function cc(e){if(0!==(6&Pl))throw Error(r(327));Ec();var t=ht(e,0);if(0===(1&t))return sc(e,Qe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=ac(e,i))}if(1===n)throw n=Nl,pc(e,0),lc(e,t),sc(e,Qe()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Hl,Vl),sc(e,Qe()),null}function dc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Wl=Qe()+500,zs&&Us())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&Pl)&&Ec();var t=Pl;Pl|=1;var n=Tl.transition,i=yt;try{if(Tl.transition=null,yt=1,e)return e()}finally{yt=i,Tl.transition=n,0===(6&(Pl=t))&&Us()}}function hc(){Dl=Il.current,Cs(Il)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Rl)for(n=Rl.return;null!==n;){var i=n;switch(tr(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Ds();break;case 3:Yr(),Cs(Ps),Cs(Ts),na();break;case 5:Zr(i);break;case 4:Yr();break;case 13:case 19:Cs(Jr);break;case 10:_r(i.type._context);break;case 22:case 23:hc()}n=n.return}if(Ml=e,Rl=e=Ic(e.current,null),Ll=Dl=t,Fl=0,Nl=null,zl=jl=Ol=0,Hl=Bl=null,null!==Rr){for(t=0;t<Rr.length;t++)if(null!==(i=(n=Rr[t]).interleaved)){n.interleaved=null;var s=i.next,r=n.pending;if(null!==r){var a=r.next;r.next=s,i.next=a}n.pending=i}Rr=null}return e}function fc(e,t){for(;;){var n=Rl;try{if(kr(),ia.current=Za,ca){for(var i=aa.memoizedState;null!==i;){var s=i.queue;null!==s&&(s.pending=null),i=i.next}ca=!1}if(ra=0,la=oa=aa=null,da=!1,ua=0,_l.current=null,null===n||null===n.return){Fl=1,Nl=t,Rl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ll,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=vo(o);if(null!==f){f.flags&=-257,bo(f,o,l,0,t),1&f.mode&&mo(a,d,t),c=d;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){mo(a,d,t),mc();break e}c=Error(r(426))}else if(sr&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),bo(v,o,l,0,t),fr(co(c,l));break e}}a=c=co(c,l),4!==Fl&&(Fl=2),null===Bl?Bl=[a]:Bl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Hr(a,fo(0,c,t));break e;case 1:l=c;var b=a.type,y=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===$l||!$l.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t,Hr(a,go(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(A){t=A,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function gc(){var e=kl.current;return kl.current=Za,null===e?Za:e}function mc(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===Ml||0===(268435455&Ol)&&0===(268435455&jl)||lc(Ml,Ll)}function vc(e,t){var n=Pl;Pl|=2;var i=gc();for(Ml===e&&Ll===t||(Vl=null,pc(e,t));;)try{bc();break}catch(s){fc(e,s)}if(kr(),Pl=n,kl.current=i,null!==Rl)throw Error(r(261));return Ml=null,Ll=0,Fl}function bc(){for(;null!==Rl;)Ac(Rl)}function yc(){for(;null!==Rl&&!Ke();)Ac(Rl)}function Ac(e){var t=Sl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):Rl=t,_l.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xo(n,t,Dl)))return void(Rl=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Fl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Fl&&(Fl=5)}function xc(e,t,n){var i=yt,s=Tl.transition;try{Tl.transition=null,yt=1,function(e,t,n,i){do{Ec()}while(null!==Kl);if(0!==(6&Pl))throw Error(r(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),r=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~r}}(e,a),e===Ml&&(Rl=Ml=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Mc(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var o=yt;yt=1;var l=Pl;Pl|=4,_l.current=null,function(e,t){if(es=Vt,pi(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++d===s&&(l=o),p===a&&++u===i&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Vt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:no(t.type,m),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var A=t.stateNode.containerInfo;1===A.nodeType?A.textContent="":9===A.nodeType&&A.documentElement&&A.removeChild(A.documentElement);break;default:throw Error(r(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}g=nl,nl=!1}(e,n),vl(n,e),fi(ts),Vt=!!es,ts=es=null,e.current=n,yl(n,e,s),Ye(),Pl=l,yt=o,Tl.transition=a}else e.current=n;if(Xl&&(Xl=!1,Kl=e,Yl=s),a=e.pendingLanes,0===a&&($l=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),sc(e,Qe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Gl)throw Gl=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===Zl?Ql++:(Ql=0,Zl=e):Ql=0,Us()}(e,t,n,i)}finally{Tl.transition=s,yt=i}return null}function Ec(){if(null!==Kl){var e=At(Yl),t=Tl.transition,n=yt;try{if(Tl.transition=null,yt=16>e?16:e,null===Kl)var i=!1;else{if(e=Kl,Kl=null,Yl=0,0!==(6&Pl))throw Error(r(331));var s=Pl;for(Pl|=4,Jo=e.current;null!==Jo;){var a=Jo,o=a.child;if(0!==(16&Jo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Jo=d;null!==Jo;){var u=Jo;switch(u.tag){case 0:case 11:case 15:il(8,u,a)}var h=u.child;if(null!==h)h.return=u,Jo=h;else for(;null!==Jo;){var p=(u=Jo).sibling,f=u.return;if(al(u),u===d){Jo=null;break}if(null!==p){p.return=f,Jo=p;break}Jo=f}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Jo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(a=Jo).flags))switch(a.tag){case 0:case 11:case 15:il(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Jo=b;break e}Jo=a.return}}var y=e.current;for(Jo=y;null!==Jo;){var A=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==A)A.return=o,Jo=A;else e:for(o=y;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(x){Cc(l,l.return,x)}if(l===o){Jo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Jo=w;break e}Jo=l.return}}if(Pl=s,Us(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(st,e)}catch(x){}i=!0}return i}finally{yt=n,Tl.transition=t}}return!1}function Sc(e,t,n){e=zr(e,t=fo(0,t=co(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),sc(e,t))}function Cc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===$l||!$l.has(i))){t=zr(t,e=go(t,e=co(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),sc(t,e));break}}t=t.return}}function kc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Ll&n)===n&&(4===Fl||3===Fl&&(130023424&Ll)===Ll&&500>Qe()-Ul?pc(e,0):zl|=n),sc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=tc();null!==(e=Ir(e,t))&&(vt(e,t,n),sc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(t),_c(e,n)}function Mc(e,t){return $e(e,t)}function Rc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,i){return new Rc(e,t,n,i)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,i,s,a){var o=2;if(i=e,"function"===typeof e)Dc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Nc(n.children,s,a,t);case S:o=8,s|=8;break;case C:return(e=Lc(12,n,t,2|s)).elementType=C,e.lanes=a,e;case P:return(e=Lc(13,n,t,s)).elementType=P,e.lanes=a,e;case M:return(e=Lc(19,n,t,s)).elementType=M,e.lanes=a,e;case D:return Oc(n,s,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case _:o=9;break e;case T:o=11;break e;case R:o=14;break e;case L:o=16,i=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Lc(o,n,t,s)).elementType=e,t.type=i,t.lanes=a,t}function Nc(e,t,n,i){return(e=Lc(7,e,i,t)).lanes=n,e}function Oc(e,t,n,i){return(e=Lc(22,e,i,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,i,s,r,a,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=Lc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nr(r),e}function Uc(e){if(!e)return _s;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ls(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Ls(n))return Fs(e,n,t)}return t}function Wc(e,t,n,i,s,r,a,o,l){return(e=Hc(n,i,!0,e,0,r,0,o,l)).context=Uc(null),n=e.current,(r=jr(i=tc(),s=nc(n))).callback=void 0!==t&&null!==t?t:null,zr(n,r,s),e.current.lanes=s,vt(e,s,i),sc(e,i),e}function Vc(e,t,n,i){var s=t.current,r=tc(),a=nc(s);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=jr(r,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=zr(s,t,a))&&(ic(e,s,a,r),Br(e,s,a)),a}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ps.current)Ao=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ao=!1,function(e,t,n){switch(t.tag){case 3:Mo(t),pr();break;case 5:Qr(t);break;case 1:Ls(t.type)&&Ns(t);break;case 4:Kr(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;ks(xr,i._currentValue),i._currentValue=s;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(ks(Jr,1&Jr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?jo(e,t,n):(ks(Jr,1&Jr.current),null!==(e=Go(e,t,n))?e.sibling:null);ks(Jr,1&Jr.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Wo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),ks(Jr,Jr.current),i)break;return null;case 22:case 23:return t.lanes=0,Co(e,t,n)}return Go(e,t,n)}(e,t,n);Ao=0!==(131072&e.flags)}else Ao=!1,sr&&0!==(1048576&t.flags)&&Js(t,qs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Vo(e,t),e=t.pendingProps;var s=Rs(t,Ts.current);Pr(t,n),s=ga(null,t,i,e,s,n);var a=ma();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ls(i)?(a=!0,Ns(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Nr(t),s.updater=so,t.stateNode=s,s._reactInternals=t,lo(t,i,e,n),t=Po(null,t,i,!0,a,n)):(t.tag=0,sr&&a&&er(t),wo(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Vo(e,t),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(i),e=no(i,e),s){case 0:t=_o(null,t,i,e,n);break e;case 1:t=To(null,t,i,e,n);break e;case 11:t=xo(null,t,i,e,n);break e;case 14:t=Eo(null,t,i,no(i.type,e),n);break e}throw Error(r(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,_o(e,t,i,s=t.elementType===i?s:no(i,s),n);case 1:return i=t.type,s=t.pendingProps,To(e,t,i,s=t.elementType===i?s:no(i,s),n);case 3:e:{if(Mo(t),null===e)throw Error(r(387));i=t.pendingProps,s=(a=t.memoizedState).element,Or(e,t),Ur(t,i,null,n);var o=t.memoizedState;if(i=o.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ro(e,t,i,n,s=co(Error(r(423)),t));break e}if(i!==s){t=Ro(e,t,i,n,s=co(Error(r(424)),t));break e}for(ir=cs(t.stateNode.containerInfo.firstChild),nr=t,sr=!0,rr=null,n=wr(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pr(),i===s){t=Go(e,t,n);break e}wo(e,t,i,n)}t=t.child}return t;case 5:return Qr(t),null===e&&cr(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,ns(i,s)?o=null:null!==a&&ns(i,a)&&(t.flags|=32),ko(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&cr(t),null;case 13:return jo(e,t,n);case 4:return Kr(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Ar(t,null,i,n):wo(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,xo(e,t,i,s=t.elementType===i?s:no(i,s),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,ks(xr,i._currentValue),i._currentValue=o,null!==a)if(oi(a.value,o)){if(a.children===s.children&&!Ps.current){t=Go(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===a.tag){(c=jr(-1,n&-n)).tag=2;var d=a.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Tr(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(r(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Tr(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,Pr(t,n),i=i(s=Mr(s)),t.flags|=1,wo(e,t,i,n),t.child;case 14:return s=no(i=t.type,t.pendingProps),Eo(e,t,i,s=no(i.type,s),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:no(i,s),Vo(e,t),t.tag=1,Ls(i)?(e=!0,Ns(t)):e=!1,Pr(t,n),ao(t,i,s),lo(t,i,s,n),Po(null,t,i,!0,e,n);case 19:return Wo(e,t,n);case 22:return Co(e,t,n)}throw Error(r(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function ed(e,t,n,i,s){var r=n._reactRootContainer;if(r){var a=r;if("function"===typeof s){var o=s;s=function(){var e=Gc(a);o.call(e)}}Vc(t,a,e,s)}else a=function(e,t,n,i,s){if(s){if("function"===typeof i){var r=i;i=function(){var e=Gc(a);r.call(e)}}var a=Wc(t,i,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[fs]=a.current,Ui(8===e.nodeType?e.parentNode:e),uc(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof i){var o=i;i=function(){var e=Gc(l);o.call(e)}}var l=Hc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fs]=l.current,Ui(8===e.nodeType?e.parentNode:e),uc((function(){Vc(t,l,n,i)})),l}(n,t,e,s,i);return Gc(a)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Vc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Vc(null,e,null,null)})),t[fs]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ot(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(bt(t,1|n),sc(t,Qe()),0===(6&Pl)&&(Wl=Qe()+500,Us()))}break;case 13:uc((function(){var t=Ir(e,1);if(null!==t){var n=tc();ic(t,e,1,n)}})),$c(e,1)}},xt=function(e){if(13===e.tag){var t=Ir(e,134217728);if(null!==t)ic(t,e,134217728,tc());$c(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Ir(e,t);if(null!==n)ic(n,e,t,tc());$c(e,t)}},St=function(){return yt},Ct=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=ws(i);if(!s)throw Error(r(90));$(i),Z(i,s)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=dc,Pe=uc;var td={usingClientEntryPoint:!1,Events:[ys,As,ws,ke,_e,dc]},nd={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},id={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{st=sd.inject(id),rt=sd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(r(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(r(299));var n=!1,i="",s=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Hc(e,1,!1,null,0,n,0,i,s),e[fs]=t.current,Ui(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(r(200));return ed(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,s=!1,a="",o=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,s,0,a,o),e[fs]=t.current,Ui(e),i)for(e=0;e<i.length;e++)s=(s=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(r(200));return ed(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(r(40));return!!e._reactRootContainer&&(uc((function(){ed(null,null,e,!1,(function(){e._reactRootContainer=null,e[fs]=null}))})),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Zc(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return ed(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{var i=n(950);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var i=n(43),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,r={},c=null,d=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===r[i]&&(r[i]=t[i]);return{$$typeof:s,type:e,key:c,ref:d,props:r,_owner:o.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var A=y.prototype=new b;A.constructor=y,g(A,v.prototype),A.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,i){var s,r={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,s)&&!S.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===r[s]&&(r[s]=l[s]);return{$$typeof:n,type:e,key:a,ref:o,props:r,_owner:E.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,s,r,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=e),e=""===r?"."+T(l,0):r,w(a)?(s="",null!=e&&(s=e.replace(_,"$&/")+"/"),P(a,t,s,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",w(e))for(var c=0;c<e.length;c++){var d=r+T(o=e[c],c);l+=P(o,t,s,d,a)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,s,d=r+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var i=[],s=0;return P(e,i,"","",(function(e){return t.call(n,e,s++)})),i}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},D={transition:null},I={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=a,t.PureComponent=y,t.StrictMode=r,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=F,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=g({},e.props),r=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=i;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:n,type:e.type,key:r,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,s=e[i];if(!(0<r(s,t)))break e;e[i]=t,e[n]=s,n=i}}function i(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,s=e.length,a=s>>>1;i<a;){var o=2*(i+1)-1,l=e[o],c=o+1,d=e[c];if(0>r(l,n))c<s&&0>r(d,l)?(e[i]=d,e[c]=n,i=c):(e[i]=l,e[o]=n,i=o);else{if(!(c<s&&0>r(d,n)))break e;e[i]=d,e[c]=n,i=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function A(e){for(var t=i(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=i(d)}}function w(e){if(m=!1,A(e),!g)if(null!==i(c))g=!0,D(x);else{var t=i(d);null!==t&&I(w,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,b(k),k=-1),f=!0;var r=p;try{for(A(n),h=i(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===i(c)&&s(c),A(n)}else s(c);h=i(c)}if(null!==h)var l=!0;else{var u=i(d);null!==u&&I(w,u.startTime-n),l=!1}return l}finally{h=null,p=r,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,C=null,k=-1,_=5,T=-1;function P(){return!(t.unstable_now()-T<_)}function M(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?E():(S=!1,C=null)}}else S=!1}if("function"===typeof y)E=function(){y(M)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,L=R.port2;R.port1.onmessage=M,E=function(){L.postMessage(null)}}else E=function(){v(M,0)};function D(e){C=e,S||(S=!0,E())}function I(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,r){var a=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?a+r:a:r=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>a?(e.sortIndex=r,n(d,e),null===i(c)&&e===i(d)&&(m?(b(k),k=-1):m=!0,I(w,r-a))):(e.sortIndex=o,n(c,e),g||f||(g=!0,D(x))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},853:(e,t,n)=>{e.exports=n(234)},440:e=>{var t=function(){};e.exports=t},749:(e,t,n)=>{e.exports=n.p+"static/media/pdf.worker.min.8bec976a1a536e55abd8.mjs"}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,s){if(1&s&&(i=this(i)),8&s)return i;if("object"===typeof i&&i){if(4&s&&i.__esModule)return i;if(16&s&&"function"===typeof i.then)return i}var r=Object.create(null);n.r(r);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&i;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>i[e]));return a.default=()=>i,n.d(r,a),r}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",n.b=document.baseURI||self.location.href;var i={};n.r(i),n.d(i,{dU:()=>Ta,ng:()=>Pa,EA:()=>Ma,Tm:()=>Ra,D6:()=>La,YE:()=>Da});var s,r=n(43),a=n.t(r,2),o=n(391);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,i){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,u=s.Pop,g=null,m=v();function v(){return(o.state||{idx:null}).idx}function b(){u=s.Pop;let e=v(),t=null==e?null:e-m;m=e,g&&g({action:u,location:A.location,delta:t})}function y(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof e?e:f(e);return d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,o.replaceState(l({},o.state,{idx:m}),""));let A={get action(){return u},get location(){return e(r,o)},listen(e){if(g)throw new Error("A history only accepts one active listener");return r.addEventListener(c,b),g=e,()=>{r.removeEventListener(c,b),g=null}},createHref:e=>t(r,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=s.Push;let i=p(A.location,e,t);n&&n(i,e),m=v()+1;let l=h(i,m),c=A.createHref(i);try{o.pushState(l,"",c)}catch(d){r.location.assign(c)}a&&g&&g({action:u,location:A.location,delta:1})},replace:function(e,t){u=s.Replace;let i=p(A.location,e,t);n&&n(i,e),m=v();let r=h(i,m),l=A.createHref(i);o.replaceState(r,"",l),a&&g&&g({action:u,location:A.location,delta:0})},go:e=>o.go(e)};return A}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){void 0===n&&(n="/");let i=L(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let s=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let r=null;for(let a=0;null==r&&a<s.length;++a)r=P(s[a],R(i));return r}function y(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let s=(e,s,r)=>{let a={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(i.length));let o=N([i,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),y(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of A(e.path))s(e,t,i);else s(e,t)})),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===i.length)return s?[r,""]:[r];let a=A(i.join("/")),o=[];return o.push(...a.map((e=>""===e?r:[r,e].join("/")))),s&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:\w+$/,x=3,E=2,S=1,C=10,k=-2,_=e=>"*"===e;function T(e,t){let n=e.split("/"),i=n.length;return n.some(_)&&(i+=k),t&&(i+=E),n.filter((e=>!_(e))).reduce(((e,t)=>e+(w.test(t)?x:""===t?S:C)),i)}function P(e,t){let{routesMeta:n}=e,i={},s="/",r=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===s?t:t.slice(s.length)||"/",c=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(i,c.params);let d=e.route;r.push({params:i,pathname:N([s,c.pathname]),pathnameBase:O(N([s,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(s=N([s,c.pathnameBase]))}return r}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(i.push(t),"/([^\\/]+)")));e.endsWith("*")?(i.push("*"),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let r=new RegExp(s,t?void 0:"i");return[r,i]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce(((e,t,n)=>{if("*"===t){let e=o[n]||"";a=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return u(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(o[n]||"",t),e}),{}),pathname:r,pathnameBase:a,pattern:e}}function R(e){try{return decodeURI(e)}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function D(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function F(e,t,n,i){let s;void 0===i&&(i=!1),"string"===typeof e?s=g(e):(s=l({},e),d(!s.pathname||!s.pathname.includes("?"),D("?","pathname","search",s)),d(!s.pathname||!s.pathname.includes("#"),D("#","pathname","hash",s)),d(!s.search||!s.search.includes("#"),D("#","search","hash",s)));let r,a=""===e||""===s.pathname,o=a?"/":s.pathname;if(i||null==o)r=n;else{let e=t.length-1;if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}r=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:s=""}="string"===typeof e?g(e):e,r=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:r,search:j(i),hash:z(s)}}(s,r),u=o&&"/"!==o&&o.endsWith("/"),h=(a||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}const N=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],U=(new Set(H),["get",...H]);new Set(U),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");const W="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},{useState:V,useEffect:G,useLayoutEffect:q,useDebugValue:$}=a;function X(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!W(n,e)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,a.useSyncExternalStore;const K=r.createContext(null);const Y=r.createContext(null);const Q=r.createContext(null);const Z=r.createContext(null);const J=r.createContext({outlet:null,matches:[]});const ee=r.createContext(null);function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},te.apply(this,arguments)}function ne(){return null!=r.useContext(Z)}function ie(){return ne()||d(!1),r.useContext(Z).location}function se(){ne()||d(!1);let{basename:e,navigator:t}=r.useContext(Q),{matches:n}=r.useContext(J),{pathname:i}=ie(),s=JSON.stringify(I(n).map((e=>e.pathnameBase))),a=r.useRef(!1);return r.useEffect((()=>{a.current=!0})),r.useCallback((function(n,r){if(void 0===r&&(r={}),!a.current)return;if("number"===typeof n)return void t.go(n);let o=F(n,JSON.parse(s),i,"path"===r.relative);"/"!==e&&(o.pathname="/"===o.pathname?e:N([e,o.pathname])),(r.replace?t.replace:t.push)(o,r.state,r)}),[e,t,s,i])}function re(){let{matches:e}=r.useContext(J),t=e[e.length-1];return t?t.params:{}}function ae(e,t){let{relative:n}=void 0===t?{}:t,{matches:i}=r.useContext(J),{pathname:s}=ie(),a=JSON.stringify(I(i).map((e=>e.pathnameBase)));return r.useMemo((()=>F(e,JSON.parse(a),s,"path"===n)),[e,a,s,n])}function oe(){let e=function(){var e;let t=r.useContext(ee),n=pe(he.UseRouteError),i=fe(he.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}class le extends r.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?r.createElement(J.Provider,{value:this.props.routeContext},r.createElement(ee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(K);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(J.Provider,{value:t},i)}function de(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}let i=e,s=null==n?void 0:n.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&(null==s?void 0:s[e.route.id])));e>=0||d(!1),i=i.slice(0,Math.min(i.length,e+1))}return i.reduceRight(((e,a,o)=>{let l=a.route.id?null==s?void 0:s[a.route.id]:null,c=null;n&&(c=a.route.ErrorBoundary?r.createElement(a.route.ErrorBoundary,null):a.route.errorElement?a.route.errorElement:r.createElement(oe,null));let d=t.concat(i.slice(0,o+1)),u=()=>{let t=e;return l?t=c:a.route.Component?t=r.createElement(a.route.Component,null):a.route.element&&(t=a.route.element),r.createElement(ce,{match:a,routeContext:{outlet:e,matches:d},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===o)?r.createElement(le,{location:n.location,component:c,error:l,children:u(),routeContext:{outlet:null,matches:d}}):u()}),null)}var ue,he;function pe(e){let t=r.useContext(Y);return t||d(!1),t}function fe(e){let t=function(){let e=r.useContext(J);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(ue||(ue={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(he||(he={}));function ge(e){let{to:t,replace:n,state:i,relative:s}=e;ne()||d(!1);let a=r.useContext(Y),o=se();return r.useEffect((()=>{a&&"idle"!==a.navigation.state||o(t,{replace:n,state:i,relative:s})})),null}function me(e){d(!1)}function ve(e){let{basename:t="/",children:n=null,location:i,navigationType:a=s.Pop,navigator:o,static:l=!1}=e;ne()&&d(!1);let c=t.replace(/^\/*/,"/"),u=r.useMemo((()=>({basename:c,navigator:o,static:l})),[c,o,l]);"string"===typeof i&&(i=g(i));let{pathname:h="/",search:p="",hash:f="",state:m=null,key:v="default"}=i,b=r.useMemo((()=>{let e=L(h,c);return null==e?null:{location:{pathname:e,search:p,hash:f,state:m,key:v},navigationType:a}}),[c,h,p,f,m,v,a]);return null==b?null:r.createElement(Q.Provider,{value:u},r.createElement(Z.Provider,{children:n,value:b}))}function be(e){let{children:t,location:n}=e,i=r.useContext(K);return function(e,t){ne()||d(!1);let{navigator:n}=r.useContext(Q),i=r.useContext(Y),{matches:a}=r.useContext(J),o=a[a.length-1],l=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,h=ie();if(t){var p;let e="string"===typeof t?g(t):t;"/"===c||(null==(p=e.pathname)?void 0:p.startsWith(c))||d(!1),u=e}else u=h;let f=u.pathname||"/",m=b(e,{pathname:"/"===c?f:f.slice(c.length)||"/"}),v=de(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:N([c,n.encodeLocation?n.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:N([c,n.encodeLocation?n.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i||void 0);return t&&v?r.createElement(Z.Provider,{value:{location:te({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:s.Pop}},v):v}(i&&!t?i.router.routes:Ae(t),n)}var ye;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(ye||(ye={}));new Promise((()=>{}));r.Component;function Ae(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Ae(e.props.children,s));e.type!==me&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ae(e.props.children,s)),n.push(a)})),n}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},we.apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,i,s={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Se(e){let{basename:t,children:n,window:i}=e,s=r.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:i,v5Compat:!0})&&(a={}),m((function(e,t){let{pathname:n,search:i,hash:s}=e.location;return p("",{pathname:n,search:i,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,a)));let o=s.current,[l,c]=r.useState({action:o.action,location:o.location});return r.useLayoutEffect((()=>o.listen(c)),[o]),r.createElement(ve,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=r.forwardRef((function(e,t){let n,{onClick:i,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:h}=e,p=xe(e,Ee),{basename:g}=r.useContext(Q),m=!1;if("string"===typeof u&&ke.test(u)&&(n=u,Ce)){let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=L(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}let v=function(e,t){let{relative:n}=void 0===t?{}:t;ne()||d(!1);let{basename:i,navigator:s}=r.useContext(Q),{hash:a,pathname:o,search:l}=ae(e,{relative:n}),c=o;return"/"!==i&&(c="/"===o?i:N([i,o])),s.createHref({pathname:c,search:l,hash:a})}(u,{relative:s}),b=function(e,t){let{target:n,replace:i,state:s,preventScrollReset:a,relative:o}=void 0===t?{}:t,l=se(),c=ie(),d=ae(e,{relative:o});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:f(c)===f(d);l(e,{replace:n,state:s,preventScrollReset:a,relative:o})}}),[c,l,d,i,s,n,e,a,o])}(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s});return r.createElement("a",we({},p,{href:n||v,onClick:m||a?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Te,Pe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Te||(Te={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));var Me=n(579);const Re=function(e){let{data:t,lang:n}=e;const i=t.elements.length;return(0,Me.jsxs)("div",{className:"nav-elem",children:[(0,Me.jsx)("span",{children:t.title[n]}),(0,Me.jsx)("div",{className:`nav-elem-dropdown-${i}`,children:(0,Me.jsx)("ul",{children:t.elements.map((e=>(0,Me.jsx)("li",{children:(0,Me.jsx)(_e,{to:e.to,children:e.display[n]})},e.display[n])))})})]})};const Le=n.p+"static/media/logo.ec88aa909cf3becbc0bebdf1b28d8c26.svg";const De=function(e){let{saveAndChangeLang:t,lang:n}=e;const i={scrollableElements:[{title:{FR:"Evenements",EN:"Events"},elements:[{display:{FR:"Activit\xe9s",EN:"Activities"},to:"/activities"},{display:{FR:"Horaires",EN:"Schedule"},to:"/event-schedule"},{display:{FR:"Le challenge",EN:"The challenge"},to:"/the-challenge"},{display:{FR:"Le blog",EN:"The blog"},to:"/blog"}]},{title:{FR:"L'\xe9quipe",EN:"The Team"},elements:[{display:{FR:"Membres",EN:"Members"},to:"/members"},{display:{FR:"Notre engagement",EN:"Our Engagement"},to:"/our-engagement"},{display:{FR:"PV - status - AG",EN:"PV - status - AG"},to:"/pv-status-ag"}]}],"contact-button":{display:{FR:"Nous Contacter",EN:"Contact Us"},to:"/contact"},"change-language":{FR:"Modifier la langue",EN:"Change language"}};let[s,a]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{function e(){console.log("closing mobile menu"),a(!1)}return s?(document.body.style.overflow="hidden",window.addEventListener("resize",e)):(document.body.style.overflow="",window.removeEventListener("resize",e)),()=>{document.body.style.overflow="",window.removeEventListener("resize",e)}}),[s]),(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("header",{className:s?"mobile-menu-is-open":"mobile-menu-is-closed",children:[(0,Me.jsx)(_e,{className:"logo",to:"/",children:(0,Me.jsx)("img",{alt:"sic logo",src:Le})}),(0,Me.jsxs)("nav",{className:"desktop",children:[i.scrollableElements.map((e=>(0,Me.jsx)(Re,{data:e,lang:n},e.title[n]))),(0,Me.jsx)(_e,{to:i["contact-button"].to,children:i["contact-button"].display[n]})]}),(0,Me.jsx)("button",{id:"hamburger-button",onClick:()=>a(!s),children:s?"x":"\u2630"})]}),(0,Me.jsxs)("nav",{className:s?"opened-mobile-menu":"closed-mobile-menu",children:[i.scrollableElements.map((e=>(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{children:e.title[n]}),e.elements.map((e=>(0,Me.jsx)(_e,{to:e.to,children:e.display[n]},`mobile-nav${e.display[n]}`)))]},`mobile-nav${e.title[n]}`))),(0,Me.jsx)("h2",{children:i["change-language"][n]}),(0,Me.jsx)("button",{onClick:()=>t("FR"),children:"FR"}),(0,Me.jsx)("button",{onClick:()=>t("EN"),children:"EN"}),(0,Me.jsx)(_e,{className:"contact-button",to:i["contact-button"].to,children:i["contact-button"].display[n]})]})]})};const Ie=function(e){let{saveAndChangeLang:t,lang:n}=e;const i={"change-lang":{FR:"Modifier la langue",EN:"Change language"},"social-description":{FR:["Ne manquez jamais une mise \xe0 jour!","Suivez-nous sur nos r\xe9seaux sociaux."],EN:["Never miss an update!","Follow us on our social media"]}};return(0,Me.jsxs)("footer",{children:[(0,Me.jsxs)("article",{children:[(0,Me.jsxs)("div",{className:"social-networks-links",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("a",{href:"https://www.instagram.com/epflsic/",children:(0,Me.jsx)("svg",{fill:"red",width:"307",height:"307",viewBox:"0 0 307 307",xmlns:"http://www.w3.org/2000/svg",children:(0,Me.jsx)("path",{d:"M153.583 0.773438C112.082 0.773438 106.874 0.954716 90.5735 1.69599C74.3054 2.44037 63.201 5.01403 53.4845 8.79031C43.434 12.6904 34.9082 17.9076 26.4145 26.3982C17.9143 34.886 12.6931 43.4052 8.77732 53.4452C4.98877 63.1576 2.40999 74.2568 1.67788 90.5066C0.94888 106.795 0.757812 112.002 0.757812 153.473C0.757812 194.944 0.942509 200.132 1.68099 216.42C2.42925 232.676 5.00477 243.772 8.78043 253.481C12.6867 263.525 17.9078 272.044 26.4048 280.531C34.8956 289.025 43.4212 294.255 53.4654 298.156C63.1881 301.932 74.2959 304.505 90.5608 305.25C106.861 305.991 112.066 306.172 153.564 306.172C195.069 306.172 200.261 305.991 216.561 305.25C232.83 304.505 243.947 301.932 253.669 298.155C263.717 294.255 272.23 289.025 280.721 280.531C289.221 272.044 294.442 263.525 298.358 253.485C302.114 243.772 304.693 232.673 305.457 216.423C306.189 200.135 306.38 194.943 306.38 153.473C306.38 112.002 306.189 106.798 305.457 90.5098C304.693 74.2536 302.114 63.1576 298.358 53.4484C294.442 43.4052 289.221 34.8858 280.721 26.3982C272.22 17.9043 263.72 12.6871 253.66 8.79015C243.918 5.01403 232.807 2.44037 216.539 1.69599C200.239 0.954716 195.05 0.773438 153.536 0.773438H153.583ZM139.875 28.2912C143.944 28.2848 148.483 28.2912 153.583 28.2912C194.384 28.2912 199.22 28.4375 215.332 29.1692C230.232 29.85 238.318 32.3376 243.705 34.4277C250.836 37.1954 255.92 40.5039 261.265 45.8483C266.614 51.1929 269.925 56.2829 272.701 63.4088C274.793 68.785 277.285 76.8654 277.963 91.7537C278.696 107.851 278.855 112.686 278.855 153.438C278.855 194.189 278.696 199.025 277.963 215.122C277.282 230.01 274.793 238.091 272.701 243.467C269.931 250.593 266.614 255.667 261.265 261.008C255.917 266.353 250.839 269.661 243.705 272.429C238.324 274.528 230.232 277.01 215.332 277.691C199.224 278.422 194.384 278.581 153.583 278.581C112.779 278.581 107.943 278.422 91.8342 277.691C76.9351 277.004 68.8488 274.516 63.4588 272.426C56.3276 269.658 51.2337 266.349 45.8854 261.005C40.5369 255.661 37.226 250.583 34.4498 243.454C32.3582 238.078 29.8655 229.997 29.1874 215.109C28.4552 199.012 28.3087 194.177 28.3087 153.4C28.3087 112.623 28.4552 107.812 29.1874 91.7155C29.8687 76.8272 32.3582 68.747 34.4498 63.3643C37.2195 56.2383 40.5369 51.1483 45.8854 45.8039C51.2337 40.4593 56.3276 37.1509 63.4588 34.3769C68.8455 32.2772 76.9351 29.796 91.8342 29.1119C105.931 28.4756 111.394 28.2848 139.875 28.2528L139.875 28.2912ZM235.154 53.6456C225.03 53.6456 216.816 61.8437 216.816 71.9631C216.816 82.0795 225.03 90.2872 235.154 90.2872C245.277 90.2872 253.491 82.0795 253.491 71.9631C253.491 61.8468 245.277 53.6394 235.154 53.6394L235.154 53.6456ZM153.583 75.0553C110.245 75.0553 75.1077 110.167 75.1077 153.473C75.1077 196.779 110.245 231.874 153.583 231.874C196.922 231.874 232.046 196.779 232.046 153.473C232.046 110.167 196.919 75.0553 153.58 75.0553H153.583ZM153.583 102.573C181.714 102.573 204.521 125.36 204.521 153.473C204.521 181.582 181.714 204.373 153.583 204.373C125.45 204.373 102.646 181.582 102.646 153.473C102.646 125.36 125.45 102.573 153.583 102.573Z"})})}),(0,Me.jsx)("a",{href:"https://www.linkedin.com/company/epfl-sustainable-innovation-challenge",children:(0,Me.jsxs)("svg",{width:"72",height:"72",viewBox:"0 0 72 72",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Me.jsx)("g",{clipPath:"url(#clip0_694_12)",children:(0,Me.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M64 72H8C3.58172 72 0 68.4183 0 64V8C0 3.58172 3.58172 0 8 0H64C68.4183 0 72 3.58172 72 8V64C72 68.4183 68.4183 72 64 72ZM51.3156 62H62V40.0512C62 30.7645 56.7357 26.2742 49.3826 26.2742C42.026 26.2742 38.9301 32.0029 38.9301 32.0029V27.3333H28.6333V62H38.9301V43.8021C38.9301 38.9261 41.1746 36.0245 45.4707 36.0245C49.4198 36.0245 51.3156 38.8128 51.3156 43.8021V62ZM10 16.397C10 19.9297 12.8421 22.794 16.3493 22.794C19.8566 22.794 22.697 19.9297 22.697 16.397C22.697 12.8644 19.8566 10 16.3493 10C12.8421 10 10 12.8644 10 16.397ZM21.7694 62H11.0326V27.3333H21.7694V62Z"})}),(0,Me.jsx)("defs",{children:(0,Me.jsx)("clipPath",{id:"clip0_694_12",children:(0,Me.jsx)("rect",{width:"72",height:"72"})})})]})})]}),(0,Me.jsxs)("p",{children:[i["social-description"][n][0],(0,Me.jsx)("br",{}),i["social-description"][n][1]]})]}),(0,Me.jsxs)("div",{className:"desktop-language-changer",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("button",{onClick:()=>t("FR"),children:"FR"}),(0,Me.jsx)("p",{children:"|"}),(0,Me.jsx)("button",{onClick:()=>t("EN"),children:"EN"})]}),(0,Me.jsx)("p",{children:i["change-lang"][n]})]})]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("span",{className:"special-char",children:"\xa9"})," 2024 EPFL SIC"]})]})},Fe=n.p+"static/media/logo_epfl.f5dd7731a201a7d2c0f7.png";n.p;const Ne=n.p+"static/media/event_poster_en.108305a7adf8f62ef2a2.png",Oe=n.p+"static/media/event_poster_fr.317dcd505cdcbe1080ba.png",je=n.p+"static/media/logo_carbon_removal_booster.8f305e73f8db4e163a12.png",ze=[{name:"EPFL",link:"https://www.epfl.ch/",logo:Fe},{name:"Carbon removal booster",link:"https://www.cdr-booster.ch/",logo:je}],Be=n.p+"static/media/logo_fustic.427c8a7702fb4948fc8b.png",He=n.p+"static/media/logo_e4s.9bf6ae4abf56fed714f4.png";const Ue=n.p+"static/media/logo_eth_sph.3729c82eb63c6a32eee336beefeeb577.svg",We=n.p+"static/media/logo_epfl_cctc.6cda7f33da7d9c8c10f5.png",Ve=[{name:"fustic",link:"https://www.architectes.ch/fr/membres/fustic-69248",logo:Be},{name:"e4s",link:"https://e4s.center/",logo:He},{name:"EPFL CCTC",link:"https://www.epfl.ch/education/educational-initiatives/educational-initiatives/transversal-skills-and-career-center/",logo:We},{name:"EPFL Sustainability",link:"https://www.epfl.ch/about/sustainability/",logo:We},{name:"Planted",link:"https://ch.eatplanted.com/",logo:n.p+"static/media/logo_planted.d7848d51fd1a3c5b6dd9.png"},{name:"SPH ETH",link:"https://sph.ethz.ch/",logo:Ue}],Ge=n.p+"static/media/logo_chocopoly.8645f01673133f8d28e3.png",qe=n.p+"static/media/logo_artepoly.1ce9c1996b0da6512d40.png",$e=n.p+"static/media/logo_unipoly.636209b40ec52e4884c7.png",Xe=n.p+"static/media/logo_ingenieur_du_monde.b5edfb2c8e00ce4ce8e0.png",Ke=n.p+"static/media/logo_ingenieur_engage.11a7147b0b530ae5d58d.png",Ye=[{name:"zero emission group",link:"https://zeroemission.group/",logo:n.p+"static/media/logo_zero_emission_group.e76197b576bc324e2d78.png"},{name:"artepoly",link:"https://artepoly.agepoly.ch/",logo:qe},{name:"chocopoloy",link:"https://chocopoly.ch/",logo:Ge},{name:"unipoly",link:"https://unipoly.ch/",logo:$e},{name:"ing\xe9nieur du monde",link:"https://www.epfl.ch/campus/associations/idm/fr/55-2/qui-sommes-nous/",logo:Xe},{name:"ing\xe9nieur.e.x.s engag\xe9.e.x.s",link:"https://unipoly.ch/ingenieur%C2%B7e%C2%B7s-engage%C2%B7e%C2%B7s/",logo:Ke}];const Qe=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,r.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,r.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"bienvenue":"welcome")+" | EPFL Sustainable Innovation Challenge"}),[]);const a={"sic-presentation":{FR:"D\xe9fi et Conf\xe9rence sur la Durabilit\xe9 organis\xe9s par des \xc9tudiants - rassemblant \xe9tudiants, chercheurs et l'industrie.",EN:"Student-led sustainable Challenge and Conference - gathering students, research and industry"},date:{FR:"Mars 13, 14 2025",EN:"March 13, 14 2025"},schedule:{FR:"Horaires",EN:"Schedule"},tickets:{FR:"billets",EN:"tickets"},"student-team":{FR:"Etudiants",EN:"Student Teams"},labs:{FR:"Laboratoires",EN:"Labs"},public:{FR:"Public",EN:"Public"},compagnies:{FR:"Entreprises et ONG",EN:"Companies and NGOs"},"sic-presentation-1":{FR:"Rejoignez-nous au RLC de Lausanne (EPFL) pour un \xe9v\xe9nement de deux jours d\xe9di\xe9 \xe0 la durabilit\xe9, avec une expo r\xe9unissant entreprises et monde acad\xe9mique ainsi qu\u2019un challenge \xe9tudiant.",EN:"Join us at the RLC in Lausanne (EPFL) for a two-day event dedicated to sustainability, featuring a company and academia expo alongside a student challenge."},"sic-presentation-2":{FR:"Notre focus : la r\xe9duction des \xe9missions, la restauration de la biodiversit\xe9 et des solutions align\xe9es avec les ODD.",EN:"Our focus: emission reductions, bioodiversity restoration, and solutions aligned with the SDGs."},"sic-presentation-3":{FR:"Nous promouvons l'innovation sociale, \xe9conomique et technologique, en mettant en avant des approches diversifi\xe9es qui privil\xe9gient la r\xe9duction de la consommation et un progr\xe8s durable.",EN:"We promote social, economic and technological innovation, showcasing diverse approaches that emphasize reduced consumption and sustainable progress."},"sic-presentation-4":{FR:"Ceci est un nouvel \xe9v\xe9nement.",EN:"This is a new event."},"sic-presentation-5":{FR:"Nous voulons le construire avec vous.",EN:"We want to build it with you."},"our-chart":{FR:"Notre charte",EN:"Our charter"},"reach-out":{FR:"Contactez nous",EN:"Reach out to us"},"event-poster":{FR:"poster de l'\xe9v\xe8nement",EN:"the event poster"},"our-chart-link":{FR:"Notre charte",EN:"Our charter",to:"/our-engagement"},"event-schedule-link":{FR:"Planning",EN:"Schedule",to:"/event-schedule"},"event-activities-link":{FR:"Activit\xe9s",EN:"Activities",to:"/activities"},"event-challenge-link":{FR:"Le challenge",EN:"The challenge",to:"/the-challenge"},"principal-partners":{FR:"Partenaires principaux",EN:"Principal partners"},"partner-other":{FR:"Autres partenaires",EN:"Other partners"},"partner-association":{FR:"Associations partenaires",EN:"Partner associations"}};return(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("section",{className:"welcome-page",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsxs)("a",{className:"get-your-ticket",href:"https://www.eventbrite.com/e/epfl-sustainable-innovation-challenge-tickets-1248211717849?aff=oddtdtcreator",children:[(0,Me.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACIUSURBVHgB7d15sGVVfS/w340MCjiBTEoig4CBdsAMCkExPAeMJkIU26cpU8kzcSAJvjwCRAuHp1hikYBD8Ek5vKcxGlQEFQUtRUFAnxoHxIkGR2a0ozQoKL3zW5zTFiENfc69e51z9t6fT9W3Vv9x7+2++5zev9/Ze+21IgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgdpZiQTRNU/4t+2QOyOw9zoMy22S2ztw3AGDxrc3cmFmXWZP5ZuZbmQuXlpa+Hgtirg1AFv0tc/jDzNMzj83sGADQX1dnPpV5X+bD2RDcHHMylwYgC/+Dczgyszp8sgdgmMqVgvdkXpeNwLdixmbaAGThf3gOL8n8cebXAgBYH6MrAsdnI/DVmJGZNABZ+O+TwysyR2TuFgDAHZVG4F2Zv81G4PqorHoDkMX/GTm8MbN9AACbcm3miGwC3hcVVWsAsvDfPYcTMn8TAMC03pl5fjYCN0UFVRqALP4753BWZr8AAJbri5mnZBNwdbSs9QYgi/9uOXwsRs/wAwAr853ME7MJuDRa1GoDkMX/N2P0fOMOAQC05ZrMY7MJ+Ga0pLUGIIv/A3K4IPPAAADa9sPM72UT8P1oQSsNwPgxv1L89wkAoJavxagJ+GmsUFuL8bw1FH8AqG1V5i3RghU3APnp/69jtLIfAFDf4Vl7nx8rtKJbAPkP2DOHizNbBgAwKz/LrMpbAZfHMq30CsDJofgDwKzdI3NKrMCyG4D89P+0HP4gAIB5eGLW4kNjmZZ1CyD/wvJ9ZceiVQEAzMvXMw/JWwHrY0rLvQJwWCj+ADBv5Qm8P4xlWO4VgM/l8LsBAMzbZ/MKwP4xpakbgCz++8ZoIQIAYDGU2wBT1ebNYnp/GrNzWebs8VjWQf5FAMDi2jyzY2aPzCHjcRaelXlx1FIm/2V+0NT30cxvBQB0WNay386c3dT33agp/4LfbOpal3l6AECPZG17xrjG1bTXNP+maZ8C+P2oZ23m0XkP430BAD2Ste20HB6T+feo5+BpvnjaBuCgqOOXmdV5gL4UANBDWeP+LYdnZm6NOqaq0dM2APtGHW/IA/PxAIAey1p3TqxwCd+7MNWuvBM/Bpj3Fu6Ww43R/tr/ZU/jPfKgXB8A0HNZT7eP0dNt94x2/Tyz9aSrAk5zBeCBUWfjnzMUfwCGImvedTmcGe27e+Y3Jv3iaRqA+0UdHwwAGJZatW/iWj1NA7BN1PHVAIBhqVX7Jq7V0zQAbd+r2OCqAIBhuWKqr57cvSb9wmkagC2igrwXsi4AYEAq1r6J5+otdztgAKDDNAAAMEAaAAAYIA0AAAyQBgAABkgDAAADpAEAgAHSAADAAGkAAGCANgsAFlLTNDvksHtmx8zaGC2dvmZpaakJWCENAMACyaK/dQ5HZFZn9sss3eFLrsyvKVvJnpSNwKUBy+QWAMCCyMJeiv6azAmZR8R/Lf7F/TMvyFySX39Spso+LfSfBgBgAWQhPz6Hd2d2mvBbNs+8KPOJ/N6J94CHDTQAAHOWBfzYHF4cG//EvykHZs7MnzHxLnBQaAAA5igL90E5HB8rc0DmNQFT0AAAzEkW//KJvxTuNs7FR+TP2zNgQhoAgPk5OPOoaMeGOQEwEQ0AwPwcGu06dHxVATZJAwAwPwdGu8ojgrsHTEADADA/u0T7avxMekgDADA/20X7rAnARDQAAPNT43698zoT8UYBgAHSAADAAGkAAGCANAAAMEAaAAAYIA0AAAyQBgAABkgDAAADpAEAgAHSAADAAGkAAGCANAAAMEAaAAAYIA0AAAyQBgAABkgDAAADpAEAgAHSAADAAGkAAGCANAAA89NE+9YHTEADADA/10f7rguYgAYAYH6uiPbV+Jn0kAYAYH7Oi3aV4n95wAQ0AADzc2a064ylpaUa8wroIQ0AwPycm7ko2vGLzMkBE9IAAMzJ+NP6MZlbY+Venz9vTcCENAAAc5RF+/wcXhwrc0HmJQFT0AAAzFk2Aa/N4VWxvHUBSgPx1PwZNwdMQQMAsACygB+Xw+rMlRN+yy2Zf8g8Lr/3RwFT0gAALIgs5O/NYc/M32W+EBu/IvDDzD9l9smvPypzS8AybBYMStM0987hSZl9M7tktg7ohmszV8Xo2fkLs/C1MXFu4eTvdVMOJ5bk/9ftc9w9s2NmbYx+/8s86kcbNAADkSeS3XJ4ZebwzBYB3XZtvqdLkXxDFsOfR0/l71aW9bW0L1W4BTAAeaJ8fg7fyDw7FH/6YYdMmTj3tXx/rwpgahqAnsuT4wk5vCmzZUD/7JG5MN/nBwUwFQ1Aj+VJ8c9zODqg3+6ZOT3f7w8KYGIagJ7Kk+GuOZwSMAzbZt4WwMQ0AP1VFhVx2Z8heXQ2vk8JYCIagB4aP+p3eMDwPDeAiWgA+umQMNufYXp8NsD3CGCTNAD99NCAYdoqYzIgTEAD0E87BwzXAwLYJA1AP1kmlCFbH8AmaQD66aqA4Zp0Nz0YNA1AP10cMExlI53LAtgkDUA/fSRzc8DwnLO0tPSzADZJA9BDeQK8IYfTAobnrQFMRAPQX8dlertNKmzEp7L5PSuAiWgAeipPhN/L4YUBw/DjsAogTEUD0GPZBLw9hxMC+q3c8jos3+8m/8EUNAA9lyfFY3N4XpgUSD+tyeyf7/PzApiKBmAA8uR4ag57Z94ZGgH64erMUZlV+f6+JICpbRYMwnhOwHOapvmrGG0WtCqzS2abgG64JkaL/JRP+xfle7r3K/7l/9cdctg9s2NmbYwW+VqTv7vVPpmdfCMe3tRh4w6AsTwnbp05OvPFzPqNnDOvyJyS2TPorFL7mjra3wq+qdcAFD/M/HPmLzJ7BMAA5flvdeaqCc+bt2ROytj6uwOaUcH/y8y7xjWvls41AHd0SebljWYAGIg83x3fbPwT/6acn7lfsHDydfn1zJGZzzSz0/kGYIPyn6G8uZ+d2TwAeijPb8c2K3NBZstg7vJ12CLzJ82o6C+noVup3jQAt1cui5WrAtsFQE/kOe2gzK3Nyp0UzE0e/3s3o0/732/ma+IGoEuPAe6UeVnme/kLvjpzrwDosDyPLeXwmmjnXHxEY2LgzOUxv0+mvIblCZWTM78eHdHFdQC2zvx95jt50I9pXPYCuuvgzKOiHeU26YuCmcjas3nmL/OP38ock9kqOqbLCwFtG6PO+eJ8ER4XAN1zaLTr0PFVBSrKY/z4HL6eeXNmh+ioPqwEWC55fSxfkDe7LQB0zIHRrvvHaOEgKig1ptSa/OM5mc6vYdOXpYBLx1suxXzV1QCgQ3aJ9tX4mYOXteUJOXwtRrWmF1dZpmkAbonF98DMOflCvdRlMKADajzVZE2AFmUt+bXMK/KPZ0c3JvhNXKunaQCujm4ov1N5sT5UZmcGwOKq8UHFJm8tGd9Wfn/mpdGdT/1XTvqF07xRvpvp0gYUT858Nl/AvQIAppC148E5fCHan6hZU6nR3530iyduAJaWlspOXP8W3VK2wC0rCT48AGACWTMeEaNdJ7u2rsLns1ZfN+kXT3up6F+je8ojGufmC3pAAMBdyFpRnsz4ZGb76J7TpvniaRuAU2K0H3XXlLkAH/OEAAB3ZjzTvzzid+/onisyb5rmG6ZqAPLSwo05HBndmguwQVlB8AP5Av9OAMDtZG14ZA6nRwdX9ItRTf6brNE3TfNNU88Wzb/gvTkcH920TeYs62UDsMF4sviHY/RBsYtembX59Cm/Z3mPi+RfdFyM1py+Nbqn3NcpawXsFAAMWtaCUhPOim6un1Bq8LFZk18Wy7Ds50XzL3xdDr+f+Vx0z26Z08tmDgHAII1rwAejm8v6fjZzUNbiE2KZVrRgRP7F5+ewf4x2tHp95kuZa6Ibyr972QcOgM57bbS3G2NtpbaWGls+fD82c0DW4AtiBaqtbJSd1X1jdD+l3Hcv3VVZVKE8l18ex9snFkOZOPG0PIgfCIAZy/NkjQnVzxjP1eIu5KF/Wg7lOC3KCn+XZC7MfDvzzcyazLrMjfl6ro0K5vKLj++/l9sHT4/Rin1bxvz8e2a/PMDfDYAZ0gDMRx72smNiWdhuno/73RyjiYfvy5w7XmxvWPKF2Dbzgsw3m/k5OwBmrKnj8OBO5fFZyny8mZ9S60rNu28w0ox2XFqd+UozH88OgBlq6tAA3IU8Ps9p5uPL5bXJ2KzpzjSjRqC8QNc3s3VdM3ocBGAmmjo0AHcij812mWub2VqbOTJzt1gwC9eJ5H2Q9Zl35B/3jdGqTLNSngHt6gJHAGxamfU/yw965f7+3uWx+UwX182Zr2Z0NeCmZjZ+2Yy2gASorqnDFYCNyOOyV+YXzWz8PHNkLLiFvxcxvhpwUMxmfYFyiWZZKyoBsNBeldks6rs683vjxfIWWicmI+SB/HyMFu65NOorExEfHgD0Qp7TH5rD06K+72QekzXri9EBnZmNmAf0tgMbo0USqv5VmeMCgL54ZdSvd9+K0ep8s/ig2opOPY6QB7ZcWnlc5gdR11OzY9w1AOqqsRDQ+uBX8lz+wBgtOFfTlZlDxjWqMzr3PGIe4FL8n5K5IeopcwH+IgDquj7ad11wey+I0Tm9lp9kntjF1WQ7uSBBHuiv5vDcqOsvsnO8ewDUc0W0r8bP7KQ8h5dl5v8s6nph1qSvRQd1dkWiPOCn5XBq1FOeFT0sAOo5L9pViv/lwQZlv5kdop5Tshb9S3RU15ck/J8xmnVZy+oAqOfMaNcZWZBqzCvoqprn8LJb3/8K5icv8RzS1FMWINo6ACpoRhvTXNi045bMg4Lb5LHYJvOzpp7aEwur6/ymBNntlp38PhR13CNzSABUMP60fkymjWViX58/b02wwR9kas3jOj2P9VnB/GUn9rDM+qaOfw6AivI8c3SzMp9pRhPeGMvj8Z6mjlJrVgWLI1+QM5s6yi6BSwFQUZ5nXtks74PMeZntgl9pRrdWrmvqeH+wWPJF2b+px301oLpmtF/8FROel27OnJjZIvhP8pjs3dTzyGDx5AvztaaO5wTADOT5ZqvMUZnPNxu/IvCDzBszewQblcfmz5o6LokemcXOSLNUnsc8PtpXNiJ6R/RAvoHvncOTMvtmdsl4yoGuuDZzVYyenb+wr/ur5+91Uw4nluT/17Ieye6ZHTNrY/T7X+ZRv03aP+r4f9Ejvbq33YzW76+xLsCX8j/cI6LD8tjsFqMNMcpe4S4Z0nWlGShF8g35f/PnAbeT57sv5/CwaN9vjJej74XeTW7LF77sFrhntGtdvuj3jI7KY/L8HE7OmCVM31yWObSrS7HSvmY0aXtdZqto1zfyfbZP9Ejn1wHYiE9G+8qCEjWXk6wm/90n5PCmUPzpp3IfvCykc1DAyE7RfvEvzo2e6WMD8Omoo3MTbvKk+Oc5HB3Qb+Xq3OmNp3UY2T3qaHvfhrnrYwNQa5ZmrTdVFeP5EKcEDMO2mbcF1Puw1rvbTH1sAC7NrI/2PSC65VXhsj/D8uhsfJ8SDN39o33liZPeLbPcuwZgaWnpZzl8P9q3TXTE+FG/wwOG57nB0NU4V38va8vN0TN9vAJQ/Cja16Xn5csGRh71Y4genw3wPYIhq3Guvj56qK8NwA3Rvs5cAUgPDRimMvvbZMBhq9EArIse6msD8NNoX5euAOwcMFxdm69Du2qcq2t8qJy7vjYAQ2eZUIasxiRg6J2+NgD3ivZ16RLQVQHDdWUwZDdG+zq7Euxd6WsDUOPFqvGmquXigGEqG+lcFgxZjXN1l+aATayvDcB20b4uNQAfyfTukRWYwDnjR4EZrhrn6vtFD/WuARg/AvQb0b7O3ALIE2CZsHJawPC8NRi6GufqB2Zt6d3Can28AlB2Aqzxe10R3XJcxjapDMmnsvk9Kxi6GnNA7hY9fLy0jw3AvlHH5dEheSL8Xg4vDBiGH4dVABmpNQdkVfRMHxuAx0YdnZtYlE3A23M4IaDfyi2vw/L9bvIfRa0Pa4+JnuljA3BwtG9dnlyujQ7Kf/exOTwvTAqkn8oGLfvn+7x3W7WybFfH6GmQttWoLXPVqwagaZrdos59mkujw/LkeGoOe2feGRoB+qGc5I/KrMr3d60twOmgfD+UhdBqnLMfnDXm16NHNot+eVbUcVF03HhOwHPyDfxXMdosqNzP2iV6+nwrvXRNjCZ4lU/7F+V7uvcr/uX/1x1y2D2zY2ZtjBb5WjMucty5z2YeFu0rNcZt1UWU/1m+0dTxJwEwA3m+2TpzdOaLmfUbOR9dkTkls2ewUXls/rSpw9WmRZQvzP5NPXYXA6rLc83qzFUTnpduyZyUsfX3HeQx2aup55HBYskX5YNNHdcEQGV5rjm+2fgn/k05P9PLleqWK4/HUubapo7Tg8WRL8jDmuX9x5nEOwKgojzPHNuszAVND1eqW4k8Hv/S1FFqzUOCxZAvxoeaev44ACrJc8xBmVublTsp+JU8Hoc39bgKsAjyhfijpp4bM1sHQAXN6FL1RU07ypwAEwPH8lhsk7mpqefJ0XGdXgcgX4Ctcnhd1POxpaWlLu0CCHRLWVzmUdGOzTMvCm6T5+6yKdDHo57XNaPN5zqr6wsBleK/a9TzrwFQz6HRrkOzKC0FG9TcFXWPzD8Gs9eMHpepqcwgNakGqCbPMV9q2rdHcJs8FltkrmnqenZ0VCevAOQBf3gOb4m6Ts1LSJbNBWraJdpX42d2Up7Db8nhbVFXWZSpk08FdK4BaEbr/X8k6i5h+8vM/wmAuraL9lkT4D97U+bWqOdembOzNu0aHdOpBiAP8M45nJPZOeo6IzvHHwZAXTXu1/dxl9dly3P593P4UNR1/8w54xrVGZ15o+SBLRtilE1Aaj/mUjYYeVUA0BcvjdG5vaa9MhdmrdorOqITDUAe0PKYTNndaRZr8r8nO8avBAC9kOf0i3N4b9S3a6Yszfy70QEL3wDkgfzLHD6d2T7qK/eJ/ncA0DflKsAvo76yhXNZmvmYZsEfyVzYBqDcS8mckX98c2ZWu129JTvFbwUAvZLn9m/n8H9jNjbLvCZzetfmBcxVHqxfK5/6Mz9pZuu6xo5awAw1dRwebFQem22b+usC3NG6ZnQ1YLNYMAtzBSAPzt0yz8o/lns15VP/vWK2/jo7xOsDgF7Kc/yPc/jbmK2yn0y5GvDlrHH/vdS6YCQPxnaZIzLfbubnrACYsaYOVwA2IY/R2c38lFpXal6NNSCmMpcJCvmLl2cm/1vmaZknxezu8W/M2sx+2Rl+LwBmqFSDaN8z8nw2ixnvndWMFu35UuY+MT9llcKyqN37M5/M1+zKmLFqDUAe4PvGaLW+kvJc5N7jHJB5cCyG8p/vsDzwZwbAjGkA5icP/WExKr6LMlP/m5kLx2OZjH5ppuxouC5fz7VRwYonJTSjxxzKlpZlV6tHZ3bK7Bjd8I+KP8Dw5Ln/A1m/TorZzwm4Mw+OO/lwPO4Tr8lclTk/U56QOzd/hxU1kCvqfPIfdVAOJ2Z+O7qndFqPzQP4iwCYA1cA5isP/+YxWmdm/+ie/585Kl/r82OZlv0UQB64I3P4ZHSz+F+eeZriDzBc4xrw1My3o3vKaoOfzlr88limZTUA+Rcen8PJ0c1NJ8pllCfkC391ADBoWQuuy+HJmWuje8pV/JdlTX5lLMPUBTz/otU5/H100w2ZJ+cLflkAQNzWBKyJUROwLrrpJc0yHv+cqgHIv6AsaFA++S/0+sZ3orywf5Qv9BcDAG4na8MXYnQ74MbonlKTT84avdU03zTtFYAjYjTLv2vK6k+Pyxf4UwEAG5E1osxre3yM1ofpmrK+zgun+YZpG4BnRveUe/4H5wv7uQCAu5C14qIYPdI+84V5WrB6mi+euAHISwvl2f6HR7d8I3NgvqBfCQCYQNaMS3L4/RgtyNMlv5W1evtJv3iaKwC7Rbfu/X84s/94cgcATGy8ffDvxGi1wK4oNXq3Sb94mgagK6v7rc+8JEYT/n4SAIurxkJA64NWZA0pT46V2fUvje4c150n/cJpGoB5btgzqe/EaLLfq1e6RCLADNTYgvy6oDWllmTKc/ZPyHw3Ft/EtbqLC/lsTCn2p2Yeli/UuQHQDVdE+2r8zMHL2vKJHPbNnBA9ucrShwag3Kcpn/qfN75cA9AV50W7SvG/PKgia8xNmWNjdDXg0ui4LjcAP8qUF+Ih42c3Abqm7d1Iz3D7s77bXQ14Xqazy8p3sQEon/JfldktX4QTMrcEQDeVW5YXRTvKxjYnBzNRNhLKlFvPe2deHR1cRrhLDUDZB/kVmV3zoB/ncj/QdeNP68dkbo2Ve73Hnmcvj/lPM+XJswdkXpT5fvRN2Wigmb1bM+dlnpnZLAB6KM9vRzcr85nMlsHc5euweeZZmfPHNWzWpt4UaJJfapYNwCWZl2d2D4AByPPdKzPrm+mVD0nbBQsnX5ddMkc2owZtOa/tcnSuAfhB5h2Z/5HZNQAGaHyevWLC8+bNmRMzXVijZfDyddptXOPeOa55tXSqAXhQAHCbPCdulTkq8/lm458aS/F4Y2aPoLNK7WvqmLgBmPt9dZNWZivfHPfO4UkxeoRll8zWAd1wbYwmA5dn5y/Mc0cbE+cWTnnWPIcTS5rRxi7lVmhZir1sUVt+/8s86td9pfbl6xvzZGLdQOQbrWwQUZazLN2hS4Z03bX5ni5F8g15Iv159FT+bmVZX0v7UkVflgLmLuSJ8vkx2hr52aH40w87ZF6b+Vq+v1cFMDUNQM/lybGsW/2mjEeE6KNyH/zCfJ8fFMBUNAA9lifFP8/h6IB+u2fmdBOKYToagJ5qRo9TnhIwDNtm3hbAxDQA/VX2S3DZnyF5dDa+TwlgIhqAHho/6tf+YhCw+J4bwEQ0AP10SJjtzzA9PhvgewSwSRqAfnpowDBtlTEZECagAeinnQOG6wEBbJIGoJ8sE8qQrQ9gkzQA/XRVwHBdGcAmaQD66eKAYSob6VwWwCZpAPrpI5mbA4bnnKWlpZ8FsEkagB7KE+ANOZwWMDxvDWAiGoD+Oi7T221SYSM+lc3vWQFMRAPQU3ki/F4OLwwYhh+HVQBhKhqAHssm4O05nBDQb+WW12H5fjf5D6agAei5PCkem8PzwqRA+mlNZv98n58XwFQ0AAOQJ8dTc9g7887QCNAPV2eOyqzK9/clAUxts2AQxnMCntM0zV/FaLOgVZldMtsEdMM1MVrkp3zavyjf071f8S//v+6Qw+6ZHTNrY7TI15r83a32yYppAAYmTxw/jdEjgh4ThAWURX/rHI7IrM7sl1m6w5dcmV9zZo4n5f/nSwOWyS0AgAWRhb0U/TKvoUzefUT81+Jf3D/zgswl+fUnZWz9zbJoAAAWQBby43N4d2anCb9l88yLMp/I771fwJQ0AABzlgW8PK3z4tj4J/5NOTBzZv6MLQOmoAEAmKMs3AflcHyszAGZ1wRMQQMAMCdZ/Msn/lK42zgXH5E/b8+ACWkAAObn4Myjoh0b5gTARDQAAPNzaLTr0PFVBdgkDQDA/BwY7SqPCO4eMAENAMD87BLtq/Ez6SENAMD8bBftsyYAE9EAAMxPjfv1zutMxBsFAAZIAwAAA6QBAIAB0gAAwABpAABggDQAADBAGgAAGCANAAAMkAYAAAZIAwAAA6QBAIAB0gAAwABpAABggDQAADBAGgAAGCANAAAMkAYAAAZIAwAAA6QBAIAB0gAAzE8T7VsfMAENAMD8XB/tuy5gAhoAgPm5ItpX42fSQxoAgPk5L9pViv/lARPQAADMz5nRrjOWlpZqzCughzQAAPNzbuaiaMcvMicHTEgDADAn40/rx2RujZV7ff68NQET0gAAzFEW7fNzeHGszAWZlwRMQQMAMGfZBLw2h1fF8tYFKA3EU/Nn3BwwBQ0AwALIAn5cDqszV074Lbdk/iHzuPzeHwVMSQMAsCCykL83hz0zf5f5Qmz8isAPM/+U2Se//qjMLQHLsFkAsDCyoN+Uw4klTdNsn+PumR0zazNXZS7zqB9t0AAALKgs9GVZX0v7UoVbAAAwQBoAABggDQAADJAGAAAGSAMAAAOkAQCAAdIAAMAAaQAAYIA0AAAwQNM0AFXWm26a5p4BAAOSte9eUcfEu0JO0wDcEHXsHAAwLA+IOn466RcuQgPw0ACAYXlI1LFu0i+cpgGotd/0HwUADEut2nf9pF+4NOkX5v2Ku+VwY2bLaFe5srDHeNcrAOi1rKc75HBZZpto18/Kz8x6un6SL574CkD+wFtzuDTaVyYBHhcAMAwvjfaLf3HppMW/mPYxwEuijhdmR/TEAIAey1r3pByeH3VMVaOnbQA+HXWU2wvvyQOzXwBAD2WN+60c3h2jmlfDVDV62gbg3KjnPpnz8wAdHgDQI1nbnpnDeZl7Rz2fjJryl/h+U985md8NAOiwrGWPzHysqe/ymNJmMb1y+eLoqOsJJfkLfSfHj8ZotuQ1UWk1QgBoyRaZnTJ7ZA7J7Baz8e4pv37yxwA3yKK8T9SbDAgATG/V0tJS1UmA5XHAr+fwuQAAFsFF0xb/Yrm7AZ4QAMAieE0sw9S3AIq8DVC+76uZVQEAzMtXMvvlFYAmprSsKwDjv+ilAQDM03HLKf7Fsq4AbJBXAj6cw5MDAJi1s7P4PymWaaUNwINyuDhz9wAAZqVs/LNvNgDfiWVa7iTA2+RfvCaHowIAmKUXraT4Fyu6ArBBXgl4Vw7PCgCgttOy+K+OFWqrAShrG38mPBUAADWVJ/AOzAbghlihVhqAIpuA++dwQWbXAADa9oPM72Xx/0G0YEVzAG4v/0FX5lBmI14TAECbrs48rq3iX7TWABT5D/tmDvtnLg0AoA1lp7/HZI39drSo1QagGM9KfHTmCwEArETZe2f/rK2tf7BuvQEo8h9abgMcmHl9ZlkrFAHAwJ0ao0/+10YFrU0CvDNN0/xxDqdkdgwAYFPK/f4XZOE/IyqqcgXg9vIXOD2HvWN0NeDWAAA2Zn2MPvU/uHbxL6pfAbi9vBrwkBxenHlGzKD5AIAOKB+OT8scn4X/kpiRmTYAG2QjsFcOR2aemdk2AGB4fpR5T+Z1NSb5bcpcGoANshHYIoc/yDw9c3Bm5wCA/ipr5nwi8/7MR7Pw3xJzMtcG4I6yIfjNHA6I0ZyBkj0z24xz3wCAxbc2s26c8uz+t8a5cLxeDgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMzn8AR2S/gKAN9vQAAAAASUVORK5CYII=",alt:"ticket"}),(0,Me.jsxs)("div",{children:[a.schedule[n],(0,Me.jsx)("br",{}),(0,Me.jsx)("span",{className:"special-char",children:" & "}),a.tickets[n]]})]}),(0,Me.jsxs)("article",{children:[(0,Me.jsxs)("h1",{children:["The ",(0,Me.jsx)("br",{}),"Sustainable ",(0,Me.jsx)("br",{}),"Innovation ",(0,Me.jsx)("br",{}),"Challenge ",(0,Me.jsx)("br",{}),(0,Me.jsx)("img",{className:"first-page-logo",src:Fe,alt:"epfl logo"})]}),(0,Me.jsxs)("p",{children:[a["sic-presentation"][n],(0,Me.jsx)("br",{}),(0,Me.jsx)("strong",{children:a.date[n]}),(0,Me.jsx)("br",{}),(0,Me.jsx)("strong",{children:"EPFL Rolex Learning Center"})]})]})]}),(0,Me.jsx)("section",{className:"sic-presentation",children:(0,Me.jsxs)("div",{className:"poster",children:[(0,Me.jsx)("img",{src:"EN"===n?Ne:Oe,alt:a["event-poster"][n]}),(0,Me.jsx)(_e,{className:"our-chart-link",to:a["our-chart-link"].to,children:a["our-chart-link"][n]}),(0,Me.jsx)(_e,{className:"event-schedule-link",to:a["event-schedule-link"].to,children:a["event-schedule-link"][n]}),(0,Me.jsx)(_e,{className:"event-activities-link",to:a["event-activities-link"].to,children:a["event-activities-link"][n]}),(0,Me.jsx)(_e,{className:"event-challenge-link",to:a["event-challenge-link"].to,children:a["event-challenge-link"][n]})]})}),(0,Me.jsxs)("section",{className:"partners",children:[(0,Me.jsx)("hr",{}),(0,Me.jsxs)("h2",{children:[" ",a["principal-partners"][n]," "]}),(0,Me.jsx)("div",{className:"gallery",children:ze.map((e=>(0,Me.jsx)("a",{href:e.link,children:(0,Me.jsx)("img",{src:e.logo,alt:e.name})},"principal partner"+e.name)))}),(0,Me.jsxs)("h2",{children:[" ",a["partner-other"][n]," "]}),(0,Me.jsx)("div",{className:"gallery",children:Ve.map((e=>(0,Me.jsx)("a",{href:e.link,children:(0,Me.jsx)("img",{src:e.logo,alt:e.name})},"partner"+e.name)))}),(0,Me.jsxs)("h2",{children:[" ",a["partner-association"][n]," "]}),(0,Me.jsx)("div",{className:"gallery",children:Ye.map((e=>(0,Me.jsx)("a",{href:e.link,children:(0,Me.jsx)("img",{src:e.logo,alt:e.name})},"sponsor"+e.name)))})]}),(0,Me.jsx)(Ie,{saveAndChangeLang:s,lang:n})]})},Ze=n.p+"static/media/person_linkedin.cf6e0f1e7f20f65cee47.png",Je=n.p+"static/media/person_link.7a0314692013673634a8.png",et=n.p+"static/media/default_user.01ea793213b0728e3892.png";const tt=function(e){let{lang:t,profileData:n}=e;return(0,Me.jsxs)("div",{className:"profile-block",children:[(0,Me.jsx)("img",{alt:"profile",src:n["profile-picture"]||et}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:n.name}),(0,Me.jsx)("br",{}),n.role[t]]}),(0,Me.jsxs)("div",{className:"profile-links",children:[n.people_epfl&&(0,Me.jsx)("a",{href:n.people_epfl,children:(0,Me.jsx)("img",{alt:"external link icon",src:Je})}),n.linkedin&&(0,Me.jsx)("a",{href:n.linkedin,children:(0,Me.jsx)("img",{alt:"linkedin icon",src:Ze})})]})]})},nt=n.p+"static/media/ecenaz.436f5ec00be2a6890241.png",it=n.p+"static/media/leo.32b3b7d405da51df695e.png",st=n.p+"static/media/selin.4b59e760e20f7323fd4d.png",rt=n.p+"static/media/isaure.18e2e581dfd082809189.png",at=n.p+"static/media/hadrien.420985ae27a665837ed4.png",ot=n.p+"static/media/cyril.23ca97a057a4a7356275.png",lt=n.p+"static/media/basile.728547be9c40c6c3d3fe.png",ct=n.p+"static/media/stelios.57af46cc7aaa0e654aa3.png",dt=[{"category-name":{FR:"Pr\xe9sidence",EN:"Presidency"},"category-members":[{name:"Victor Pennacino","profile-picture":n.p+"static/media/victor.fc3e82c7ce873d1e25dd.png",role:{FR:"Pr\xe9sident",EN:"President"},linkedin:"https://www.linkedin.com/in/victor-pennacino/",people_epfl:"https://people.epfl.ch/victor.pennacino"}]},{"category-name":{FR:"Equipe comp\xe9tition",EN:"Competition Team"},"category-members":[{name:"Cyril Barthelet","profile-picture":ot,role:{FR:"Chef d'\xe9quipe",EN:"Team Leader"},linkedin:"https://www.linkedin.com/in/cyril-barthelet/",people_epfl:"https://people.epfl.ch/cyril.barthelet"},{name:"Hadrien Legros","profile-picture":at,role:{FR:"Chef d'\xe9quipe",EN:"Team Leader"},linkedin:"https://www.linkedin.com/in/hadrien-legros/",people_epfl:"https://people.epfl.ch/hadrien.legros"},{name:"Nathan Heiniger","profile-picture":null,role:{FR:"Tr\xe9sorier - Charte de durabilit\xe9",EN:"Treasurer - Sustainability charter"},linkedin:"https://www.linkedin.com/in/nathan-heiniger-84298a330/",people_epfl:"https://people.epfl.ch/nathan.heiniger"},{name:"Isaure Imberton","profile-picture":rt,role:{FR:"Contact mentor",EN:"Mentor outreach"},linkedin:"https://www.linkedin.com/in/isaure-imberton-6b45761bb/",people_epfl:"https://people.epfl.ch/isaure.imberton"},{name:"Selin Kandiyoti","profile-picture":st,role:{FR:"Charte de durabilit\xe9",EN:"Sustainability charter"},linkedin:"https://www.linkedin.com/in/passiontomaketheworldabetterplace/",people_epfl:"https://people.epfl.ch/selin.kandiyotieskenazi"},{name:"Stelios Lemos","profile-picture":ct,role:{FR:"Contact universit\xe9",EN:"University outreach"},linkedin:"https://www.linkedin.com/in/stelioslemos/",people_epfl:"https://people.epfl.ch/stelios.lemos"},{name:"Laur\xe8ne Tribolet","profile-picture":n.p+"static/media/laurene.c3a1ebd55fab7c9e5d3f.png",role:{FR:"Contact jury",EN:"Jury outreach"},linkedin:"https://www.linkedin.com/in/laurene-tribolet/?original_referer=https://www.google.com/&originalSubdomain=ch",people_epfl:"https://people.epfl.ch/laurene.tribolet"}]},{"category-name":{FR:"Equipe expo",EN:"Expo Team"},"category-members":[{name:"Ilaria Rossinelli","profile-picture":null,role:{FR:"Cheffe d'\xe9quipe",EN:"Team Leader"},linkedin:"",people_epfl:"https://people.epfl.ch/ilaria.rossinelli"},{name:"Aymeric De Chillaz","profile-picture":null,role:{FR:"Chef d'\xe9quipe",EN:"Team Leader"},linkedin:"https://www.linkedin.com/in/aymeric-de-chillaz-7478801a5/",people_epfl:"https://people.epfl.ch/aymeric.dechillaz"},{name:"William Oh","profile-picture":null,role:{FR:"Contact entreprises",EN:"Company outreach"},linkedin:"https://www.linkedin.com/in/william-oh-/",people_epfl:"https://people.epfl.ch/william.oh"},{name:"Alexander Odermatt","profile-picture":null,role:{FR:"Contact laboratoires",EN:"Laboratory outreach"},linkedin:"https://www.linkedin.com/in/alexander-odermatt-87b450234/",people_epfl:"https://people.epfl.ch/alexander.odermatt"},{name:"Arthur Removille","profile-picture":null,role:{FR:"Secr\xe9taire - Intervenants & tables rondes",EN:"Secretary - Speakers & panels"},linkedin:"https://www.linkedin.com/in/arthur-removille-48688931a/",people_epfl:"https://people.epfl.ch/arthur.removille"},{name:"Pablo Palle","profile-picture":null,role:{FR:"Contact entreprises",EN:"Company outreach"},linkedin:"https://www.linkedin.com/in/pablo-palle-b02835256/",people_epfl:"https://people.epfl.ch/pablo.palle"},{name:"Dimitri Wybaillie","profile-picture":null,role:{FR:"Contact entreprises",EN:"Company outreach"},linkedin:"https://www.linkedin.com/in/dimitri-wybaillie-159ba2264/",people_epfl:"https://people.epfl.ch/dimitri.wybaillie"},{name:"Leo Meier","profile-picture":it,role:{FR:"Tr\xe9sorier - Intervenants & tables rondes",EN:"Treasurer - Speakers & panels"},linkedin:"",people_epfl:"https://people.epfl.ch/louise.meier"},{name:"Basile Costes","profile-picture":lt,role:{FR:"Contact entreprises",EN:"Company outreach"},linkedin:"https://www.linkedin.com/in/basile-costes-5087b2180/",people_epfl:"https://people.epfl.ch/basile.costes"}]},{"category-name":{FR:"Equipe communication",EN:"Communication Team"},"category-members":[{name:"Ecenaz Ozkorkut","profile-picture":nt,role:{FR:"Cheffe d'\xe9quipe - Identit\xe9 graphique",EN:"Team Leader - Graphical identity"},linkedin:"https://www.linkedin.com/in/ecenaz-%C3%B6zkorkut-4ab507329/",people_epfl:"https://people.epfl.ch/ecenaz.ozkorkut"},{name:"Killian Hinard","profile-picture":null,role:{FR:"Webmaster",EN:"Webmaster"},linkedin:"",people_epfl:"https://people.epfl.ch/killian.hinard"},{name:"Elo\xefse Pennacino","profile-picture":null,role:{FR:"Graphismes",EN:"Graphismes"},linkedin:"",people_epfl:"https://people.epfl.ch/eloise.pennacino"}]},{"category-name":{FR:"Autre",EN:"Other"},"category-members":[{name:"Joris Zufferey","profile-picture":null,role:{FR:"Contact Mediacom",EN:"Mediacom contact"},linkedin:"https://www.linkedin.com/in/joriszufferey/",people_epfl:"https://people.epfl.ch/joris.zufferey"}]}];const ut=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,r.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}return(0,r.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"membres":"members")+" | EPFL Sustainable Innovation Challenge"}),[]),(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsx)("main",{children:dt.map((e=>(0,Me.jsxs)("div",{className:"profile-per-category",children:[(0,Me.jsxs)("div",{className:"category-header",children:[(0,Me.jsx)("div",{className:"stripes"}),(0,Me.jsxs)("h2",{children:[" ",e["category-name"][n]," "]}),(0,Me.jsx)("div",{className:"stripes"})]}),(0,Me.jsx)("div",{className:"profile-gallery",children:e["category-members"].map(((e,t)=>(0,Me.jsx)(tt,{lang:n,profileData:e},`${t}${n}`)))})]},`category-div-${e["category-name"][n]}`)))})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})})};var ht={d:(e,t)=>{for(var n in t)ht.o(t,n)&&!ht.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},pt=globalThis.pdfjsLib={};ht.d(pt,{AbortException:()=>kn,AnnotationEditorLayer:()=>ka,AnnotationEditorParamsType:()=>_t,AnnotationEditorType:()=>kt,AnnotationEditorUIManager:()=>Ti,AnnotationLayer:()=>fa,AnnotationMode:()=>Ct,CMapCompressionType:()=>on,ColorPicker:()=>xa,DOMSVGFactory:()=>ni,DrawLayer:()=>_a,FeatureTest:()=>Mn,GlobalWorkerOptions:()=>ys,ImageKind:()=>Ft,InvalidPDFException:()=>xn,MissingPDFException:()=>En,OPS:()=>ln,Outliner:()=>va,PDFDataRangeTransport:()=>wr,PDFDateString:()=>fi,PDFWorker:()=>kr,PasswordResponses:()=>cn,PermissionFlag:()=>Tt,PixelsPerInch:()=>Zn,RenderingCancelledException:()=>si,TextLayer:()=>cr,UnexpectedResponseException:()=>Sn,Util:()=>Ln,VerbosityLevel:()=>an,XfaLayer:()=>Or,build:()=>Dr,createValidAbsoluteUrl:()=>vn,fetchData:()=>Jn,getDocument:()=>br,getFilenameFromUrl:()=>oi,getPdfFilenameFromUrl:()=>li,getXfaPageViewport:()=>gi,isDataScheme:()=>ri,isPdfFile:()=>ai,noContextMenu:()=>ui,normalizeUnicode:()=>Fn,renderTextLayer:()=>dr,setLayerDimensions:()=>yi,shadow:()=>bn,updateTextLayer:()=>ur,version:()=>Lr});const ft="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),gt=[1,0,0,1,0,0],mt=[.001,0,0,.001,0,0],vt=1.35,bt=1,yt=2,At=4,wt=16,xt=32,Et=64,St=256,Ct={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},kt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},_t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Tt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Pt=0,Mt=1,Rt=2,Lt=3,Dt=3,It=4,Ft={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Nt=1,Ot=2,jt=3,zt=4,Bt=5,Ht=6,Ut=7,Wt=8,Vt=9,Gt=10,qt=11,$t=12,Xt=13,Kt=14,Yt=15,Qt=16,Zt=17,Jt=20,en=1,tn=2,nn=3,sn=4,rn=5,an={ERRORS:0,WARNINGS:1,INFOS:5},on={NONE:0,BINARY:1},ln={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},cn={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let dn=an.WARNINGS;function un(e){Number.isInteger(e)&&(dn=e)}function hn(){return dn}function pn(e){dn>=an.INFOS&&console.log(`Info: ${e}`)}function fn(e){dn>=an.WARNINGS&&console.log(`Warning: ${e}`)}function gn(e){throw new Error(e)}function mn(e,t){e||gn(t)}function vn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);t?.length>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch{}}const i=t?new URL(e,t):new URL(e);if(function(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch{}return null}function bn(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const yn=function(){function e(t,n){this.constructor===e&&gn("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class An extends yn{constructor(e,t){super(e,"PasswordException"),this.code=t}}class wn extends yn{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class xn extends yn{constructor(e){super(e,"InvalidPDFException")}}class En extends yn{constructor(e){super(e,"MissingPDFException")}}class Sn extends yn{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class Cn extends yn{constructor(e){super(e,"FormatError")}}class kn extends yn{constructor(e){super(e,"AbortException")}}function _n(e){"object"===typeof e&&void 0!==e?.length||gn("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const i=[];for(let s=0;s<t;s+=n){const r=Math.min(s+n,t),a=e.subarray(s,r);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function Tn(e){"string"!==typeof e&&gn("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let i=0;i<t;++i)n[i]=255&e.charCodeAt(i);return n}function Pn(e){const t=Object.create(null);for(const[n,i]of e)t[n]=i;return t}class Mn{static get isLittleEndian(){return bn(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return bn(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return bn(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){return"undefined"!==typeof navigator&&"string"===typeof navigator?.platform?bn(this,"platform",{isMac:navigator.platform.includes("Mac")}):bn(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return bn(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Rn=Array.from(Array(256).keys(),(e=>e.toString(16).padStart(2,"0")));class Ln{static makeHexColor(e,t,n){return`#${Rn[e]}${Rn[t]}${Rn[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),r=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],i[0],s[0],r[0]),Math.min(n[1],i[1],s[1],r[1]),Math.max(n[0],i[0],s[0],r[0]),Math.max(n[1],i[1],s[1],r[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],r=e[2]*t[1]+e[3]*t[3],a=(n+r)/2,o=Math.sqrt((n+r)**2-4*(n*r-s*i))/2,l=a+o||1,c=a-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),r=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>r?null:[n,s,i,r]}static#e(e,t,n,i,s,r,a,o,l,c){if(l<=0||l>=1)return;const d=1-l,u=l*l,h=u*l,p=d*(d*(d*e+3*l*t)+3*u*n)+h*i,f=d*(d*(d*s+3*l*r)+3*u*a)+h*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],f),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],f)}static#t(e,t,n,i,s,r,a,o,l,c,d,u){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&this.#e(e,t,n,i,s,r,a,o,-d/c,u));const h=c**2-4*d*l;if(h<0)return;const p=Math.sqrt(h),f=2*l;this.#e(e,t,n,i,s,r,a,o,(-c+p)/f,u),this.#e(e,t,n,i,s,r,a,o,(-c-p)/f,u)}static bezierBoundingBox(e,t,n,i,s,r,a,o,l){return l?(l[0]=Math.min(l[0],e,a),l[1]=Math.min(l[1],t,o),l[2]=Math.max(l[2],e,a),l[3]=Math.max(l[3],t,o)):l=[Math.min(e,a),Math.min(t,o),Math.max(e,a),Math.max(t,o)],this.#t(e,n,s,a,t,i,r,o,3*(3*(n-s)-e+a),6*(e-2*n+s),3*(n-e),l),this.#t(e,n,s,a,t,i,r,o,3*(3*(i-r)-t+o),6*(t-2*i+r),3*(i-t),l),l}}let Dn=null,In=null;function Fn(e){return Dn||(Dn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,In=new Map([["\ufb05","\u017ft"]])),e.replaceAll(Dn,((e,t,n)=>t?t.normalize("NFKC"):In.get(n)))}const Nn="pdfjs_internal_id_",On=0,jn=1,zn=2,Bn=3,Hn=4,Un=5,Wn=6,Vn=7,Gn=8;class qn{constructor(){this.constructor===qn&&gn("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,s){return"none"}destroy(){}}class $n{#n=!1;constructor(){let{enableHWA:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.constructor===$n&&gn("Cannot initialize BaseCanvasFactory."),this.#n=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#n})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){gn("Abstract method `_createCanvas` called.")}}class Xn{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.constructor===Xn&&gn("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":""),i=this.isCompressed?on.BINARY:on.NONE;return this._fetchData(n,i).catch((e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)}))}_fetchData(e,t){gn("Abstract method `_fetchData` called.")}}class Kn{constructor(e){let{baseUrl:t=null}=e;this.constructor===Kn&&gn("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetchData(n).catch((e=>{throw new Error(`Unable to load font data at: ${n}`)}))}_fetchData(e){gn("Abstract method `_fetchData` called.")}}class Yn{constructor(){this.constructor===Yn&&gn("Cannot initialize BaseSVGFactory.")}create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){gn("Abstract method `_createSVG` called.")}}const Qn="http://www.w3.org/2000/svg";class Zn{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=(()=>this.CSS/this.PDF)()}async function Jn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(di(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,i)=>{const s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE)if(200!==s.status&&0!==s.status)i(new Error(s.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(s.response)}n(s.responseText)}},s.send(null)}))}class ei extends Xn{_fetchData(e,t){return Jn(e,this.isCompressed?"arraybuffer":"text").then((e=>({cMapData:e instanceof ArrayBuffer?new Uint8Array(e):Tn(e),compressionType:t})))}}class ti extends Kn{_fetchData(e){return Jn(e,"arraybuffer").then((e=>new Uint8Array(e)))}}class ni extends Yn{_createSVG(e){return document.createElementNS(Qn,e)}}class ii{constructor(e){let{viewBox:t,scale:n,rotation:i,offsetX:s=0,offsetY:r=0,dontFlip:a=!1}=e;this.viewBox=t,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=r;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,d,u,h,p,f,g,m;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,d=0,u=0,h=1;break;case 90:c=0,d=1,u=1,h=0;break;case 270:c=0,d=-1,u=-1,h=0;break;case 0:c=1,d=0,u=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(u=-u,h=-h),0===c?(p=Math.abs(l-t[1])*n+s,f=Math.abs(o-t[0])*n+r,g=(t[3]-t[1])*n,m=(t[2]-t[0])*n):(p=Math.abs(o-t[0])*n+s,f=Math.abs(l-t[1])*n+r,g=(t[2]-t[0])*n,m=(t[3]-t[1])*n),this.transform=[c*n,d*n,u*n,h*n,p-c*n*o-u*n*l,f-d*n*o-h*n*l],this.width=g,this.height=m}get rawDims(){const{viewBox:e}=this;return bn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ii({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return Ln.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Ln.applyTransform([e[0],e[1]],this.transform),n=Ln.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return Ln.applyInverseTransform([e,t],this.transform)}}class si extends yn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function ri(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function ai(e){return"string"===typeof e&&/\.pdf$/i.test(e)}function oi(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function li(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(ri(e))return fn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let s=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||t}class ci{started=(()=>Object.create(null))();times=[];time(e){e in this.started&&fn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||fn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-i}ms\n`);return e.join("")}}function di(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch{return!1}}function ui(e){e.preventDefault()}function hi(e){console.log("Deprecated API usage: "+e)}let pi;class fi{static toDateObject(e){if(!e||"string"!==typeof e)return null;pi||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=pi.exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let r=parseInt(t[4],10);r=r>=0&&r<=23?r:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(r+=c,a+=d):"+"===l&&(r-=c,a-=d),new Date(Date.UTC(n,i,s,r,a,o))}}function gi(e,t){let{scale:n=1,rotation:i=0}=t;const{width:s,height:r}=e.attributes.style,a=[0,0,parseInt(s),parseInt(r)];return new ii({viewBox:a,scale:n,rotation:i})}function mi(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):(fn(`Not a valid color format: "${e}"`),[0,0,0])}function vi(e){const{a:t,b:n,c:i,d:s,e:r,f:a}=e.getTransform();return[t,n,i,s,r,a]}function bi(e){const{a:t,b:n,c:i,d:s,e:r,f:a}=e.getTransform().invertSelf();return[t,n,i,s,r,a]}function yi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof ii){const{pageWidth:i,pageHeight:s}=t.rawDims,{style:r}=e,a=Mn.isCSSRoundSupported,o=`var(--scale-factor) * ${i}px`,l=`var(--scale-factor) * ${s}px`,c=a?`round(${o}, 1px)`:`calc(${o})`,d=a?`round(${l}, 1px)`:`calc(${l})`;n&&t.rotation%180!==0?(r.width=d,r.height=c):(r.width=c,r.height=d)}i&&e.setAttribute("data-main-rotation",t.rotation)}class Ai{#i=null;#s=null;#r;#a=null;constructor(e){this.#r=e}render(){const e=this.#i=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#r._uiManager._signal;e.addEventListener("contextmenu",ui,{signal:t}),e.addEventListener("pointerdown",Ai.#o,{signal:t});const n=this.#a=document.createElement("div");n.className="buttons",e.append(n);const i=this.#r.toolbarPosition;if(i){const{style:t}=e,n="ltr"===this.#r._uiManager.direction?1-i[0]:i[0];t.insetInlineEnd=100*n+"%",t.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return this.#l(),e}static#o(e){e.stopPropagation()}#c(e){this.#r._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#d(e){this.#r._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#u(e){const t=this.#r._uiManager._signal;e.addEventListener("focusin",this.#c.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ui,{signal:t})}hide(){this.#i.classList.add("hidden"),this.#s?.hideDropdown()}show(){this.#i.classList.remove("hidden")}#l(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#r.editorType}-button`),this.#u(e),e.addEventListener("click",(e=>{this.#r._uiManager.delete()}),{signal:this.#r._uiManager._signal}),this.#a.append(e)}get#h(){const e=document.createElement("div");return e.className="divider",e}addAltTextButton(e){this.#u(e),this.#a.prepend(e,this.#h)}addColorPicker(e){this.#s=e;const t=e.renderButton();this.#u(t),this.#a.prepend(t,this.#h)}remove(){this.#i.remove(),this.#s?.destroy(),this.#s=null}}class wi{#a=null;#i=null;#p;constructor(e){this.#p=e}#f(){const e=this.#i=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ui,{signal:this.#p._signal});const t=this.#a=document.createElement("div");return t.className="buttons",e.append(t),this.#g(),e}#m(e,t){let n=0,i=0;for(const s of e){const e=s.y+s.height;if(e<n)continue;const r=s.x+(t?s.width:0);e>n?(i=r,n=e):t?r>i&&(i=r):r<i&&(i=r)}return[t?1-i:i,n]}show(e,t,n){const[i,s]=this.#m(t,n),{style:r}=this.#i||=this.#f();e.append(this.#i),r.insetInlineEnd=100*i+"%",r.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#i.remove()}#g(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#p._signal;e.addEventListener("contextmenu",ui,{signal:n}),e.addEventListener("click",(()=>{this.#p.highlightSelection("floating_button")}),{signal:n}),this.#a.append(e)}}function xi(e,t,n){for(const i of n)t.addEventListener(i,e[i].bind(e))}class Ei{#v=0;get id(){return"pdfjs_internal_editor_"+this.#v++}}class Si{#b=(()=>function(){if("undefined"!==typeof crypto&&"function"===typeof crypto?.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof crypto?.getRandomValues)crypto.getRandomValues(e);else for(let t=0;t<32;t++)e[t]=Math.floor(255*Math.random());return _n(e)}())();#v=0;#y=null;static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return bn(this,"_isSVGFittingCanvas",t.decode().then((()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]))))}async#A(e,t){this.#y||=new Map;let n=this.#y.get(e);if(null===n)return null;if(n?.bitmap)return n.refCounter+=1,n;try{let e;if(n||={bitmap:null,id:`image_${this.#b}_${this.#v++}`,refCounter:0,isSvg:!1},"string"===typeof t?(n.url=t,e=await Jn(t,"blob")):e=n.file=t,"image/svg+xml"===e.type){const t=Si._isSVGFittingCanvas,i=new FileReader,s=new Image,r=new Promise(((e,r)=>{s.onload=()=>{n.bitmap=s,n.isSvg=!0,e()},i.onload=async()=>{const e=n.svgUrl=i.result;s.src=await t?`${e}#svgView(preserveAspectRatio(none))`:e},s.onerror=i.onerror=r}));i.readAsDataURL(e),await r}else n.bitmap=await createImageBitmap(e);n.refCounter=1}catch(i){console.error(i),n=null}return this.#y.set(e,n),n&&this.#y.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:i,type:s}=e;return this.#A(`${t}_${n}_${i}_${s}`,e)}async getFromUrl(e){return this.#A(e,e)}async getFromId(e){this.#y||=new Map;const t=this.#y.get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=this.#y.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#y||=new Map;const t=this.#y.get(e);t&&(t.refCounter-=1,0===t.refCounter&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${this.#b}_`)}}class Ci{#w=[];#x=!1;#E;#S=-1;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;this.#E=e}add(e){let{cmd:t,undo:n,post:i,mustExec:s,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}=e;if(s&&t(),this.#x)return;const l={cmd:t,undo:n,post:i,type:r};if(-1===this.#S)return this.#w.length>0&&(this.#w.length=0),this.#S=0,void this.#w.push(l);if(a&&this.#w[this.#S].type===r)return o&&(l.undo=this.#w[this.#S].undo),void(this.#w[this.#S]=l);const c=this.#S+1;c===this.#E?this.#w.splice(0,1):(this.#S=c,c<this.#w.length&&this.#w.splice(c)),this.#w.push(l)}undo(){if(-1===this.#S)return;this.#x=!0;const{undo:e,post:t}=this.#w[this.#S];e(),t?.(),this.#x=!1,this.#S-=1}redo(){if(this.#S<this.#w.length-1){this.#S+=1,this.#x=!0;const{cmd:e,post:t}=this.#w[this.#S];e(),t?.(),this.#x=!1}}hasSomethingToUndo(){return-1!==this.#S}hasSomethingToRedo(){return this.#S<this.#w.length-1}destroy(){this.#w=null}}class ki{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Mn.platform;for(const[n,i,s={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:i,options:s}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:i,options:s}),this.allKeys.add(e.split("+").at(-1)))}}#C(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#C(t));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:r=[],checker:a=null}}=n;a&&!a(e,t)||(i.bind(e,...r,t)(),s||(t.stopPropagation(),t.preventDefault()))}}class _i{static _colorsMapping=(()=>new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]))();get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const i=window.getComputedStyle(t).color;e.set(n,mi(i))}t.remove()}(e),bn(this,"_colors",e)}convert(e){const t=mi(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every(((e,n)=>e===t[n])))return _i._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Ln.makeHexColor(...t):e}}class Ti{#k=(()=>new AbortController)();#_=null;#T=(()=>new Map)();#P=(()=>new Map)();#M=null;#R=null;#L=null;#D=(()=>new Ci)();#I=0;#F=(()=>new Set)();#N=null;#O=null;#j=(()=>new Set)();#z=!1;#B=null;#H=null;#U=null;#W=!1;#V=null;#G=(()=>new Ei)();#q=!1;#$=!1;#X=null;#K=null;#Y=null;#Q=(()=>kt.NONE)();#Z=(()=>new Set)();#J=null;#ee=null;#te=null;#ne=this.blur.bind(this);#ie=this.focus.bind(this);#se=this.copy.bind(this);#re=this.cut.bind(this);#ae=this.paste.bind(this);#oe=this.keydown.bind(this);#le=this.keyup.bind(this);#ce=this.onEditingAction.bind(this);#de=this.onPageChanging.bind(this);#ue=this.onScaleChanging.bind(this);#he=this.onRotationChanging.bind(this);#pe={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#fe=[0,0];#ge=null;#me=null;#ve=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Ti.prototype,t=e=>e.#me.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,t)=>{let{target:n}=t;if(n instanceof HTMLInputElement){const{type:e}=n;return"text"!==e&&"number"!==e}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return bn(this,"_keyboardManager",new ki([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&e.#me.contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&e.#me.contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,n,i,s,r,a,o,l){this._signal=this.#k.signal,this.#me=e,this.#ve=t,this.#M=n,this._eventBus=i,this._eventBus._on("editingaction",this.#ce),this._eventBus._on("pagechanging",this.#de),this._eventBus._on("scalechanging",this.#ue),this._eventBus._on("rotationchanging",this.#he),this.#be(),this.#ye(),this.#Ae(),this.#R=s.annotationStorage,this.#B=s.filterFactory,this.#ee=r,this.#U=a||null,this.#z=o,this.#Y=l||null,this.viewParameters={realScale:Zn.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#k?.abort(),this.#k=null,this._signal=null,this._eventBus._off("editingaction",this.#ce),this._eventBus._off("pagechanging",this.#de),this._eventBus._off("scalechanging",this.#ue),this._eventBus._off("rotationchanging",this.#he);for(const e of this.#P.values())e.destroy();this.#P.clear(),this.#T.clear(),this.#j.clear(),this.#_=null,this.#Z.clear(),this.#D.destroy(),this.#M?.destroy(),this.#V?.hide(),this.#V=null,this.#H&&(clearTimeout(this.#H),this.#H=null),this.#ge&&(clearTimeout(this.#ge),this.#ge=null)}async mlGuess(e){return this.#Y?.guess(e)||null}get hasMLManager(){return!!this.#Y}get hcmFilter(){return bn(this,"hcmFilter",this.#ee?this.#B.addHCMFilter(this.#ee.foreground,this.#ee.background):"none")}get direction(){return bn(this,"direction",getComputedStyle(this.#me).direction)}get highlightColors(){return bn(this,"highlightColors",this.#U?new Map(this.#U.split(",").map((e=>e.split("=").map((e=>e.trim()))))):null)}get highlightColorNames(){return bn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(e=>e.reverse()))):null)}setMainHighlightColorPicker(e){this.#K=e}editAltText(e){this.#M?.editAltText(this,e)}onPageChanging(e){let{pageNumber:t}=e;this.#I=t-1}focusMainContainer(){this.#me.focus()}findParent(e,t){for(const n of this.#P.values()){const{x:i,y:s,width:r,height:a}=n.div.getBoundingClientRect();if(e>=i&&e<=i+r&&t>=s&&t<=s+a)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#ve.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#j.add(e)}removeShouldRescale(e){this.#j.delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*Zn.PDF_TO_CSS_UNITS;for(const n of this.#j)n.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}#we(e){let{anchorNode:t}=e;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}highlightSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:r}=t,a=t.toString(),o=this.#we(t).closest(".textLayer"),l=this.getSelectionBoxes(o);if(l){t.empty(),this.#Q===kt.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:kt.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const t of this.#P.values())if(t.hasTextLayer(o)){t.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:r,text:a});break}}}#xe(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=this.#we(e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(this.#V||=new wi(this),this.#V.show(t,n,"ltr"===this.direction))}addToAnnotationStorage(e){e.isEmpty()||!this.#R||this.#R.has(e.id)||this.#R.setValue(e.id,e)}#Ee(){const e=document.getSelection();if(!e||e.isCollapsed)return void(this.#J&&(this.#V?.hide(),this.#J=null,this.#Se({hasSelectedText:!1})));const{anchorNode:t}=e;if(t===this.#J)return;if(this.#we(e).closest(".textLayer")){if(this.#V?.hide(),this.#J=t,this.#Se({hasSelectedText:!0}),(this.#Q===kt.HIGHLIGHT||this.#Q===kt.NONE)&&(this.#Q===kt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#W=this.isShiftKeyDown,!this.isShiftKeyDown)){const e=this._signal,t=e=>{"pointerup"===e.type&&0!==e.button||(window.removeEventListener("pointerup",t),window.removeEventListener("blur",t),"pointerup"===e.type&&this.#Ce("main_toolbar"))};window.addEventListener("pointerup",t,{signal:e}),window.addEventListener("blur",t,{signal:e})}}else this.#J&&(this.#V?.hide(),this.#J=null,this.#Se({hasSelectedText:!1}))}#Ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.#Q===kt.HIGHLIGHT?this.highlightSelection(e):this.#z&&this.#xe()}#be(){document.addEventListener("selectionchange",this.#Ee.bind(this),{signal:this._signal})}#ke(){const e=this._signal;window.addEventListener("focus",this.#ie,{signal:e}),window.addEventListener("blur",this.#ne,{signal:e})}#_e(){window.removeEventListener("focus",this.#ie),window.removeEventListener("blur",this.#ne)}blur(){if(this.isShiftKeyDown=!1,this.#W&&(this.#W=!1,this.#Ce("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#Z)if(t.div.contains(e)){this.#X=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#X)return;const[e,t]=this.#X;this.#X=null,t.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),t.focus()}#Ae(){const e=this._signal;window.addEventListener("keydown",this.#oe,{signal:e}),window.addEventListener("keyup",this.#le,{signal:e})}#Te(){window.removeEventListener("keydown",this.#oe),window.removeEventListener("keyup",this.#le)}#Pe(){const e=this._signal;document.addEventListener("copy",this.#se,{signal:e}),document.addEventListener("cut",this.#re,{signal:e}),document.addEventListener("paste",this.#ae,{signal:e})}#Me(){document.removeEventListener("copy",this.#se),document.removeEventListener("cut",this.#re),document.removeEventListener("paste",this.#ae)}#ye(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#Ae(),this.#Pe()}removeEditListeners(){this.#Te(),this.#Me()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#O)if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#O)if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){if(e.preventDefault(),this.#_?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#Z){const e=n.serialize(!0);e&&t.push(e)}0!==t.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const e of this.#O)if(e.isHandlingMimeForPasting(r.type))return void e.paste(r,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){return void fn(`paste: "${s.message}".`)}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const e=[];for(const r of n){const t=i.deserialize(r);if(!t)return;e.push(t)}const t=()=>{for(const t of e)this.#Re(t);this.#Le(e)},s=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:s,mustExec:!0})}catch(s){fn(`paste: "${s.message}".`)}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),this.#Q===kt.NONE||this.isEditorHandlingKeyboard||Ti._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,this.#W&&(this.#W=!1,this.#Ce("main_toolbar")))}onEditingAction(e){let{name:t}=e;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu")}}#Se(e){Object.entries(e).some((e=>{let[t,n]=e;return this.#pe[t]!==n}))&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#pe,e)}),this.#Q===kt.HIGHLIGHT&&!1===e.hasSelectedEditor&&this.#De([[_t.HIGHLIGHT_FREE,!0]]))}#De(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ke(),this.#Pe(),this.#Se({isEditing:this.#Q!==kt.NONE,isEmpty:this.#Ie(),hasSomethingToUndo:this.#D.hasSomethingToUndo(),hasSomethingToRedo:this.#D.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#_e(),this.#Me(),this.#Se({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#O){this.#O=e;for(const e of this.#O)this.#De(e.defaultPropertiesToUpdate)}}getId(){return this.#G.id}get currentLayer(){return this.#P.get(this.#I)}getLayer(e){return this.#P.get(e)}get currentPageIndex(){return this.#I}addLayer(e){this.#P.set(e.pageIndex,e),this.#q?e.enable():e.disable()}removeLayer(e){this.#P.delete(e.pageIndex)}updateMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.#Q!==e){if(this.#Q=e,e===kt.NONE)return this.setEditingState(!1),void this.#Fe();this.setEditingState(!0),this.#Ne(),this.unselectAll();for(const t of this.#P.values())t.updateMode(e);if(t||!n){if(t)for(const e of this.#T.values())if(e.annotationElementId===t){this.setSelected(e),e.enterInEditMode();break}}else this.addNewEditorFromKeyboard()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#Q&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(this.#O){switch(e){case _t.CREATE:return void this.currentLayer.addNewEditor();case _t.HIGHLIGHT_DEFAULT_COLOR:this.#K?.updateColor(t);break;case _t.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#te||=new Map).set(e,t),this.showAllEditors("highlight",t)}for(const n of this.#Z)n.updateParams(e,t);for(const n of this.#O)n.updateDefaultParams(e,t)}}showAllEditors(e,t){for(const n of this.#T.values())n.editorType===e&&n.show(t);(this.#te?.get(_t.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#De([[_t.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#$!==e){this.#$=e;for(const t of this.#P.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}#Ne(){if(!this.#q){this.#q=!0;for(const e of this.#P.values())e.enable();for(const e of this.#T.values())e.enable()}}#Fe(){if(this.unselectAll(),this.#q){this.#q=!1;for(const e of this.#P.values())e.disable();for(const e of this.#T.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#T.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#T.get(e)}addEditor(e){this.#T.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#H&&clearTimeout(this.#H),this.#H=setTimeout((()=>{this.focusMainContainer(),this.#H=null}),0)),this.#T.delete(e.id),this.unselect(e),e.annotationElementId&&this.#F.has(e.annotationElementId)||this.#R?.remove(e.id)}addDeletedAnnotationElement(e){this.#F.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#F.has(e)}removeDeletedAnnotationElement(e){this.#F.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#Re(e){const t=this.#P.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#_!==e&&(this.#_=e,e&&this.#De(e.propertiesToUpdate))}get#Oe(){let e=null;for(e of this.#Z);return e}updateUI(e){this.#Oe===e&&this.#De(e.propertiesToUpdate)}toggleSelected(e){if(this.#Z.has(e))return this.#Z.delete(e),e.unselect(),void this.#Se({hasSelectedEditor:this.hasSelection});this.#Z.add(e),e.select(),this.#De(e.propertiesToUpdate),this.#Se({hasSelectedEditor:!0})}setSelected(e){for(const t of this.#Z)t!==e&&t.unselect();this.#Z.clear(),this.#Z.add(e),e.select(),this.#De(e.propertiesToUpdate),this.#Se({hasSelectedEditor:!0})}isSelected(e){return this.#Z.has(e)}get firstSelectedEditor(){return this.#Z.values().next().value}unselect(e){e.unselect(),this.#Z.delete(e),this.#Se({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#Z.size}get isEnterHandled(){return 1===this.#Z.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#D.undo(),this.#Se({hasSomethingToUndo:this.#D.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Ie()})}redo(){this.#D.redo(),this.#Se({hasSomethingToUndo:!0,hasSomethingToRedo:this.#D.hasSomethingToRedo(),isEmpty:this.#Ie()})}addCommands(e){this.#D.add(e),this.#Se({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Ie()})}#Ie(){if(0===this.#T.size)return!0;if(1===this.#T.size)for(const e of this.#T.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...this.#Z];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)this.#Re(t)},mustExec:!0})}commitOrRemove(){this.#_?.commitOrRemove()}hasSomethingToControl(){return this.#_||this.hasSelection}#Le(e){for(const t of this.#Z)t.unselect();this.#Z.clear();for(const t of e)t.isEmpty()||(this.#Z.add(t),t.select());this.#Se({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#Z)e.commit();this.#Le(this.#T.values())}unselectAll(){if((!this.#_||(this.#_.commitOrRemove(),this.#Q===kt.NONE))&&this.hasSelection){for(const e of this.#Z)e.unselect();this.#Z.clear(),this.#Se({hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;this.#fe[0]+=e,this.#fe[1]+=t;const[n,i]=this.#fe,s=[...this.#Z];this.#ge&&clearTimeout(this.#ge),this.#ge=setTimeout((()=>{this.#ge=null,this.#fe[0]=this.#fe[1]=0,this.addCommands({cmd:()=>{for(const e of s)this.#T.has(e.id)&&e.translateInPage(n,i)},undo:()=>{for(const e of s)this.#T.has(e.id)&&e.translateInPage(-n,-i)},mustExec:!1})}),1e3);for(const r of s)r.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#N=new Map;for(const e of this.#Z)this.#N.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#N)return!1;this.disableUserSelect(!1);const e=this.#N;this.#N=null;let t=!1;for(const[{x:i,y:s,pageIndex:r},a]of e)a.newX=i,a.newY=s,a.newPageIndex=r,t||=i!==a.savedX||s!==a.savedY||r!==a.savedPageIndex;if(!t)return!1;const n=(e,t,n,i)=>{if(this.#T.has(e.id)){const s=this.#P.get(i);s?e._setParentAndPosition(s,t,n):(e.pageIndex=i,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:i,newY:s,newPageIndex:r}]of e)n(t,i,s,r)},undo:()=>{for(const[t,{savedX:i,savedY:s,savedPageIndex:r}]of e)n(t,i,s,r)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#N)for(const n of this.#N.keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#Z.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#_===e}getActive(){return this.#_}getMode(){return this.#Q}get imageManager(){return bn(this,"imageManager",new Si)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:r}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(e,t,a,o)=>({x:(t-i)/r,y:1-(e+a-n)/s,width:o/r,height:a/s});break;case"180":a=(e,t,a,o)=>({x:1-(e+a-n)/s,y:1-(t+o-i)/r,width:a/s,height:o/r});break;case"270":a=(e,t,a,o)=>({x:1-(t+o-i)/r,y:(e-n)/s,width:o/r,height:a/s});break;default:a=(e,t,a,o)=>({x:(e-n)/s,y:(t-i)/r,width:a/s,height:o/r})}const o=[];for(let l=0,c=t.rangeCount;l<c;l++){const e=t.getRangeAt(l);if(!e.collapsed)for(const{x:t,y:n,width:i,height:s}of e.getClientRects())0!==i&&0!==s&&o.push(a(t,n,i,s))}return 0===o.length?null:o}addChangedExistingAnnotation(e){let{annotationElementId:t,id:n}=e;(this.#L||=new Map).set(t,n)}removeChangedExistingAnnotation(e){let{annotationElementId:t}=e;this.#L?.delete(t)}renderAnnotationElement(e){const t=this.#L?.get(e.data.id);if(!t)return;const n=this.#R.getRawValue(t);n&&(this.#Q!==kt.NONE||n.hasBeenModified)&&n.renderAnnotationElement(e)}}class Pi{#je="";#ze=!1;#Be=null;#He=null;#Ue=null;#We=!1;#r=null;static _l10nPromise=null;constructor(e){this.#r=e}static initialize(e){Pi._l10nPromise||=e}async render(){const e=this.#Be=document.createElement("button");e.className="altText";const t=await Pi._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const n=this.#r._uiManager._signal;e.addEventListener("contextmenu",ui,{signal:n}),e.addEventListener("pointerdown",(e=>e.stopPropagation()),{signal:n});const i=e=>{e.preventDefault(),this.#r._uiManager.editAltText(this.#r)};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",(t=>{t.target===e&&"Enter"===t.key&&(this.#We=!0,i(t))}),{signal:n}),await this.#Ve(),e}finish(){this.#Be&&(this.#Be.focus({focusVisible:this.#We}),this.#We=!1)}isEmpty(){return!this.#je&&!this.#ze}get data(){return{altText:this.#je,decorative:this.#ze}}set data(e){let{altText:t,decorative:n}=e;this.#je===t&&this.#ze===n||(this.#je=t,this.#ze=n,this.#Ve())}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Be&&(!e&&this.#Ue&&(clearTimeout(this.#Ue),this.#Ue=null),this.#Be.disabled=!e)}destroy(){this.#Be?.remove(),this.#Be=null,this.#He=null}async#Ve(){const e=this.#Be;if(!e)return;if(!this.#je&&!this.#ze)return e.classList.remove("done"),void this.#He?.remove();e.classList.add("done"),Pi._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then((t=>{e.setAttribute("aria-label",t)}));let t=this.#He;if(!t){this.#He=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip");const n=t.id=`alt-text-tooltip-${this.#r.id}`;e.setAttribute("aria-describedby",n);const i=100,s=this.#r._uiManager._signal;s.addEventListener("abort",(()=>{clearTimeout(this.#Ue),this.#Ue=null}),{once:!0}),e.addEventListener("mouseenter",(()=>{this.#Ue=setTimeout((()=>{this.#Ue=null,this.#He.classList.add("show"),this.#r._reportTelemetry({action:"alt_text_tooltip"})}),i)}),{signal:s}),e.addEventListener("mouseleave",(()=>{this.#Ue&&(clearTimeout(this.#Ue),this.#Ue=null),this.#He?.classList.remove("show")}),{signal:s})}t.innerText=this.#ze?await Pi._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#je,t.parentNode||e.append(t);const n=this.#r.getImageForAltText();n?.setAttribute("aria-describedby",t.id)}}class Mi{#Ge=null;#qe=null;#je=null;#$e=!1;#Xe=!1;#Ke=null;#Ye=null;#Qe=this.focusin.bind(this);#Ze=this.focusout.bind(this);#Je=null;#et="";#tt=!1;#nt=null;#it=!1;#st=!1;#rt=!1;#at=null;#ot=0;#lt=0;#ct=null;_initialOptions=(()=>Object.create(null))();_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#dt=!1;#ut=(()=>Mi._zIndex++)();static _borderLineWidth=-1;static _colorManager=(()=>new _i)();static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Mi.prototype._resizeWithKeyboard,t=Ti.TRANSLATE_SMALL,n=Ti.TRANSLATE_BIG;return bn(this,"_resizerKeyboardManager",new ki([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Mi.prototype._stopResizingWithKeyboard]]))}constructor(e){this.constructor===Mi&&gn("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:r}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,r];const[a,o]=this.parentDimensions;this.x=e.x/a,this.y=e.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return bn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Ri({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,n){if(Mi._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map((t=>[t,e.get(t.replaceAll(/([A-Z])/g,(e=>`-${e.toLowerCase()}`)))]))),n?.strings)for(const s of n.strings)Mi._l10nPromise.set(s,e.get(s));if(-1!==Mi._borderLineWidth)return;const i=getComputedStyle(document.documentElement);Mi._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){gn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#dt}set _isDraggable(e){this.#dt=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#ut}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#ht(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#tt?this.#tt=!1:this.parent.setSelected(this))}focusout(e){if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const t=e.relatedTarget;t?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[s,r]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(t+i)/r,this.fixAndSetPosition()}#pt(e,t,n){let[i,s]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/i,this.y+=n/s,this.fixAndSetPosition()}translate(e,t){this.#pt(this.parentDimensions,e,t)}translateInPage(e,t){this.#nt||=[this.x,this.y],this.#pt(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#nt||=[this.x,this.y];const[n,i]=this.parentDimensions;if(this.x+=e/n,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:r}=this;const[a,o]=this.getBaseTranslation();s+=a,r+=o,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*r).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#nt&&(this.#nt[0]!==this.x||this.#nt[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Mi,i=n/e,s=n/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const[t,n]=this.pageDimensions;let{x:i,y:s,width:r,height:a}=this;if(r*=t,a*=n,i*=t,s*=n,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-r,i)),s=Math.max(0,Math.min(n-a,s));break;case 90:i=Math.max(0,Math.min(t-a,i)),s=Math.min(n,Math.max(r,s));break;case 180:i=Math.min(t,Math.max(r,i)),s=Math.min(n,Math.max(a,s));break;case 270:i=Math.min(t,Math.max(a,i)),s=Math.max(0,Math.min(n-r,s))}this.x=i/=t,this.y=s/=n;const[o,l]=this.getBaseTranslation();i+=o,s+=l;const{style:c}=this.div;c.left=`${(100*i).toFixed(2)}%`,c.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#ft(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Mi.#ft(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Mi.#ft(e,t,360-this.parentRotation)}#gt(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,i=t*e,s=n*e;return Mn.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,t){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,this.#Xe||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),s=!this.#Xe&&t.endsWith("%");if(i&&s)return;const[r,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/r).toFixed(2)}%`),this.#Xe||s||(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#mt(){if(this.#Ke)return;this.#Ke=document.createElement("div"),this.#Ke.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");this.#Ke.append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",this.#vt.bind(this,n),{signal:t}),e.addEventListener("contextmenu",ui,{signal:t}),e.tabIndex=-1}this.div.prepend(this.#Ke)}#vt(e,t){t.preventDefault();const{isMac:n}=Mn.platform;if(0!==t.button||t.ctrlKey&&n)return;this.#je?.toggle(!1);const i=this.#bt.bind(this,e),s=this._isDraggable;this._isDraggable=!1;const r=this._uiManager._signal,a={passive:!0,capture:!0,signal:r};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,a),window.addEventListener("contextmenu",ui,{signal:r});const o=this.x,l=this.y,c=this.width,d=this.height,u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{this.parent.togglePointerEvents(!0),this.#je?.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",i,a),window.removeEventListener("contextmenu",ui),this.parent.div.style.cursor=u,this.div.style.cursor=h,this.#yt(o,l,c,d)};window.addEventListener("pointerup",p,{signal:r}),window.addEventListener("blur",p,{signal:r})}#yt(e,t,n,i){const s=this.x,r=this.y,a=this.width,o=this.height;s===e&&r===t&&a===n&&o===i||this.addCommands({cmd:()=>{this.width=a,this.height=o,this.x=s,this.y=r;const[e,t]=this.parentDimensions;this.setDims(e*a,t*o),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=e,this.y=t;const[s,r]=this.parentDimensions;this.setDims(s*n,r*i),this.fixAndSetPosition()},mustExec:!0})}#bt(e,t){const[n,i]=this.parentDimensions,s=this.x,r=this.y,a=this.width,o=this.height,l=Mi.MIN_SIZE/n,c=Mi.MIN_SIZE/i,d=e=>Math.round(1e4*e)/1e4,u=this.#gt(this.rotation),h=(e,t)=>[u[0]*e+u[2]*t,u[1]*e+u[3]*t],p=this.#gt(360-this.rotation);let f,g,m=!1,v=!1;switch(e){case"topLeft":m=!0,f=(e,t)=>[0,0],g=(e,t)=>[e,t];break;case"topMiddle":f=(e,t)=>[e/2,0],g=(e,t)=>[e/2,t];break;case"topRight":m=!0,f=(e,t)=>[e,0],g=(e,t)=>[0,t];break;case"middleRight":v=!0,f=(e,t)=>[e,t/2],g=(e,t)=>[0,t/2];break;case"bottomRight":m=!0,f=(e,t)=>[e,t],g=(e,t)=>[0,0];break;case"bottomMiddle":f=(e,t)=>[e/2,t],g=(e,t)=>[e/2,0];break;case"bottomLeft":m=!0,f=(e,t)=>[0,t],g=(e,t)=>[e,0];break;case"middleLeft":v=!0,f=(e,t)=>[0,t/2],g=(e,t)=>[e,t/2]}const b=f(a,o),y=g(a,o);let A=h(...y);const w=d(s+A[0]),x=d(r+A[1]);let E=1,S=1,[C,k]=this.screenToPageTranslation(t.movementX,t.movementY);var _,T;if([C,k]=(_=C/n,T=k/i,[p[0]*_+p[2]*T,p[1]*_+p[3]*T]),m){const e=Math.hypot(a,o);E=S=Math.max(Math.min(Math.hypot(y[0]-b[0]-C,y[1]-b[1]-k)/e,1/a,1/o),l/a,c/o)}else v?E=Math.max(l,Math.min(1,Math.abs(y[0]-b[0]-C)))/a:S=Math.max(c,Math.min(1,Math.abs(y[1]-b[1]-k)))/o;const P=d(a*E),M=d(o*S);A=h(...g(P,M));const R=w-A[0],L=x-A[1];this.width=P,this.height=M,this.x=R,this.y=L,this.setDims(n*P,i*M),this.fixAndSetPosition()}altTextFinish(){this.#je?.finish()}async addEditToolbar(){return this.#Je||this.#st||(this.#Je=new Ai(this),this.div.append(this.#Je.render()),this.#je&&this.#Je.addAltTextButton(await this.#je.render())),this.#Je}removeEditToolbar(){this.#Je&&(this.#Je.remove(),this.#Je=null,this.#je?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#je||(Pi.initialize(Mi._l10nPromise),this.#je=new Pi(this),this.#Ge&&(this.#je.data=this.#Ge,this.#Ge=null),await this.addEditToolbar())}get altTextData(){return this.#je?.data}set altTextData(e){this.#je&&(this.#je.data=e)}hasAltText(){return!this.#je?.isEmpty()}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#$e?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",this.#Qe,{signal:e}),this.div.addEventListener("focusout",this.#Ze,{signal:e});const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),xi(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Mn.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(this.#tt=!0,this._isDraggable?this.#At(e):this.#wt(e))}#wt(e){const{isMac:t}=Mn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#At(e){const t=this._uiManager.isSelected(this);let n,i;this._uiManager.setUpDragSession();const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),n={passive:!0,capture:!0,signal:s},this.#ot=e.clientX,this.#lt=e.clientY,i=e=>{const{clientX:t,clientY:n}=e,[i,s]=this.screenToPageTranslation(t-this.#ot,n-this.#lt);this.#ot=t,this.#lt=n,this._uiManager.dragSelectedEditors(i,s)},window.addEventListener("pointermove",i,n));const r=()=>{window.removeEventListener("pointerup",r),window.removeEventListener("blur",r),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,n)),this.#tt=!1,this._uiManager.endDragSession()||this.#wt(e)};window.addEventListener("pointerup",r,{signal:s}),window.addEventListener("blur",r,{signal:s})}moveInDOM(){this.#at&&clearTimeout(this.#at),this.#at=setTimeout((()=>{this.#at=null,this.parent?.moveEditorInDOM(this)}),0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const i=this.parentScale,[s,r]=this.pageDimensions,[a,o]=this.pageTranslation,l=e/i,c=t/i,d=this.x*s,u=this.y*r,h=this.width*s,p=this.height*r;switch(n){case 0:return[d+l+a,r-u-c-p+o,d+l+h+a,r-u-c+o];case 90:return[d+c+a,r-u+l+o,d+c+p+a,r-u+l+h+o];case 180:return[d-l-h+a,r-u+c+o,d-l+a,r-u+c+p+o];case 270:return[d-c-p+a,r-u-l-h+o,d-c+a,r-u-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,s,r]=e,a=s-n,o=r-i;switch(this.rotation){case 0:return[n,t-r,a,o];case 90:return[n,t-i,o,a];case 180:return[s,t-i,a,o];case 270:return[s,t-r,o,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#st=!0}disableEditMode(){this.#st=!1}isInEditMode(){return this.#st}shouldGetKeyboardEvents(){return this.#rt}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){const e=this._uiManager._signal;this.div?.addEventListener("focusin",this.#Qe,{signal:e}),this.div?.addEventListener("focusout",this.#Ze,{signal:e})}rotate(e){}serialize(){gn("An editor must be serializable")}static deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});i.rotation=e.rotation,i.#Ge=e.accessibilityData;const[s,r]=i.pageDimensions,[a,o,l,c]=i.getRectInCurrentCoords(e.rect,r);return i.x=a/s,i.y=o/r,i.width=l/s,i.height=c/r,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.div.removeEventListener("focusin",this.#Qe),this.div.removeEventListener("focusout",this.#Ze),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#at&&(clearTimeout(this.#at),this.#at=null),this.#ht(),this.removeEditToolbar(),this.#ct){for(const e of this.#ct.values())clearTimeout(e);this.#ct=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#mt(),this.#Ke.classList.remove("hidden"),xi(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),this.#Ye={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#Ke.children;if(!this.#qe){this.#qe=Array.from(t);const e=this.#xt.bind(this),n=this.#Et.bind(this),i=this._uiManager._signal;for(const t of this.#qe){const s=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:i}),t.addEventListener("blur",n,{signal:i}),t.addEventListener("focus",this.#St.bind(this,s),{signal:i}),Mi._l10nPromise.get(`pdfjs-editor-resizer-label-${s}`).then((e=>t.setAttribute("aria-label",e)))}}const n=this.#qe[0];let i=0;for(const r of t){if(r===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#qe.length/4);if(s!==i){if(s<i)for(let t=0;t<i-s;t++)this.#Ke.append(this.#Ke.firstChild);else if(s>i)for(let t=0;t<s-i;t++)this.#Ke.firstChild.before(this.#Ke.lastChild);let e=0;for(const n of t){const t=this.#qe[e++].getAttribute("data-resizer-name");Mi._l10nPromise.get(`pdfjs-editor-resizer-label-${t}`).then((e=>n.setAttribute("aria-label",e)))}}this.#Ct(0),this.#rt=!0,this.#Ke.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#xt(e){Mi._resizerKeyboardManager.exec(this,e)}#Et(e){this.#rt&&e.relatedTarget?.parentNode!==this.#Ke&&this.#ht()}#St(e){this.#et=this.#rt?e:""}#Ct(e){if(this.#qe)for(const t of this.#qe)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#rt&&this.#bt(this.#et,{movementX:e,movementY:t})}#ht(){if(this.#rt=!1,this.#Ct(-1),this.#Ye){const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=this.#Ye;this.#yt(e,t,n,i),this.#Ye=null}}_stopResizingWithKeyboard(){this.#ht(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this.#Je?this.#Je?.show():this.addEditToolbar().then((()=>{this.div?.classList.contains("selectedEditor")&&this.#Je?.show()}))}unselect(){this.#Ke?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this.#Je?.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#it}set isEditing(e){this.#it=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#Xe=!0;const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){this.#ct||=new Map;const{action:t}=e;let n=this.#ct.get(t);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(e),this.#ct.delete(t),0===this.#ct.size&&(this.#ct=null)}),Mi._telemetryTimeout),void this.#ct.set(t,n)}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#$e=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#$e=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===t.nodeName&&t.classList.contains("annotationContent")&&t.remove()}}class Ri extends Mi{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Li=3285377520,Di=4294901760,Ii=65535;class Fi{constructor(e){this.h1=e?4294967295&e:Li,this.h2=e?4294967295&e:Li}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let i=0,s=e.length;i<s;i++){const s=e.charCodeAt(i);s<=255?t[n++]=s:(t[n++]=s>>>8,t[n++]=255&s)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const i=n>>2,s=n-4*i,r=new Uint32Array(t.buffer,0,i);let a=0,o=0,l=this.h1,c=this.h2;const d=3432918353,u=461845907,h=11601,p=13715;for(let f=0;f<i;f++)1&f?(a=r[f],a=a*d&Di|a*h&Ii,a=a<<15|a>>>17,a=a*u&Di|a*p&Ii,l^=a,l=l<<13|l>>>19,l=5*l+3864292196):(o=r[f],o=o*d&Di|o*h&Ii,o=o<<15|o>>>17,o=o*u&Di|o*p&Ii,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(a=0,s){case 3:a^=t[4*i+2]<<16;case 2:a^=t[4*i+1]<<8;case 1:a^=t[4*i],a=a*d&Di|a*h&Ii,a=a<<15|a>>>17,a=a*u&Di|a*p&Ii,1&i?l^=a:c^=a}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&Di|36045*e&Ii,t=4283543511*t&Di|(2950163797*(t<<16|e>>>16)&Di)>>>16,e^=t>>>1,e=444984403*e&Di|60499*e&Ii,t=3301882366*t&Di|(3120437893*(t<<16|e>>>16)&Di)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Ni=Object.freeze({map:null,hash:"",transfer:void 0});class Oi{#kt=!1;#_t=(()=>new Map)();constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#_t.get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return this.#_t.get(e)}remove(e){if(this.#_t.delete(e),0===this.#_t.size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of this.#_t.values())if(e instanceof Mi)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#_t.get(e);let i=!1;if(void 0!==n)for(const[s,r]of Object.entries(t))n[s]!==r&&(i=!0,n[s]=r);else i=!0,this.#_t.set(e,t);i&&this.#Tt(),t instanceof Mi&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#_t.has(e)}getAll(){return this.#_t.size>0?Pn(this.#_t):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return this.#_t.size}#Tt(){this.#kt||(this.#kt=!0,"function"===typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#kt&&(this.#kt=!1,"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new ji(this)}get serializable(){if(0===this.#_t.size)return Ni;const e=new Map,t=new Fi,n=[],i=Object.create(null);let s=!1;for(const[r,a]of this.#_t){const n=a instanceof Mi?a.serialize(!1,i):a;n&&(e.set(r,n),t.update(`${r}:${JSON.stringify(n)}`),s||=!!n.bitmap)}if(s)for(const r of e.values())r.bitmap&&n.push(r.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Ni}get editorStats(){let e=null;const t=new Map;for(const n of this.#_t.values()){if(!(n instanceof Mi))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(n).constructor),e||=Object.create(null);const r=e[s]||=new Map;for(const[e,t]of Object.entries(i)){if("type"===e)continue;let n=r.get(e);n||(n=new Map,r.set(e,n));const i=n.get(t)??0;n.set(t,i+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}}class ji extends Oi{#Pt;constructor(e){super();const{map:t,hash:n,transfer:i}=e.serializable,s=structuredClone(t,i?{transfer:i}:null);this.#Pt={map:s,hash:n,transfer:i}}get print(){gn("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#Pt}}class zi{#Mt=(()=>new Set)();constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#Mt.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,_inspectFont:n}=e;if(t&&!this.#Mt.has(t.loadedName))if(mn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:i,style:s}=t,r=new FontFace(e,i,s);this.addNativeFontFace(r);try{await r.load(),this.#Mt.add(e),n?.(t)}catch{fn(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(r)}}else gn("Not implemented: loadSystemFont without the Font Loading API.")}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw fn(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){return bn(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let e=!1;return(ft||"undefined"!==typeof navigator&&"string"===typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),bn(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(mn(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return bn(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,i){return e.substring(0,t)+i+e.substring(t+n)}let s,r;const a=this._document.createElement("canvas");a.width=1,a.height=1;const o=a.getContext("2d");let l=0;const c=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=i(d,976,c.length,c);const u=1482184792;let h=n(d,16);for(s=0,r=c.length-3;s<r;s+=4)h=h-u+n(c,s)|0;var p;s<c.length&&(h=h-u+n(c+"XXX",s)|0),d=i(d,16,4,(p=h,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const f=`@font-face {font-family:"${c}";src:${`url(data:font/opentype;base64,${btoa(d)});`}}`;this.insertRule(f);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const m of[e.loadedName,c]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=m,g.append(e)}this._document.body.append(g),function e(t,n){if(++l>30)return fn("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(c,(()=>{g.remove(),t.complete()}))}}class Bi{constructor(e,t){let{disableFontFace:n=!1,inspectFont:i=null}=t;this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=!0===n,this._inspectFont=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=_n(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this._inspectFont?.(this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(s){fn(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(n)||0===n.length)return this.compiledGlyphs[t]=function(e,t){};const i=[];for(let r=0,a=n.length;r<a;)switch(n[r++]){case On:{const[e,t,s,a,o,l]=n.slice(r,r+6);i.push((n=>n.bezierCurveTo(e,t,s,a,o,l))),r+=6}break;case jn:{const[e,t]=n.slice(r,r+2);i.push((n=>n.moveTo(e,t))),r+=2}break;case zn:{const[e,t]=n.slice(r,r+2);i.push((n=>n.lineTo(e,t))),r+=2}break;case Bn:{const[e,t,s,a]=n.slice(r,r+4);i.push((n=>n.quadraticCurveTo(e,t,s,a))),r+=4}break;case Hn:i.push((e=>e.restore()));break;case Un:i.push((e=>e.save()));break;case Wn:mn(2===i.length,"Scale command is only valid at the third position.");break;case Vn:{const[e,t,s,a,o,l]=n.slice(r,r+6);i.push((n=>n.transform(e,t,s,a,o,l))),r+=6}break;case Gn:{const[e,t]=n.slice(r,r+2);i.push((n=>n.translate(e,t))),r+=2}}return this.compiledGlyphs[t]=function(e,t){i[0](e),i[1](e),e.scale(t,-t);for(let n=2,s=i.length;n<s;n++)i[n](e)}}}if(ft){var Hi=Promise.withResolvers(),Ui=null;(async()=>{const e=await import("fs"),t=await import("http"),n=await import("https"),i=await import("url");return new Map(Object.entries({fs:e,http:t,https:n,url:i,canvas:undefined,path2d:undefined}))})().then((e=>{Ui=e,Hi.resolve()}),(e=>{fn(`loadPackages: ${e}`),Ui=new Map,Hi.resolve()}))}class Wi{static get promise(){return Hi.promise}static get(e){return Ui?.get(e)}}const Vi=function(e){return Wi.get("fs").promises.readFile(e).then((e=>new Uint8Array(e)))};const Gi="Fill",qi="Stroke",$i="Shading";function Xi(e,t){if(!t)return;const n=t[2]-t[0],i=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],n,i),e.clip(s)}class Ki{constructor(){this.constructor===Ki&&gn("Cannot initialize BaseShadingPattern.")}getPattern(){gn("Abstract method `getPattern` called.")}}class Yi extends Ki{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let s;if(i===qi||i===Gi){const r=t.current.getClippedPathBoundingBox(i,vi(e))||[0,0,0,0],a=Math.ceil(r[2]-r[0])||1,o=Math.ceil(r[3]-r[1])||1,l=t.cachedCanvases.getCanvas("pattern",a,o,!0),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-r[0],-r[1]),n=Ln.transform(n,[1,0,0,1,r[0],r[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),Xi(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),s=e.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(n);s.setTransform(d)}else Xi(e,this._bbox),s=this._createGradient(e);return s}}function Qi(e,t,n,i,s,r,a,o){const l=t.coords,c=t.colors,d=e.data,u=4*e.width;let h;l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=r,r=a,a=h),l[i+1]>l[s+1]&&(h=i,i=s,s=h,h=a,a=o,o=h),l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=r,r=a,a=h);const p=(l[n]+t.offsetX)*t.scaleX,f=(l[n+1]+t.offsetY)*t.scaleY,g=(l[i]+t.offsetX)*t.scaleX,m=(l[i+1]+t.offsetY)*t.scaleY,v=(l[s]+t.offsetX)*t.scaleX,b=(l[s+1]+t.offsetY)*t.scaleY;if(f>=b)return;const y=c[r],A=c[r+1],w=c[r+2],x=c[a],E=c[a+1],S=c[a+2],C=c[o],k=c[o+1],_=c[o+2],T=Math.round(f),P=Math.round(b);let M,R,L,D,I,F,N,O;for(let j=T;j<=P;j++){if(j<m){const e=j<f?0:(f-j)/(f-m);M=p-(p-g)*e,R=y-(y-x)*e,L=A-(A-E)*e,D=w-(w-S)*e}else{let e;e=j>b?1:m===b?0:(m-j)/(m-b),M=g-(g-v)*e,R=x-(x-C)*e,L=E-(E-k)*e,D=S-(S-_)*e}let e;e=j<f?0:j>b?1:(f-j)/(f-b),I=p-(p-v)*e,F=y-(y-C)*e,N=A-(A-k)*e,O=w-(w-_)*e;const t=Math.round(Math.min(M,I)),n=Math.round(Math.max(M,I));let i=u*j+4*t;for(let s=t;s<=n;s++)e=(M-s)/(M-I),e<0?e=0:e>1&&(e=1),d[i++]=R-(R-F)*e|0,d[i++]=L-(L-N)*e|0,d[i++]=D-(D-O)*e|0,d[i++]=255}}function Zi(e,t,n){const i=t.coords,s=t.colors;let r,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(r=0;r<l;r++){let t=r*o;for(let r=0;r<c;r++,t++)Qi(e,n,i[t],i[t+1],i[t+o],s[t],s[t+1],s[t+o]),Qi(e,n,i[t+o+1],i[t+1],i[t+o],s[t+o+1],s[t+1],s[t+o])}break;case"triangles":for(r=0,a=i.length;r<a;r+=3)Qi(e,n,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class Ji extends Ki{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const i=Math.floor(this._bounds[0]),s=Math.floor(this._bounds[1]),r=Math.ceil(this._bounds[2])-i,a=Math.ceil(this._bounds[3])-s,o=Math.min(Math.ceil(Math.abs(r*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*e[1]*1.1)),3e3),c=r/o,d=a/l,u={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-s,scaleX:1/c,scaleY:1/d},h=o+4,p=l+4,f=n.getCanvas("mesh",h,p,!1),g=f.context,m=g.createImageData(o,l);if(t){const e=m.data;for(let n=0,i=e.length;n<i;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const v of this._figures)Zi(m,v,u);g.putImageData(m,2,2);return{canvas:f.canvas,offsetX:i-2*c,offsetY:s-2*d,scaleX:c,scaleY:d}}getPattern(e,t,n,i){let s;if(Xi(e,this._bbox),i===$i)s=Ln.singularValueDecompose2dScale(vi(e));else if(s=Ln.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=Ln.singularValueDecompose2dScale(this.matrix);s=[s[0]*e[0],s[1]*e[1]]}const r=this._createMeshCanvas(s,i===$i?null:this._background,t.cachedCanvases);return i!==$i&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(r.offsetX,r.offsetY),e.scale(r.scaleX,r.scaleY),e.createPattern(r.canvas,"no-repeat")}}class es extends Ki{getPattern(){return"hotpink"}}const ts=1,ns=2;class is{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,i=this.xstep,s=this.ystep,r=this.paintType,a=this.tilingType,o=this.color,l=this.canvasGraphicsFactory;pn("TilingType: "+a);const c=n[0],d=n[1],u=n[2],h=n[3],p=Ln.singularValueDecompose2dScale(this.matrix),f=Ln.singularValueDecompose2dScale(this.baseTransform),g=[p[0]*f[0],p[1]*f[1]],m=this.getSizeAndScale(i,this.ctx.canvas.width,g[0]),v=this.getSizeAndScale(s,this.ctx.canvas.height,g[1]),b=e.cachedCanvases.getCanvas("pattern",m.size,v.size,!0),y=b.context,A=l.createCanvasGraphics(y);A.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(A,r,o);let w=c,x=d,E=u,S=h;return c<0&&(w=0,E+=Math.abs(c)),d<0&&(x=0,S+=Math.abs(d)),y.translate(-m.scale*w,-v.scale*x),A.transform(m.scale,0,0,v.scale,0,0),y.save(),this.clipBbox(A,w,x,E,S),A.baseTransform=vi(A.ctx),A.executeOperatorList(t),A.endDrawing(),{canvas:b.canvas,scaleX:m.scale,scaleY:v.scale,offsetX:w,offsetY:x}}getSizeAndScale(e,t,n){e=Math.abs(e);const i=Math.max(is.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,i,s){const r=i-t,a=s-n;e.ctx.rect(t,n,r,a),e.current.updateRectMinMax(vi(e.ctx),[t,n,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case ts:const e=this.ctx;i.fillStyle=e.fillStyle,i.strokeStyle=e.strokeStyle,s.fillColor=e.fillStyle,s.strokeColor=e.strokeStyle;break;case ns:const r=Ln.makeHexColor(n[0],n[1],n[2]);i.fillStyle=r,i.strokeStyle=r,s.fillColor=r,s.strokeColor=r;break;default:throw new Cn(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let s=n;i!==$i&&(s=Ln.transform(s,t.baseTransform),this.matrix&&(s=Ln.transform(s,this.matrix)));const r=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(r.offsetX,r.offsetY),a=a.scale(1/r.scaleX,1/r.scaleY);const o=e.createPattern(r.canvas,"repeat");return o.setTransform(a),o}}function ss(e){let{src:t,srcPos:n=0,dest:i,width:s,height:r,nonBlackColor:a=4294967295,inverseDecode:o=!1}=e;const l=Mn.isLittleEndian?4278190080:255,[c,d]=o?[a,l]:[l,a],u=s>>3,h=7&s,p=t.length;i=new Uint32Array(i.buffer);let f=0;for(let g=0;g<r;g++){for(const s=n+u;n<s;n++){const e=n<p?t[n]:255;i[f++]=128&e?d:c,i[f++]=64&e?d:c,i[f++]=32&e?d:c,i[f++]=16&e?d:c,i[f++]=8&e?d:c,i[f++]=4&e?d:c,i[f++]=2&e?d:c,i[f++]=1&e?d:c}if(0===h)continue;const e=n<p?t[n++]:255;for(let t=0;t<h;t++)i[f++]=e&1<<7-t?d:c}return{srcPos:n,destPos:f}}const rs=16;class as{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return void 0!==this.cache[e]?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function os(e,t,n,i,s,r,a,o,l,c){const[d,u,h,p,f,g]=vi(e);if(0===u&&0===h){const m=a*d+f,v=Math.round(m),b=o*p+g,y=Math.round(b),A=(a+l)*d+f,w=Math.abs(Math.round(A)-v)||1,x=(o+c)*p+g,E=Math.abs(Math.round(x)-y)||1;return e.setTransform(Math.sign(d),0,0,Math.sign(p),v,y),e.drawImage(t,n,i,s,r,0,0,w,E),e.setTransform(d,u,h,p,f,g),[w,E]}if(0===d&&0===p){const m=o*h+f,v=Math.round(m),b=a*u+g,y=Math.round(b),A=(o+c)*h+f,w=Math.abs(Math.round(A)-v)||1,x=(a+l)*u+g,E=Math.abs(Math.round(x)-y)||1;return e.setTransform(0,Math.sign(u),Math.sign(h),0,v,y),e.drawImage(t,n,i,s,r,0,0,E,w),e.setTransform(d,u,h,p,f,g),[E,w]}e.drawImage(t,n,i,s,r,a,o,l,c);return[Math.hypot(d,u)*l,Math.hypot(h,p)*c]}class ls{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=gt,this.textMatrixScale=1,this.fontMatrix=mt,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Pt,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=Ln.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=Ln.applyTransform(t,e),i=Ln.applyTransform(t.slice(2),e),s=Ln.applyTransform([t[0],t[3]],e),r=Ln.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],i[0],s[0],r[0]),this.minY=Math.min(this.minY,n[1],i[1],s[1],r[1]),this.maxX=Math.max(this.maxX,n[0],i[0],s[0],r[0]),this.maxY=Math.max(this.maxY,n[1],i[1],s[1],r[1])}updateScalingPathMinMax(e,t){Ln.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,s,r,a,o,l,c){const d=Ln.bezierBoundingBox(t,n,i,s,r,a,o,l,c);c||this.updateRectMinMax(e,d)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gi,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===qi){t||gn("Stroke bounding box must include transform.");const e=Ln.singularValueDecompose2dScale(t),i=e[0]*this.lineWidth/2,s=e[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const e=Ln.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gi,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ln.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function cs(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,i=t.width,s=n%rs,r=(n-s)/rs,a=0===s?r:r+1,o=e.createImageData(i,rs);let l,c=0;const d=t.data,u=o.data;let h,p,f,g;if(t.kind===Ft.GRAYSCALE_1BPP){const t=d.byteLength,n=new Uint32Array(u.buffer,0,u.byteLength>>2),g=n.length,m=i+7>>3,v=4294967295,b=Mn.isLittleEndian?4278190080:255;for(h=0;h<a;h++){for(f=h<r?rs:s,l=0,p=0;p<f;p++){const e=t-c;let s=0;const r=e>m?i:8*e-7,a=-8&r;let o=0,u=0;for(;s<a;s+=8)u=d[c++],n[l++]=128&u?v:b,n[l++]=64&u?v:b,n[l++]=32&u?v:b,n[l++]=16&u?v:b,n[l++]=8&u?v:b,n[l++]=4&u?v:b,n[l++]=2&u?v:b,n[l++]=1&u?v:b;for(;s<r;s++)0===o&&(u=d[c++],o=128),n[l++]=u&o?v:b,o>>=1}for(;l<g;)n[l++]=0;e.putImageData(o,0,h*rs)}}else if(t.kind===Ft.RGBA_32BPP){for(p=0,g=i*rs*4,h=0;h<r;h++)u.set(d.subarray(c,c+g)),c+=g,e.putImageData(o,0,p),p+=rs;h<a&&(g=i*s*4,u.set(d.subarray(c,c+g)),e.putImageData(o,0,p))}else{if(t.kind!==Ft.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);for(f=rs,g=i*f,h=0;h<a;h++){for(h>=r&&(f=s,g=i*f),l=0,p=g;p--;)u[l++]=d[c++],u[l++]=d[c++],u[l++]=d[c++],u[l++]=255;e.putImageData(o,0,h*rs)}}}function ds(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,i=t.width,s=n%rs,r=(n-s)/rs,a=0===s?r:r+1,o=e.createImageData(i,rs);let l=0;const c=t.data,d=o.data;for(let u=0;u<a;u++){const t=u<r?rs:s;({srcPos:l}=ss({src:c,srcPos:l,dest:d,width:i,height:t,nonBlackColor:0})),e.putImageData(o,0,u*rs)}}function us(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==e[i]&&(t[i]=e[i]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function hs(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!ft){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function ps(e,t){if(t)return!0;const n=Ln.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Zn.PDF_TO_CSS_UNITS);return n[0]<=i&&n[1]<=i}const fs=["butt","round","square"],gs=["miter","round","bevel"],ms={},vs={};class bs{constructor(e,t,n,i,s,r,a,o){let{optionalContentConfig:l,markedContentStack:c=null}=r;this.ctx=e,this.current=new ls(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new as(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:i=!1,background:s=null}=e;const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,i){const e=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...vi(this.compositeCtx))}this.ctx.save(),hs(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=vi(this.ctx)}executeOperatorList(e,t,n,i){const s=e.argsArray,r=e.fnArray;let a=t||0;const o=s.length;if(o===a)return a;const l=o-a>10&&"function"===typeof n,c=l?Date.now()+15:0;let d=0;const u=this.commonObjs,h=this.objs;let p;for(;;){if(void 0!==i&&a===i.nextBreakPoint)return i.breakIt(a,n),a;if(p=r[a],p!==ln.dependency)this[p].apply(this,s[a]);else for(const e of s[a]){const t=e.startsWith("g_")?u:h;if(!t.has(e))return t.get(e,n),a}if(a++,a===o)return a;if(l&&++d>10){if(Date.now()>c)return n(),a;d=0}}}#Rt(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#Rt(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#Lt()}#Lt(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width,i=e.height;let s,r,a=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=i,d="prescale1";for(;a>2&&l>1||o>2&&c>1;){let t=l,n=c;a>2&&l>1&&(t=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/t),o>2&&c>1&&(n=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/n),s=this.cachedCanvases.getCanvas(d,t,n),r=s.context,r.clearRect(0,0,t,n),r.drawImage(e,0,0,l,c,0,0,t,n),e=s.canvas,l=t,c=n,d="prescale1"===d?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,s=this.current.fillColor,r=this.current.patternFill,a=vi(t);let o,l,c,d;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;l=JSON.stringify(r?a:[a.slice(0,4),s]),o=this._cachedBitmapsMap.get(t),o||(o=new Map,this._cachedBitmapsMap.set(t,o));const n=o.get(l);if(n&&!r){return{canvas:n,offsetX:Math.round(Math.min(a[0],a[2])+a[4]),offsetY:Math.round(Math.min(a[1],a[3])+a[5])}}c=n}c||(d=this.cachedCanvases.getCanvas("maskCanvas",n,i),ds(d.context,e));let u=Ln.transform(a,[1/n,0,0,-1/i,0,0]);u=Ln.transform(u,[1,0,0,1,0,-i]);const[h,p,f,g]=Ln.getAxialAlignedBoundingBox([0,0,n,i],u),m=Math.round(f-h)||1,v=Math.round(g-p)||1,b=this.cachedCanvases.getCanvas("fillCanvas",m,v),y=b.context,A=h,w=p;y.translate(-A,-w),y.transform(...u),c||(c=this._scaleImage(d.canvas,bi(y)),c=c.img,o&&r&&o.set(l,c)),y.imageSmoothingEnabled=ps(vi(y),e.interpolate),os(y,c,0,0,c.width,c.height,0,0,n,i),y.globalCompositeOperation="source-in";const x=Ln.transform(bi(y),[1,0,0,1,-A,-w]);return y.fillStyle=r?s.getPattern(t,this,x,Gi):s,y.fillRect(0,0,n,i),o&&!r&&(this.cachedCanvases.delete("fillCanvas"),o.set(l,b.canvas)),{canvas:b.canvas,offsetX:Math.round(A),offsetY:Math.round(w)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=fs[e]}setLineJoin(e){this.ctx.lineJoin=gs[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...vi(this.suspendedCtx)),us(this.suspendedCtx,s),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,i,s,r,a){t.transform(e,n,i,s,r,a),this.__originalTransform(e,n,i,s,r,a)},e.setTransform=function(e,n,i,s,r,a){t.setTransform(e,n,i,s,r,a),this.__originalSetTransform(e,n,i,s,r,a)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,i,s,r,a){t.bezierCurveTo(e,n,i,s,r,a),this.__originalBezierCurveTo(e,n,i,s,r,a)},e.rect=function(e,n,i,s){t.rect(e,n,i,s),this.__originalRect(e,n,i,s)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),us(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const s=i[0],r=i[1],a=i[2]-s,o=i[3]-r;0!==a&&0!==o&&(this.genericComposeSMask(t.context,n,a,o,t.subtype,t.backdrop,t.transferMap,s,r,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,s,r,a,o,l,c,d){let u=e.canvas,h=o-c,p=l-d;if(r)if(h<0||p<0||h+n>u.width||p+i>u.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,i),t=e.context;t.drawImage(u,-h,-p),r.some((e=>0!==e))&&(t.globalCompositeOperation="destination-atop",t.fillStyle=Ln.makeHexColor(...r),t.fillRect(0,0,n,i),t.globalCompositeOperation="source-over"),u=e.canvas,h=p=0}else if(r.some((e=>0!==e))){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const t=new Path2D;t.rect(h,p,n,i),e.clip(t),e.globalCompositeOperation="destination-atop",e.fillStyle=Ln.makeHexColor(...r),e.fillRect(h,p,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===s&&a?t.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===s&&(t.filter=this.filterFactory.addLuminosityFilter(a));const f=new Path2D;f.rect(o,l,n,i),t.clip(f),t.globalCompositeOperation="destination-in",t.drawImage(u,h,p,n,i,o,l,n,i),t.restore()}save(){this.inSMaskMode?(us(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),us(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,i,s,r){this.ctx.transform(e,t,n,i,s,r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const i=this.ctx,s=this.current;let r,a,o=s.x,l=s.y;const c=vi(i),d=0===c[0]&&0===c[3]||0===c[1]&&0===c[2],u=d?n.slice(0):null;for(let h=0,p=0,f=e.length;h<f;h++)switch(0|e[h]){case ln.rectangle:o=t[p++],l=t[p++];const e=t[p++],n=t[p++],h=o+e,f=l+n;i.moveTo(o,l),0===e||0===n?i.lineTo(h,f):(i.lineTo(h,l),i.lineTo(h,f),i.lineTo(o,f)),d||s.updateRectMinMax(c,[o,l,h,f]),i.closePath();break;case ln.moveTo:o=t[p++],l=t[p++],i.moveTo(o,l),d||s.updatePathMinMax(c,o,l);break;case ln.lineTo:o=t[p++],l=t[p++],i.lineTo(o,l),d||s.updatePathMinMax(c,o,l);break;case ln.curveTo:r=o,a=l,o=t[p+4],l=t[p+5],i.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],o,l),s.updateCurvePathMinMax(c,r,a,t[p],t[p+1],t[p+2],t[p+3],o,l,u),p+=6;break;case ln.curveTo2:r=o,a=l,i.bezierCurveTo(o,l,t[p],t[p+1],t[p+2],t[p+3]),s.updateCurvePathMinMax(c,r,a,o,l,t[p],t[p+1],t[p+2],t[p+3],u),o=t[p+2],l=t[p+3],p+=4;break;case ln.curveTo3:r=o,a=l,o=t[p+2],l=t[p+3],i.bezierCurveTo(t[p],t[p+1],o,l,o,l),s.updateCurvePathMinMax(c,r,a,t[p],t[p+1],o,l,o,l,u),p+=4;break;case ln.closePath:i.closePath()}d&&s.updateScalingPathMinMax(c,u),s.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&n?.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,bi(t),qi),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.fillColor;let i=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,bi(t),Gi),i=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==s&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ms}eoClip(){this.pendingClip=vs}beginText(){this.current.textMatrix=gt,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||mt,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||fn("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const s=n.loadedName||"sans-serif",r=n.systemFontInfo?.css||`"${s}", ${n.fallbackName}`;let a="normal";n.black?a="900":n.bold&&(a="bold");const o=n.italic?"italic":"normal";let l=t;t<16?l=16:t>100&&(l=100),this.current.fontSizeScale=t/l,this.ctx.font=`${o} ${a} ${l}px ${r}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,i,s,r){this.current.textMatrix=[e,t,n,i,s,r],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i){const s=this.ctx,r=this.current,a=r.font,o=r.textRenderingMode,l=r.fontSize/r.fontSizeScale,c=o&Dt,d=!!(o&It),u=r.patternFill&&!a.missingFile;let h;if((a.disableFontFace||d||u)&&(h=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||u?(s.save(),s.translate(t,n),s.beginPath(),h(s,l),i&&s.setTransform(...i),c!==Pt&&c!==Rt||s.fill(),c!==Mt&&c!==Rt||s.stroke(),s.restore()):(c!==Pt&&c!==Rt||s.fillText(e,t,n),c!==Mt&&c!==Rt||s.strokeText(e,t,n)),d){(this.pendingTextPaths||=[]).push({transform:vi(s),x:t,y:n,fontSize:l,addToPath:h})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return bn(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(0===i)return;const s=this.ctx,r=t.fontSizeScale,a=t.charSpacing,o=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,d=e.length,u=n.vertical,h=u?1:-1,p=n.defaultVMetrics,f=i*t.fontMatrix[0],g=t.textRenderingMode===Pt&&!n.disableFontFace&&!t.patternFill;let m;if(s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),l>0?s.scale(c,-1):s.scale(c,1),t.patternFill){s.save();const e=t.fillColor.getPattern(s,this,bi(s),Gi);m=vi(s),s.restore(),s.fillStyle=e}let v=t.lineWidth;const b=t.textMatrixScale;if(0===b||0===v){const e=t.textRenderingMode&Dt;e!==Mt&&e!==Rt||(v=this.getSinglePixelWidth())}else v/=b;if(1!==r&&(s.scale(r,r),v/=r),s.lineWidth=v,n.isInvalidPDFjsFont){const n=[];let i=0;for(const t of e)n.push(t.unicode),i+=t.width;return s.fillText(n.join(""),0,0),t.x+=i*f*c,s.restore(),void this.compose()}let y,A=0;for(y=0;y<d;++y){const t=e[y];if("number"===typeof t){A+=h*t*i/1e3;continue}let c=!1;const d=(t.isSpace?o:0)+a,v=t.fontChar,b=t.accent;let w,x,E=t.width;if(u){const e=t.vmetric||p,n=-(t.vmetric?e[1]:.5*E)*f,i=e[2]*f;E=e?-e[0]:E,w=n/r,x=(A+i)/r}else w=A/r,x=0;if(n.remeasure&&E>0){const e=1e3*s.measureText(v).width/i*r;if(E<e&&this.isFontSubpixelAAEnabled){const t=E/e;c=!0,s.save(),s.scale(t,1),w/=t}else E!==e&&(w+=(E-e)/2e3*i/r)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(g&&!b)s.fillText(v,w,x);else if(this.paintChar(v,w,x,m),b){const e=w+i*b.offset.x/r,t=x-i*b.offset.y/r;this.paintChar(b.fontChar,e,t,m)}A+=u?E*f-d*l:E*f+d*l,c&&s.restore()}u?t.y-=A:t.x+=A*c,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,s=n.fontSize,r=n.fontDirection,a=i.vertical?1:-1,o=n.charSpacing,l=n.wordSpacing,c=n.textHScale*r,d=n.fontMatrix||mt,u=e.length;let h,p,f,g;if(!(n.textRenderingMode===Lt)&&0!==s){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(c,r),h=0;h<u;++h){if(p=e[h],"number"===typeof p){g=a*p*s/1e3,this.ctx.translate(g,0),n.x+=g*c;continue}const r=(p.isSpace?l:0)+o,u=i.charProcOperatorList[p.operatorListId];if(!u){fn(`Type3 character "${p.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=p,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(u),this.restore());f=Ln.applyTransform([p.width,0],d)[0]*s+r,t.translate(f,0),n.x+=f*c}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,s,r){this.ctx.rect(n,i,s-n,r-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],i=this.baseTransform||vi(this.ctx),s={createCanvasGraphics:e=>new bs(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new is(e,n,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const i=Ln.makeHexColor(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,n){const i=Ln.makeHexColor(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=function(e){switch(e[0]){case"RadialAxial":return new Yi(e);case"Mesh":return new Ji(e);case"Dummy":return new es}throw new Error(`Unknown IR type: ${e[0]}`)}(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,bi(t),$i);const i=bi(t);if(i){const{width:e,height:n}=t.canvas,[s,r,a,o]=Ln.getAxialAlignedBoundingBox([0,0,e,n],i);this.ctx.fillRect(s,r,a-s,o-r)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){gn("Should not call beginInlineImage")}beginImageData(){gn("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=vi(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax(vi(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||pn("TODO: Support non-isolated groups."),e.knockout&&fn("Knockout groups not supported.");const n=vi(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Ln.getAxialAlignedBoundingBox(e.bbox,vi(t));const s=[0,0,t.canvas.width,t.canvas.height];i=Ln.intersect(i,s)||[0,0,0,0];const r=Math.floor(i[0]),a=Math.floor(i[1]),o=Math.max(Math.ceil(i[2])-r,1),l=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,o,l]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,o,l),u=d.context;u.translate(-r,-a),u.transform(...n),e.smask?this.smaskStack.push({canvas:d.canvas,context:u,offsetX:r,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(r,a),t.save()),us(t,u),this.ctx=u,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=vi(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=Ln.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,i,s){if(this.#Rt(),hs(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const i=t[2]-t[0],r=t[3]-t[1];if(s&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=i,t[3]=r;const[s,a]=Ln.singularValueDecompose2dScale(vi(this.ctx)),{viewportScale:o}=this,l=Math.ceil(i*this.outputScaleX*o),c=Math.ceil(r*this.outputScaleY*o);this.annotationCanvas=this.canvasFactory.create(l,c);const{canvas:d,context:u}=this.annotationCanvas;this.annotationCanvasMap.set(e,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=u,this.ctx.save(),this.ctx.setTransform(s,0,0,-a,0,r*a),hs(this.ctx)}else hs(this.ctx),this.ctx.rect(t[0],t[1],i,r),this.ctx.clip(),this.endPath()}this.current=new ls(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#Lt(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,i=this.processingType3;if(i&&(void 0===i.compiled&&(i.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=t+1;let r,a,o,l=new Uint8Array(s*(n+1));const c=t+7&-8;let d=new Uint8Array(c*n),u=0;for(const g of e.data){let e=128;for(;e>0;)d[u++]=g&e?0:255,e>>=1}let h=0;for(u=0,0!==d[u]&&(l[0]=1,++h),a=1;a<t;a++)d[u]!==d[u+1]&&(l[a]=d[u]?2:1,++h),u++;for(0!==d[u]&&(l[a]=2,++h),r=1;r<n;r++){u=r*c,o=r*s,d[u-c]!==d[u]&&(l[o]=d[u]?1:8,++h);let e=(d[u]?4:0)+(d[u-c]?8:0);for(a=1;a<t;a++)e=(e>>2)+(d[u+1]?4:0)+(d[u-c+1]?8:0),i[e]&&(l[o+a]=i[e],++h),u++;if(d[u-c]!==d[u]&&(l[o+a]=d[u]?2:4,++h),h>1e3)return null}for(u=c*(n-1),o=r*s,0!==d[u]&&(l[o]=8,++h),a=1;a<t;a++)d[u]!==d[u+1]&&(l[o+a]=d[u]?4:8,++h),u++;if(0!==d[u]&&(l[o+a]=4,++h),h>1e3)return null;const p=new Int32Array([0,s,-1,0,-s,0,0,0,1]),f=new Path2D;for(r=0;h&&r<=n;r++){let e=r*s;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;f.moveTo(e%s,r);const i=e;let a=l[e];do{const t=p[a];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(a=n,l[e]=0):(a=n&51*a>>4,l[e]&=a>>2|a<<2),f.lineTo(e%s,e/s|0),l[e]||--h}while(i!==e);--r}return d=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(f),e.beginPath(),e.restore()}}(e)),i.compiled))return void i.compiled(n);const s=this._createMaskCanvas(e),r=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(r,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const o=vi(a);a.transform(t,n,i,s,0,0);const l=this._createMaskCanvas(e);a.setTransform(1,0,0,1,l.offsetX-o[4],l.offsetY-o[5]);for(let c=0,d=r.length;c<d;c+=2){const e=Ln.transform(o,[t,n,i,s,r[c],r[c+1]]),[d,u]=Ln.applyTransform([0,0],e);a.drawImage(l.canvas,d,u)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:e,width:r,height:a,transform:o}=s,l=this.cachedCanvases.getCanvas("maskCanvas",r,a),c=l.context;c.save();ds(c,this.getObject(e,s)),c.globalCompositeOperation="source-in",c.fillStyle=i?n.getPattern(c,this,bi(t),Gi):n,c.fillRect(0,0,r,a),c.restore(),t.save(),t.transform(...o),t.scale(1,-1),os(t,l.canvas,0,0,r,a,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):fn("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s)return void fn("Dependent image isn't ready yet");const r=s.width,a=s.height,o=[];for(let l=0,c=i.length;l<c;l+=2)o.push({transform:[t,0,0,n,i[l],i[l+1]],x:0,y:0,w:r,h:a});this.paintInlineImageXObjectGroup(s,o)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),r=s.context;return r.filter=this.current.transferMaps,r.drawImage(t,0,0),r.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;if(this.save(),!ft){const{filter:e}=i;"none"!==e&&""!==e&&(i.filter="none")}let s;if(i.scale(1/t,-1/n),e.bitmap)s=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)s=e;else{const i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;cs(i,e),s=this.applyTransferMapsToCanvas(i)}const r=this._scaleImage(s,bi(i));i.imageSmoothingEnabled=ps(vi(i),e.interpolate),os(i,r.img,0,0,r.paintWidth,r.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const t=e.width,n=e.height,s=this.cachedCanvases.getCanvas("inlineImage",t,n).context;cs(s,e),i=this.applyTransferMapsToCanvas(s)}for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),os(n,i,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===vs?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=vi(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:s}=this.ctx.getTransform();let r,a;if(0===n&&0===i){const n=Math.abs(t),i=Math.abs(s);if(n===i)if(0===e)r=a=1/n;else{const t=n*e;r=a=t<1?1/t:1}else if(0===e)r=1/n,a=1/i;else{const t=n*e,s=i*e;r=t<1?1/t:1,a=s<1?1/s:1}}else{const o=Math.abs(t*s-n*i),l=Math.hypot(t,n),c=Math.hypot(i,s);if(0===e)r=c/o,a=l/o;else{const t=e*o;r=c>t?c/t:1,a=l>t?l/t:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=n||1,1===i&&1===s)return void t.stroke();const r=t.getLineDash();if(e&&t.save(),t.scale(i,s),r.length>0){const e=Math.max(i,s);t.setLineDash(r.map((t=>t/e))),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const sl in ln)void 0!==bs.prototype[sl]&&(bs.prototype[ln[sl]]=bs.prototype[sl]);class ys{static#Dt=null;static#It="";static get workerPort(){return this.#Dt}static set workerPort(e){if(!("undefined"!==typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");this.#Dt=e}static get workerSrc(){return this.#It}static set workerSrc(e){if("string"!==typeof e)throw new Error("Invalid `workerSrc` type.");this.#It=e}}const As=1,ws=2,xs=1,Es=2,Ss=3,Cs=4,ks=5,_s=6,Ts=7,Ps=8;function Ms(e){switch(e instanceof Error||"object"===typeof e&&null!==e||gn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new kn(e.message);case"MissingPDFException":return new En(e.message);case"PasswordException":return new An(e.message,e.code);case"UnexpectedResponseException":return new Sn(e.message,e.status);case"UnknownErrorException":return new wn(e.message,e.details);default:return new wn(e.message,e.toString())}}class Rs{constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void this.#Ft(t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],t.callback===As)n.resolve(t.data);else{if(t.callback!==ws)throw new Error("Unexpected callback case");n.reject(Ms(t.reason))}return}const i=this.actionHandler[t.action];if(!i)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,s=t.sourceName;new Promise((function(e){e(i(t.data))})).then((function(i){n.postMessage({sourceName:e,targetName:s,callback:As,callbackId:t.callbackId,data:i})}),(function(i){n.postMessage({sourceName:e,targetName:s,callback:ws,callbackId:t.callbackId,reason:Ms(i)})}))}else t.streamId?this.#Nt(t):i(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(r){s.reject(r)}return s.promise}sendWithStream(e,t,n,i){const s=this.streamId++,r=this.sourceName,a=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[s]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:r,targetName:a,action:e,streamId:s,data:t,desiredSize:n.desiredSize},i),l.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[s].pullCall=t,o.postMessage({sourceName:r,targetName:a,stream:_s,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:e=>{mn(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[s].cancelCall=t,this.streamControllers[s].isClosed=!0,o.postMessage({sourceName:r,targetName:a,stream:xs,streamId:s,reason:Ms(e)}),t.promise}},n)}#Nt(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,r=this,a=this.actionHandler[e.action],o={enqueue(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=r,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:Cs,streamId:t,chunk:e},a)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Ss,streamId:t}),delete r.streamSinks[t])},error(e){mn(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:ks,streamId:t,reason:Ms(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,new Promise((function(t){t(a(e.data,o))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:Ps,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:Ps,streamId:t,reason:Ms(e)})}))}#Ft(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,r=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case Ps:e.success?r.startCall.resolve():r.startCall.reject(Ms(e.reason));break;case Ts:e.success?r.pullCall.resolve():r.pullCall.reject(Ms(e.reason));break;case _s:if(!a){s.postMessage({sourceName:n,targetName:i,stream:Ts,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise((function(e){e(a.onPull?.())})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:Ts,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:Ts,streamId:t,reason:Ms(e)})}));break;case Cs:if(mn(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(e.chunk);break;case Ss:if(mn(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),this.#Ot(r,t);break;case ks:mn(r,"error should have stream controller"),r.controller.error(Ms(e.reason)),this.#Ot(r,t);break;case Es:e.success?r.cancelCall.resolve():r.cancelCall.reject(Ms(e.reason)),this.#Ot(r,t);break;case xs:if(!a)break;new Promise((function(t){t(a.onCancel?.(Ms(e.reason)))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:Es,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:Es,streamId:t,reason:Ms(e)})})),a.sinkCapability.reject(Ms(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#Ot(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class Ls{#jt;#zt;constructor(e){let{parsedData:t,rawData:n}=e;this.#jt=t,this.#zt=n}getRaw(){return this.#zt}get(e){return this.#jt.get(e)??null}getAll(){return Pn(this.#jt)}has(e){return this.#jt.has(e)}}const Ds=Symbol("INTERNAL");class Is{#Bt=!1;#Ht=!1;#Ut=!1;#Wt=!0;constructor(e,t){let{name:n,intent:i,usage:s}=t;this.#Bt=!!(e&yt),this.#Ht=!!(e&At),this.name=n,this.intent=i,this.usage=s}get visible(){if(this.#Ut)return this.#Wt;if(!this.#Wt)return!1;const{print:e,view:t}=this.usage;return this.#Bt?"OFF"!==t?.viewState:!this.#Ht||"OFF"!==e?.printState}_setVisible(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==Ds&&gn("Internal method `_setVisible` called."),this.#Ut=n,this.#Wt=t}}class Fs{#Vt=null;#Gt=(()=>new Map)();#qt=null;#$t=null;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yt;if(this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#$t=e.order;for(const n of e.groups)this.#Gt.set(n.id,new Is(t,n));if("OFF"===e.baseState)for(const e of this.#Gt.values())e._setVisible(Ds,!1);for(const t of e.on)this.#Gt.get(t)._setVisible(Ds,!0);for(const t of e.off)this.#Gt.get(t)._setVisible(Ds,!1);this.#qt=this.getHash()}}#Xt(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let s;if(Array.isArray(t))s=this.#Xt(t);else{if(!this.#Gt.has(t))return fn(`Optional content group not found: ${t}`),!0;s=this.#Gt.get(t).visible}switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return"And"===n}isVisible(e){if(0===this.#Gt.size)return!0;if(!e)return pn("Optional content group not defined."),!0;if("OCG"===e.type)return this.#Gt.has(e.id)?this.#Gt.get(e.id).visible:(fn(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return this.#Xt(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#Gt.has(t))return fn(`Optional content group not found: ${t}`),!0;if(this.#Gt.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this.#Gt.has(t))return fn(`Optional content group not found: ${t}`),!0;if(!this.#Gt.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this.#Gt.has(t))return fn(`Optional content group not found: ${t}`),!0;if(!this.#Gt.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this.#Gt.has(t))return fn(`Optional content group not found: ${t}`),!0;if(this.#Gt.get(t).visible)return!1}return!0}return fn(`Unknown optional content policy ${e.policy}.`),!0}return fn(`Unknown group type ${e.type}.`),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.#Gt.get(e);n?(n._setVisible(Ds,!!t,!0),this.#Vt=null):fn(`Optional content group not found: ${e}`)}setOCGState(e){let t,{state:n,preserveRB:i}=e;for(const s of n){switch(s){case"ON":case"OFF":case"Toggle":t=s;continue}const e=this.#Gt.get(s);if(e)switch(t){case"ON":e._setVisible(Ds,!0);break;case"OFF":e._setVisible(Ds,!1);break;case"Toggle":e._setVisible(Ds,!e.visible)}}this.#Vt=null}get hasInitialVisibility(){return null===this.#qt||this.getHash()===this.#qt}getOrder(){return this.#Gt.size?this.#$t?this.#$t.slice():[...this.#Gt.keys()]:null}getGroups(){return this.#Gt.size>0?Pn(this.#Gt):null}getGroup(e){return this.#Gt.get(e)||null}getHash(){if(null!==this.#Vt)return this.#Vt;const e=new Fi;for(const[t,n]of this.#Gt)e.update(`${t}:${n.visible}`);return this.#Vt=e.hexdigest()}}class Ns{constructor(e,t){let{disableRange:n=!1,disableStream:i=!1}=t;mn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,r?.length>0){const e=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),e.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),e.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),e.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),e.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{mn(this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(i),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){mn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Os(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new js(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class Os{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=ai(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class js{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function zs(e){let{getResponseHeader:t,isHttp:n,rangeChunkSize:i,disableRange:s}=e;const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t("Content-Length"),10);if(!Number.isInteger(a))return r;if(r.suggestedLength=a,a<=2*i)return r;if(s||!n)return r;if("bytes"!==t("Accept-Ranges"))return r;return"identity"!==(t("Content-Encoding")||"identity")||(r.allowRangeRequests=!0),r}function Bs(e){const t=e("Content-Disposition");if(t){let e=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=a(n);return e=unescape(e),e=o(e),e=l(e),r(e)}if(n=function(e){const t=[];let n;const s=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=s.exec(e));){let[,e,i,s]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[i,s]}const r=[];for(let i=0;i<t.length&&i in t;++i){let[e,n]=t[i];n=a(n),e&&(n=unescape(n),0===i&&(n=o(n))),r.push(n)}return r.join("")}(e),n)return r(l(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=a(n);return e=l(e),r(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),s=Tn(n);n=i.decode(s),t=!1}catch{}}return n}function r(e){return t&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),t&&(e=s("iso-8859-1",e))),e}function a(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:s(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,i){if("q"===n||"Q"===n)return s(t,i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{i=atob(i)}catch{}return s(t,i)}))}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(ai(e))return e}return null}function Hs(e,t){return 404===e||0===e&&t.startsWith("file:")?new En('Missing PDF "'+t+'".'):new Sn(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)}function Us(e){return 200===e||206===e}function Ws(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Vs(e){const t=new Headers;for(const n in e){const i=e[n];void 0!==i&&t.append(n,i)}return t}function Gs(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(fn(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class qs{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return mn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new $s(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Xs(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class $s{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=Vs(this._stream.httpHeaders);const n=t.url;fetch(n,Ws(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!Us(e.status))throw Hs(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:i,suggestedLength:s}=zs({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=s||this._contentLength,this._filename=Bs(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new kn("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Gs(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Xs{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=Vs(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const s=i.url;fetch(s,Ws(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!Us(e.status))throw Hs(e.status,s);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Gs(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Ks{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const i={begin:e,end:t};for(const s in n)i[s]=n[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const e=this.httpHeaders[s];void 0!==e&&t.setRequestHeader(s,e)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=206):i.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void n.onError?.(i.status);const s=i.status||200;if(!(200===s&&206===n.expectedStatus)&&s!==n.expectedStatus)return void n.onError?.(i.status);const r=function(e){const t=e.response;return"string"!==typeof t?t:Tn(t).buffer}(i);if(206===s){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:r})}else r?n.onDone({begin:0,chunk:r}):n.onError?.(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Ys{constructor(e){this._source=e,this._manager=new Ks(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return mn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Qs(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new Zs(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Qs{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:i,suggestedLength:s}=zs({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=Bs(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Hs(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Zs{constructor(e,t,n){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Hs(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Js=/^file:\/\/\/[a-zA-Z]:\//;class er{constructor(e){this.source=e,this.url=function(e){const t=Wi.get("url"),n=t.parse(e);return"file:"===n.protocol||n.host?n:/^[a-z]:[/\\]/i.test(e)?t.parse(`file:///${e}`):(n.host||(n.protocol="file:"),n)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return mn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ar(this):new sr(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new or(this,e,t):new rr(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class tr{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new kn("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class nr{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,this.onProgress?.({loaded:this._loaded});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function ir(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class sr extends tr{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new En(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:i,suggestedLength:s}=zs({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=s||this._contentLength,this._filename=Bs(n)};if(this._request=null,"http:"===this._url.protocol){const n=Wi.get("http");this._request=n.request(ir(this._url,e.httpHeaders),t)}else{const n=Wi.get("https");this._request=n.request(ir(this._url,e.httpHeaders),t)}this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class rr extends nr{constructor(e,t,n){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const t=e.httpHeaders[s];void 0!==t&&(this._httpHeaders[s]=t)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const i=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new En(`Missing PDF "${this._url}".`);this._storedError=e}};if(this._request=null,"http:"===this._url.protocol){const e=Wi.get("http");this._request=e.request(ir(this._url,this._httpHeaders),i)}else{const e=Wi.get("https");this._request=e.request(ir(this._url,this._httpHeaders),i)}this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class ar extends tr{constructor(e){super(e);let t=decodeURIComponent(this._url.path);Js.test(this._url.href)&&(t=t.replace(/^\//,""));const n=Wi.get("fs");n.promises.lstat(t).then((e=>{this._contentLength=e.size,this._setReadableStream(n.createReadStream(t)),this._headersCapability.resolve()}),(e=>{"ENOENT"===e.code&&(e=new En(`Missing PDF "${t}".`)),this._storedError=e,this._headersCapability.reject(e)}))}}class or extends nr{constructor(e,t,n){super(e);let i=decodeURIComponent(this._url.path);Js.test(this._url.href)&&(i=i.replace(/^\//,""));const s=Wi.get("fs");this._setReadableStream(s.createReadStream(i,{start:t,end:n-1}))}}const lr=30;class cr{#Kt=(()=>Promise.withResolvers())();#me=null;#Yt=!1;#Qt=(()=>!!globalThis.FontInspector?.enabled)();#Zt=null;#Jt=null;#en=0;#tn=0;#nn=null;#in=null;#sn=0;#rn=0;#an=(()=>Object.create(null))();#on=[];#ln=null;#cn=[];#dn=(()=>new WeakMap)();#un=null;static#hn=(()=>new Map)();static#pn=(()=>new Map)();static#fn=null;static#gn=(()=>new Set)();constructor(e){let{textContentSource:t,container:n,viewport:i}=e;if(t instanceof ReadableStream)this.#ln=t;else{if("object"!==typeof t)throw new Error('No "textContentSource" parameter specified.');this.#ln=new ReadableStream({start(e){e.enqueue(t),e.close()}})}this.#me=this.#in=n,this.#rn=i.scale*(globalThis.devicePixelRatio||1),this.#sn=i.rotation,this.#Jt={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};const{pageWidth:s,pageHeight:r,pageX:a,pageY:o}=i.rawDims;this.#un=[1,0,0,-1,-a,o+r],this.#tn=s,this.#en=r,cr.#mn(),yi(n,i),this.#Kt.promise.catch((()=>{})).then((()=>{cr.#gn.delete(this),this.#Jt=null,this.#an=null}))}render(){const e=()=>{this.#nn.read().then((t=>{let{value:n,done:i}=t;i?this.#Kt.resolve():(this.#Zt??=n.lang,Object.assign(this.#an,n.styles),this.#vn(n.items),e())}),this.#Kt.reject)};return this.#nn=this.#ln.getReader(),cr.#gn.add(this),e(),this.#Kt.promise}update(e){let{viewport:t,onBefore:n=null}=e;const i=t.scale*(globalThis.devicePixelRatio||1),s=t.rotation;if(s!==this.#sn&&(n?.(),this.#sn=s,yi(this.#in,{rotation:s})),i!==this.#rn){n?.(),this.#rn=i;const e={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:cr.#bn(this.#Zt)};for(const t of this.#cn)e.properties=this.#dn.get(t),e.div=t,this.#yn(e)}}cancel(){const e=new kn("TextLayer task cancelled.");this.#nn?.cancel(e).catch((()=>{})),this.#nn=null,this.#Kt.reject(e)}get textDivs(){return this.#cn}get textContentItemsStr(){return this.#on}#vn(e){if(this.#Yt)return;this.#Jt.ctx??=cr.#bn(this.#Zt);const t=this.#cn,n=this.#on;for(const i of e){if(t.length>1e5)return fn("Ignoring additional textDivs for performance reasons."),void(this.#Yt=!0);if(void 0!==i.str)n.push(i.str),this.#An(i);else if("beginMarkedContentProps"===i.type||"beginMarkedContent"===i.type){const e=this.#me;this.#me=document.createElement("span"),this.#me.classList.add("markedContent"),null!==i.id&&this.#me.setAttribute("id",`${i.id}`),e.append(this.#me)}else"endMarkedContent"===i.type&&(this.#me=this.#me.parentNode)}}#An(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};this.#cn.push(t);const i=Ln.transform(this.#un,e.transform);let s=Math.atan2(i[1],i[0]);const r=this.#an[e.fontName];r.vertical&&(s+=Math.PI/2);const a=this.#Qt&&r.fontSubstitution||r.fontFamily,o=Math.hypot(i[2],i[3]),l=o*cr.#wn(a,this.#Zt);let c,d;0===s?(c=i[4],d=i[5]-l):(c=i[4]+l*Math.sin(s),d=i[5]-l*Math.cos(s));const u="calc(var(--scale-factor)*",h=t.style;this.#me===this.#in?(h.left=`${(100*c/this.#tn).toFixed(2)}%`,h.top=`${(100*d/this.#en).toFixed(2)}%`):(h.left=`${u}${c.toFixed(2)}px)`,h.top=`${u}${d.toFixed(2)}px)`),h.fontSize=`${u}${(cr.#fn*o).toFixed(2)}px)`,h.fontFamily=a,n.fontSize=o,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#Qt&&(t.dataset.fontName=r.fontSubstitutionLoadedName||e.fontName),0!==s&&(n.angle=s*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(p=!0)}if(p&&(n.canvasWidth=r.vertical?e.height:e.width),this.#dn.set(t,n),this.#Jt.div=t,this.#Jt.properties=n,this.#yn(this.#Jt),n.hasText&&this.#me.append(t),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this.#me.append(e)}}#yn(e){const{div:t,properties:n,ctx:i,prevFontSize:s,prevFontFamily:r}=e,{style:a}=t;let o="";if(cr.#fn>1&&(o=`scale(${1/cr.#fn})`),0!==n.canvasWidth&&n.hasText){const{fontFamily:l}=a,{canvasWidth:c,fontSize:d}=n;s===d&&r===l||(i.font=`${d*this.#rn}px ${l}`,e.prevFontSize=d,e.prevFontFamily=l);const{width:u}=i.measureText(t.textContent);u>0&&(o=`scaleX(${c*this.#rn/u}) ${o}`)}0!==n.angle&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(a.transform=o)}static cleanup(){if(!(this.#gn.size>0)){this.#hn.clear();for(const{canvas:e}of this.#pn.values())e.remove();this.#pn.clear()}}static#bn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.#pn.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#pn.set(e,t)}return t}static#mn(){if(null!==this.#fn)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),this.#fn=e.getBoundingClientRect().height,e.remove()}static#wn(e,t){const n=this.#hn.get(e);if(n)return n;const i=this.#bn(t),s=i.font;i.canvas.width=i.canvas.height=lr,i.font=`30px ${e}`;const r=i.measureText("");let a=r.fontBoundingBoxAscent,o=Math.abs(r.fontBoundingBoxDescent);if(a){const t=a/(a+o);return this.#hn.set(e,t),i.canvas.width=i.canvas.height=0,i.font=s,t}i.strokeStyle="red",i.clearRect(0,0,lr,lr),i.strokeText("g",0,0);let l=i.getImageData(0,0,lr,lr).data;o=0;for(let d=l.length-1-3;d>=0;d-=4)if(l[d]>0){o=Math.ceil(d/4/lr);break}i.clearRect(0,0,lr,lr),i.strokeText("A",0,lr),l=i.getImageData(0,0,lr,lr).data,a=0;for(let d=0,u=l.length;d<u;d+=4)if(l[d]>0){a=lr-Math.floor(d/4/lr);break}i.canvas.width=i.canvas.height=0,i.font=s;const c=a?a/(a+o):.8;return this.#hn.set(e,c),c}}function dr(){hi("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:e,container:t,viewport:n,...i}=arguments[0],s=Object.keys(i);s.length>0&&fn("Ignoring `renderTextLayer` parameters: "+s.join(", "));const r=new cr({textContentSource:e,container:t,viewport:n}),{textDivs:a,textContentItemsStr:o}=r;return{promise:r.render(),textDivs:a,textContentItemsStr:o}}function ur(){hi("`updateTextLayer`, please use `TextLayer` instead.")}class hr{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){if(!n)return;let i=null;const s=n.name;if("#text"===s)i=n.value;else{if(!hr.shouldBuildText(s))return;n?.attributes?.textContent?i=n.attributes.textContent:n.value&&(i=n.value)}if(null!==i&&t.push({str:i}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}const pr=65536,fr=ft?class extends $n{_createCanvas(e,t){return Wi.get("canvas").createCanvas(e,t)}}:class extends $n{constructor(){let{ownerDocument:e=globalThis.document,enableHWA:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}},gr=ft?class extends Xn{_fetchData(e,t){return Vi(e).then((e=>({cMapData:e,compressionType:t})))}}:ei,mr=ft?class extends qn{}:class extends qn{#xn;#En;#Sn;#Cn;#kn;#v=0;constructor(){let{docId:e,ownerDocument:t=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.#Sn=e,this.#Cn=t}get#y(){return this.#xn||=new Map}get#_n(){return this.#kn||=new Map}get#Tn(){if(!this.#En){const e=this.#Cn.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#Cn.createElementNS(Qn,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#En=this.#Cn.createElementNS(Qn,"defs"),e.append(n),n.append(this.#En),this.#Cn.body.append(e)}return this.#En}#Pn(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const i=n.join(",");return[i,i,i]}const[t,n,i]=e,s=new Array(256),r=new Array(256),a=new Array(256);for(let o=0;o<256;o++)s[o]=t[o]/255,r[o]=n[o]/255,a[o]=i[o]/255;return[s.join(","),r.join(","),a.join(",")]}addFilter(e){if(!e)return"none";let t=this.#y.get(e);if(t)return t;const[n,i,s]=this.#Pn(e),r=1===e.length?n:`${n}${i}${s}`;if(t=this.#y.get(r),t)return this.#y.set(e,t),t;const a=`g_${this.#Sn}_transfer_map_${this.#v++}`,o=`url(#${a})`;this.#y.set(e,o),this.#y.set(r,o);const l=this.#Mn(a);return this.#Rn(n,i,s,l),o}addHCMFilter(e,t){const n=`${e}-${t}`,i="base";let s=this.#_n.get(i);if(s?.key===n)return s.url;if(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#_n.set(i,s)),!e||!t)return s.url;const r=this.#Ln(e);e=Ln.makeHexColor(...r);const a=this.#Ln(t);if(t=Ln.makeHexColor(...a),this.#Tn.style.color="","#000000"===e&&"#ffffff"===t||e===t)return s.url;const o=new Array(256);for(let h=0;h<=255;h++){const e=h/255;o[h]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const l=o.join(","),c=`g_${this.#Sn}_hcm_filter`,d=s.filter=this.#Mn(c);this.#Rn(l,l,l,d),this.#Dn(d);const u=(e,t)=>{const n=r[e]/255,i=a[e]/255,s=new Array(t+1);for(let r=0;r<=t;r++)s[r]=n+r/t*(i-n);return s.join(",")};return this.#Rn(u(0,5),u(1,5),u(2,5),d),s.url=`url(#${c})`,s.url}addAlphaFilter(e){let t=this.#y.get(e);if(t)return t;const[n]=this.#Pn([e]),i=`alpha_${n}`;if(t=this.#y.get(i),t)return this.#y.set(e,t),t;const s=`g_${this.#Sn}_alpha_map_${this.#v++}`,r=`url(#${s})`;this.#y.set(e,r),this.#y.set(i,r);const a=this.#Mn(s);return this.#In(n,a),r}addLuminosityFilter(e){let t,n,i=this.#y.get(e||"luminosity");if(i)return i;if(e?([t]=this.#Pn([e]),n=`luminosity_${t}`):n="luminosity",i=this.#y.get(n),i)return this.#y.set(e,i),i;const s=`g_${this.#Sn}_luminosity_map_${this.#v++}`,r=`url(#${s})`;this.#y.set(e,r),this.#y.set(n,r);const a=this.#Mn(s);return this.#Fn(a),e&&this.#In(t,a),r}addHighlightHCMFilter(e,t,n,i,s){const r=`${t}-${n}-${i}-${s}`;let a=this.#_n.get(e);if(a?.key===r)return a.url;if(a?(a.filter?.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},this.#_n.set(e,a)),!t||!n)return a.url;const[o,l]=[t,n].map(this.#Ln.bind(this));let c=Math.round(.2126*o[0]+.7152*o[1]+.0722*o[2]),d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),[u,h]=[i,s].map(this.#Ln.bind(this));d<c&&([c,d,u,h]=[d,c,h,u]),this.#Tn.style.color="";const p=(e,t,n)=>{const i=new Array(256),s=(d-c)/n,r=e/255,a=(t-e)/(255*n);let o=0;for(let l=0;l<=n;l++){const e=Math.round(c+l*s),t=r+l*a;for(let n=o;n<=e;n++)i[n]=t;o=e+1}for(let l=o;l<256;l++)i[l]=i[o-1];return i.join(",")},f=`g_${this.#Sn}_hcm_${e}_filter`,g=a.filter=this.#Mn(f);return this.#Dn(g),this.#Rn(p(u[0],h[0],5),p(u[1],h[1],5),p(u[2],h[2],5),g),a.url=`url(#${f})`,a.url}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&0!==this.#_n.size||(this.#En&&(this.#En.parentNode.parentNode.remove(),this.#En=null),this.#xn&&(this.#xn.clear(),this.#xn=null),this.#v=0)}#Fn(e){const t=this.#Cn.createElementNS(Qn,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#Dn(e){const t=this.#Cn.createElementNS(Qn,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#Mn(e){const t=this.#Cn.createElementNS(Qn,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#Tn.append(t),t}#Nn(e,t,n){const i=this.#Cn.createElementNS(Qn,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),e.append(i)}#Rn(e,t,n,i){const s=this.#Cn.createElementNS(Qn,"feComponentTransfer");i.append(s),this.#Nn(s,"feFuncR",e),this.#Nn(s,"feFuncG",t),this.#Nn(s,"feFuncB",n)}#In(e,t){const n=this.#Cn.createElementNS(Qn,"feComponentTransfer");t.append(n),this.#Nn(n,"feFuncA",e)}#Ln(e){return this.#Tn.style.color=e,mi(getComputedStyle(this.#Tn).getPropertyValue("color"))}},vr=ft?class extends Kn{_fetchData(e){return Vi(e)}}:ti;function br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof e||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new Ar,{docId:n}=t,i=e.url?function(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(ft&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(e.url):null,s=e.data?function(e){if(ft&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return Tn(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(e?.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(e.data):null,r=e.httpHeaders||null,a=!0===e.withCredentials,o=e.password??null,l=e.range instanceof wr?e.range:null,c=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:pr;let d=e.worker instanceof kr?e.worker:null;const u=e.verbosity,h="string"!==typeof e.docBaseUrl||ri(e.docBaseUrl)?null:e.docBaseUrl,p="string"===typeof e.cMapUrl?e.cMapUrl:null,f=!1!==e.cMapPacked,g=e.CMapReaderFactory||gr,m="string"===typeof e.standardFontDataUrl?e.standardFontDataUrl:null,v=e.StandardFontDataFactory||vr,b=!0!==e.stopAtErrors,y=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,A=!1!==e.isEvalSupported,w="boolean"===typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!ft,x=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,E="boolean"===typeof e.disableFontFace?e.disableFontFace:ft,S=!0===e.fontExtraProperties,C=!0===e.enableXfa,k=e.ownerDocument||globalThis.document,_=!0===e.disableRange,T=!0===e.disableStream,P=!0===e.disableAutoFetch,M=!0===e.pdfBug,R=!0===e.enableHWA,L=l?l.length:e.length??NaN,D="boolean"===typeof e.useSystemFonts?e.useSystemFonts:!ft&&!E,I="boolean"===typeof e.useWorkerFetch?e.useWorkerFetch:g===ei&&v===ti&&p&&m&&di(p,document.baseURI)&&di(m,document.baseURI),F=e.canvasFactory||new fr({ownerDocument:k,enableHWA:R}),N=e.filterFactory||new mr({docId:n,ownerDocument:k});un(u);const O={canvasFactory:F,filterFactory:N};if(I||(O.cMapReaderFactory=new g({baseUrl:p,isCompressed:f}),O.standardFontDataFactory=new v({baseUrl:m})),!d){const e={verbosity:u,port:ys.workerPort};d=e.port?kr.fromPort(e):new kr(e),t._worker=d}const j={docId:n,apiVersion:"4.4.168",data:s,password:o,disableAutoFetch:P,rangeChunkSize:c,length:L,docBaseUrl:h,enableXfa:C,evaluatorOptions:{maxImageSize:y,disableFontFace:E,ignoreErrors:b,isEvalSupported:A,isOffscreenCanvasSupported:w,canvasMaxAreaInBytes:x,fontExtraProperties:S,useSystemFonts:D,cMapUrl:I?p:null,standardFontDataUrl:I?m:null}},z={disableFontFace:E,fontExtraProperties:S,ownerDocument:k,pdfBug:M,styleElement:null,loadingParams:{disableAutoFetch:P,enableXfa:C}};return d.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const e=d.messageHandler.sendWithPromise("GetDocRequest",j,s?[s.buffer]:null);let o;if(l)o=new Ns(l,{disableRange:_,disableStream:T});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");o=(e=>{if(ft){return function(){return"undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype}()&&di(e.url)?new qs(e):new er(e)}return di(e.url)?new qs(e):new Ys(e)})({url:i,length:L,httpHeaders:r,withCredentials:a,rangeChunkSize:c,disableRange:_,disableStream:T})}return e.then((e=>{if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const i=new Rs(n,e,d.port),s=new _r(i,t,o,z,O);t._transport=s,i.send("Ready",null)}))})).catch(t._capability.reject),t}function yr(e){return"object"===typeof e&&Number.isInteger(e?.num)&&e.num>=0&&Number.isInteger(e?.gen)&&e.gen>=0}class Ar{static#Sn=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+Ar.#Sn++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await(this._transport?.destroy())}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class wr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){gn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class xr{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return bn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Er{#On=null;#jn=!1;constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new ci:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new Pr,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ii({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return bn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(e){let{canvasContext:t,viewport:n,intent:i="display",annotationMode:s=Ct.ENABLE,transform:r=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:d=null}=e;this._stats?.time("Overall");const u=this._transport.getRenderingIntent(i,s,d),{renderingIntent:h,cacheKey:p}=u;this.#jn=!1,this.#zn(),o||=this._transport.getOptionalContentConfig(h);let f=this._intentStates.get(p);f||(f=Object.create(null),this._intentStates.set(p,f)),f.streamReaderCancelTimeout&&(clearTimeout(f.streamReaderCancelTimeout),f.streamReaderCancelTimeout=null);const g=!!(h&At);f.displayReadyCapability||(f.displayReadyCapability=Promise.withResolvers(),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(u));const m=e=>{f.renderTasks.delete(v),(this._maybeCleanupAfterRender||g)&&(this.#jn=!0),this.#Bn(!g),e?(v.capability.reject(e),this._abortOperatorList({intentState:f,reason:e instanceof Error?e:new Error(e)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new Rr({callback:m,params:{canvasContext:t,viewport:n,transform:r,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:f.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:c});(f.renderTasks||=new Set).add(v);const b=v.task;return Promise.all([f.displayReadyCapability.promise,o]).then((e=>{let[t,n]=e;if(this.destroyed)m();else{if(this._stats?.time("Rendering"),!(n.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:t,optionalContentConfig:n}),v.operatorListChanged()}})).catch(m),b}getOperatorList(){let{intent:e="display",annotationMode:t=Ct.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._transport.getRenderingIntent(e,t,n,!0);let s,r=this._intentStates.get(i.cacheKey);return r||(r=Object.create(null),this._intentStates.set(i.cacheKey,r)),r.opListReadCapability||(s=Object.create(null),s.operatorListChanged=function(){r.operatorList.lastChunk&&(r.opListReadCapability.resolve(r.operatorList),r.renderTasks.delete(s))},r.opListReadCapability=Promise.withResolvers(),(r.renderTasks||=new Set).add(s),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(i)),r.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>hr.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const i=t.getReader(),s={items:[],styles:Object.create(null),lang:null};!function t(){i.read().then((function(n){let{value:i,done:r}=n;r?e(s):(s.lang??=i.lang,Object.assign(s.styles,i.styles),s.items.push(...i.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#jn=!1,this.#zn(),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#jn=!0;const t=this.#Bn(!1);return e&&t&&(this._stats&&=new ci),t}#Bn(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#zn(),!this.#jn||this.destroyed)return!1;if(e)return this.#On=setTimeout((()=>{this.#On=null,this.#Bn(!1)}),5e3),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#jn=!1,!0}#zn(){this.#On&&(clearTimeout(this.#On),this.#On=null)}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#Bn(!0)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:i}=e;const{map:s,transfer:r}=i,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:s},r).getReader(),o=this._intentStates.get(n);o.streamReader=a;const l=()=>{a.read().then((e=>{let{value:t,done:n}=e;n?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,o),l())}),(e=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const e of o.renderTasks)e.operatorListChanged();this.#Bn(!0)}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}}))};l()}_abortOperatorList(e){let{intentState:t,reason:n,force:i=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(n instanceof si){let e=100;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})}),e))}}if(t.streamReader.cancel(new kn(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}class Sr{#Hn=(()=>new Set)();#Un=(()=>Promise.resolve())();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#Un.then((()=>{for(const e of this.#Hn)e.call(this,n)}))}addEventListener(e,t){this.#Hn.add(t)}removeEventListener(e,t){this.#Hn.delete(t)}terminate(){this.#Hn.clear()}}const Cr={isWorkerDisabled:!1,fakeWorkerId:0};ft&&(Cr.isWorkerDisabled=!0,ys.workerSrc||="./pdf.worker.mjs"),Cr.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch{return!1}const i=new URL(t,n);return n.origin===i.origin},Cr.createCDNWrapper=function(e){const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};class kr{static#Wn;constructor(){let{name:e=null,port:t=null,verbosity:n=hn()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(kr.#Wn?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(kr.#Wn||=new WeakMap).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return ft?Promise.all([Wi.promise,this._readyCapability.promise]):this._readyCapability.promise}#Vn(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Rs("main","worker",e),this._messageHandler.on("ready",(function(){})),this.#Vn()}_initialize(){if(Cr.isWorkerDisabled||kr.#Gn)return void this._setupFakeWorker();let{workerSrc:e}=kr;try{Cr.isSameOrigin(window.location.href,e)||(e=Cr.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Rs("main","worker",t),i=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",(()=>{this._webWorker||i()}),{signal:s.signal}),n.on("test",(e=>{s.abort(),!this.destroyed&&e?(this._messageHandler=n,this._port=t,this._webWorker=t,this.#Vn()):i()})),n.on("ready",(e=>{if(s.abort(),this.destroyed)i();else try{r()}catch{this._setupFakeWorker()}}));const r=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void r()}catch{pn("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Cr.isWorkerDisabled||(fn("Setting up fake worker."),Cr.isWorkerDisabled=!0),kr._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new Sr;this._port=t;const n="fake"+Cr.fakeWorkerId++,i=new Rs(n+"_worker",n,t);e.setup(i,t),this._messageHandler=new Rs(n,n+"_worker",t),this.#Vn()})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),kr.#Wn?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const t=this.#Wn?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new kr(e)}static get workerSrc(){if(ys.workerSrc)return ys.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#Gn(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return bn(this,"_setupFakeWorkerGlobal",(async()=>{if(this.#Gn)return this.#Gn;return(await import(this.workerSrc)).WorkerMessageHandler})())}}class _r{#qn=(()=>new Map)();#$n=(()=>new Map)();#Xn=(()=>new Map)();#Kn=(()=>new Map)();#Yn=null;constructor(e,t,n,i,s){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Pr,this.fontLoader=new zi({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#Qn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#qn.get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return this.#qn.set(e,i),i}get annotationStorage(){return bn(this,"annotationStorage",new Oi)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ct.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=yt,r=Ni;switch(e){case"any":s=bt;break;case"display":break;case"print":s=At;break;default:fn(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Ct.DISABLE:s+=Et;break;case Ct.ENABLE:break;case Ct.ENABLE_FORMS:s+=wt;break;case Ct.ENABLE_STORAGE:s+=xt;r=(s&At&&n instanceof ji?n:this.annotationStorage).serializable;break;default:fn(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=St),{renderingIntent:s,cacheKey:`${s}_${r.hash}`,annotationStorageSerializable:r}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#Yn?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#$n.values())e.push(n._destroy());this.#$n.clear(),this.#Xn.clear(),this.#Kn.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#qn.clear(),this.filterFactory.destroy(),cr.cleanup(),this._networkStream?.cancelAllRequests(new kn("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{mn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:i}=e;i?t.close():(mn(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const n=Promise.withResolvers(),i=this._fullReader;return i.headersReady.then((()=>{i.isStreamingSupported&&i.isRangeSupported||(this._lastProgress&&t.onProgress?.(this._lastProgress),i.onProgress=e=>{t.onProgress?.({loaded:e.loaded,total:e.total})}),n.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{mn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:i}=e;i?t.close():(mn(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new xr(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new An(e.message,e.code);break;case"InvalidPDFException":n=new xn(e.message);break;case"MissingPDFException":n=new En(e.message);break;case"UnexpectedResponseException":n=new Sn(e.message,e.status);break;case"UnknownErrorException":n=new wn(e.message,e.details);break;default:gn("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(this.#Yn=Promise.withResolvers(),t.onPassword){const i=e=>{e instanceof Error?this.#Yn.reject(e):this.#Yn.resolve({password:e})};try{t.onPassword(i,e.code)}catch(n){this.#Yn.reject(n)}}else this.#Yn.reject(new An(e.message,e.code));return this.#Yn.promise})),e.on("DataLoaded",(e=>{t.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{if(this.destroyed)return;this.#$n.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{let[n,i,s]=t;if(this.destroyed)return null;if(this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:t,fontExtraProperties:r,pdfBug:a}=this._params;if("error"in s){const e=s.error;fn(`Error during font loading: ${e}`),this.commonObjs.resolve(n,e);break}const o=a&&globalThis.FontInspector?.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,l=new Bi(s,{disableFontFace:t,inspectFont:o});this.fontLoader.bind(l).catch((()=>e.sendWithPromise("FontFallback",{id:n}))).finally((()=>{!r&&l.data&&(l.data=null),this.commonObjs.resolve(n,l)}));break;case"CopyLocalImage":const{imageRef:c}=s;mn(c,"The imageRef must be defined.");for(const e of this.#$n.values())for(const[,t]of e.objs)if(t?.ref===c)return t.dataLen?(this.commonObjs.resolve(n,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null})),e.on("obj",(e=>{let[t,n,i,s]=e;if(this.destroyed)return;const r=this.#$n.get(n);if(!r.objs.has(t))if(0!==r._intentStates.size)switch(i){case"Image":r.objs.resolve(t,s),s?.dataLen>1e7&&(r._maybeCleanupAfterRender=!0);break;case"Pattern":r.objs.resolve(t,s);break;default:throw new Error(`Got unknown object type ${i}`)}else s?.bitmap?.close()})),e.on("DocProgress",(e=>{this.destroyed||t.onProgress?.({loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&fn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#Xn.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&this.#Kn.set(n.refStr,e);const i=new Er(t,n,this,this._params.pdfBug);return this.#$n.set(t,i),i}));return this.#Xn.set(t,i),i}getPageIndex(e){return yr(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#Qn("GetFieldObjects")}hasJSActions(){return this.#Qn("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#Qn("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#Qn("GetOptionalContentConfig").then((t=>new Fs(t,e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#qn.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>({info:e[0],metadata:e[1]?new Ls(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})));return this.#qn.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#$n.values()){if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`)}this.commonObjs.clear(),e||this.fontLoader.clear(),this.#qn.clear(),this.filterFactory.destroy(!0),cr.cleanup()}}cachedPageNumber(e){if(!yr(e))return null;const t=0===e.gen?`${e.num}R`:`${e.num}R${e.gen}`;return this.#Kn.get(t)??null}}const Tr=Symbol("INITIAL_DATA");class Pr{#Zn=(()=>Object.create(null))();#Jn(e){return this.#Zn[e]||={...Promise.withResolvers(),data:Tr}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=this.#Jn(e);return n.promise.then((()=>t(n.data))),null}const n=this.#Zn[e];if(!n||n.data===Tr)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#Zn[e];return!!t&&t.data!==Tr}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#Jn(e);n.data=t,n.resolve()}clear(){for(const e in this.#Zn){const{data:t}=this.#Zn[e];t?.bitmap?.close()}this.#Zn=Object.create(null)}*[Symbol.iterator](){for(const e in this.#Zn){const{data:t}=this.#Zn[e];t!==Tr&&(yield[e,t])}}}class Mr{#ei=null;constructor(e){this.#ei=e,this.onContinue=null}get promise(){return this.#ei.capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.#ei.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#ei.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#ei;return e.form||e.canvas&&t?.size>0}}class Rr{#ti=null;static#ni=(()=>new WeakSet)();constructor(e){let{callback:t,params:n,objs:i,commonObjs:s,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:u=!1,pageColors:h=null}=e;this.callback=t,this.params=n,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=u,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Mr(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){let{transparency:t=!1,optionalContentConfig:n}=e;if(this.cancelled)return;if(this._canvas){if(Rr.#ni.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Rr.#ni.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:r,background:a}=this.params;this.gfx=new bs(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:s,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#ti&&(window.cancelAnimationFrame(this.#ti),this.#ti=null),Rr.#ni.delete(this._canvas),this.callback(e||new si(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#ti=window.requestAnimationFrame((()=>{this.#ti=null,this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Rr.#ni.delete(this._canvas),this.callback())))}}const Lr="4.4.168",Dr="19fbc8998";function Ir(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function Fr(e){return Math.max(0,Math.min(255,255*e))}class Nr{static CMYK_G(e){let[t,n,i,s]=e;return["G",1-Math.min(1,.3*t+.59*i+.11*n+s)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=Fr(t),[t,t,t]}static G_HTML(e){let[t]=e;const n=Ir(t);return`#${n}${n}${n}`}static RGB_G(e){let[t,n,i]=e;return["G",.3*t+.59*n+.11*i]}static RGB_rgb(e){return e.map(Fr)}static RGB_HTML(e){return`#${e.map(Ir).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,i,s]=e;return["RGB",1-Math.min(1,t+s),1-Math.min(1,i+s),1-Math.min(1,n+s)]}static CMYK_rgb(e){let[t,n,i,s]=e;return[Fr(1-Math.min(1,t+s)),Fr(1-Math.min(1,i+s)),Fr(1-Math.min(1,n+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,i]=e;const s=1-t,r=1-n,a=1-i;return["CMYK",s,r,a,Math.min(s,r,a)]}}class Or{static setupStorage(e,t,n,i,s){const r=i.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==r.value&&(e.textContent=r.value),"print"===s)break;e.addEventListener("input",(e=>{i.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(r.value===n.attributes.xfaOn?e.setAttribute("checked",!0):r.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===s)break;e.addEventListener("change",(e=>{i.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==r.value&&e.setAttribute("value",r.value),"print"===s)break;e.addEventListener("input",(e=>{i.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==r.value){e.setAttribute("value",r.value);for(const e of n.children)e.attributes.value===r.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",(e=>{const n=e.target.options,s=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(t,{value:s})}))}}static setAttributes(e){let{html:t,element:n,storage:i=null,intent:s,linkService:r}=e;const{attributes:a}=n,o=t instanceof HTMLAnchorElement;"radio"===a.type&&(a.name=`${a.name}-${s}`);for(const[l,c]of Object.entries(a))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&r.addLinkAttributes(t,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(t,a.dataId,n,i)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",r=document.createElement(i.name);i.attributes&&this.setAttributes({html:r,element:i,intent:s,linkService:n});const a="richText"!==s,o=e.div;if(o.append(r),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;o.style.transform=t}a&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===i.children.length){if(i.value){const e=document.createTextNode(i.value);r.append(e),a&&hr.shouldBuildText(i.name)&&l.push(e)}return{textDivs:l}}const c=[[i,-1,r]];for(;c.length>0;){const[e,i,r]=c.at(-1);if(i+1===e.children.length){c.pop();continue}const o=e.children[++c.at(-1)[1]];if(null===o)continue;const{name:d}=o;if("#text"===d){const e=document.createTextNode(o.value);l.push(e),r.append(e);continue}const u=o?.attributes?.xmlns?document.createElementNS(o.attributes.xmlns,d):document.createElement(d);if(r.append(u),o.attributes&&this.setAttributes({html:u,element:o,storage:t,intent:s,linkService:n}),o.children?.length>0)c.push([o,-1,u]);else if(o.value){const e=document.createTextNode(o.value);a&&hr.shouldBuildText(d)&&l.push(e),u.append(e)}}for(const d of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const jr=1e3,zr=new WeakSet;function Br(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class Hr{static create(e){switch(e.data.annotationType){case Ot:return new Wr(e);case Nt:return new Vr(e);case Jt:switch(e.data.fieldType){case"Tx":return new qr(e);case"Btn":return e.data.radioButton?new Kr(e):e.data.checkBox?new Xr(e):new Yr(e);case"Ch":return new Qr(e);case"Sig":return new $r(e)}return new Gr(e);case Qt:return new Zr(e);case jt:return new ea(e);case zt:return new ta(e);case Bt:return new na(e);case Ht:return new ia(e);case Wt:return new sa(e);case Kt:return new aa(e);case Yt:return new oa(e);case Ut:return new ra(e);case Vt:return new la(e);case Gt:return new ca(e);case qt:return new da(e);case $t:return new ua(e);case Xt:return new ha(e);case Zt:return new pa(e);default:return new Ur(e)}}}class Ur{#ii=null;#si=!1;#ri=null;constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:n,richText:i}=e;return!!(t?.str||n?.str||i?.str)}get hasPopupData(){return Ur._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#ii||={rect:this.data.rect.slice(0)};const{rect:t}=e;t&&this.#ai(t),this.#ri?.popup.updateEdited(e)}resetEdited(){this.#ii&&(this.#ai(this.#ii.rect),this.#ri?.popup.resetEdited(),this.#ii=null)}#ai(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:r,pageX:a,pageY:o}}}}=this;n?.splice(0,4,...e);const{width:l,height:c}=Br(e);t.left=100*(e[0]-a)/s+"%",t.top=100*(r-e[3]+o)/r+"%",0===i?(t.width=100*l/s+"%",t.height=100*c/r+"%"):this.setRotation(i)}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Gr||(s.tabIndex=jr);const{style:r}=s;if(r.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof Zr){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,s),s}const{width:a,height:o}=Br(t.rect);if(!e&&t.borderStyle.width>0){r.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`calc(${e}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;r.borderRadius=t}else if(this instanceof Kr){const e=`calc(${a}px * var(--scale-factor)) / calc(${o}px * var(--scale-factor))`;r.borderRadius=e}switch(t.borderStyle.style){case en:r.borderStyle="solid";break;case tn:r.borderStyle="dashed";break;case nn:fn("Unimplemented border style: beveled");break;case sn:fn("Unimplemented border style: inset");break;case rn:r.borderBottomStyle="solid"}const i=t.borderColor||null;i?(this.#si=!0,r.borderColor=Ln.makeHexColor(0|i[0],0|i[1],0|i[2])):r.borderWidth=0}const l=Ln.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:d,pageX:u,pageY:h}=i.rawDims;r.left=100*(l[0]-u)/c+"%",r.top=100*(l[1]-h)/d+"%";const{rotation:p}=t;return t.hasOwnCanvas||0===p?(r.width=100*a/c+"%",r.height=100*o/d+"%"):this.setRotation(p,s),s}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:r}=Br(this.data.rect);let a,o;e%180===0?(a=100*s/n,o=100*r/i):(a=100*r/n,o=100*s/i),t.style.width=`${a}%`,t.style.height=`${o}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const i=n.detail[e],s=i[0],r=i.slice(1);n.target.style[t]=Nr[`${s}_HTML`](r),this.annotationStorage.setValue(this.data.id,{[t]:Nr[`${s}_rgb`](r)})};return bn(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||n[i];s?.(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,s]of Object.entries(t)){const r=n[i];if(r){r({detail:{[i]:s},target:e}),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,s]=this.data.rect.map((e=>Math.fround(e)));if(8===e.length){const[r,a,o,l]=e.subarray(2,6);if(i===r&&s===a&&t===o&&n===l)return}const{style:r}=this.container;let a;if(this.#si){const{borderColor:e,borderWidth:t}=r;r.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${e}" stroke-width="${t}">`],this.container.classList.add("hasBorder")}const o=i-t,l=s-n,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const u=c.createElement("defs");d.append(u);const h=c.createElement("clipPath"),p=`clippath_${this.data.id}`;h.setAttribute("id",p),h.setAttribute("clipPathUnits","objectBoundingBox"),u.append(h);for(let f=2,g=e.length;f<g;f+=8){const n=e[f],i=e[f+1],r=e[f+2],d=e[f+3],u=c.createElement("rect"),p=(r-t)/o,g=(s-i)/l,m=(n-r)/o,v=(i-d)/l;u.setAttribute("x",p),u.setAttribute("y",g),u.setAttribute("width",m),u.setAttribute("height",v),h.append(u),a?.push(`<rect vector-effect="non-scaling-stroke" x="${p}" y="${g}" width="${m}" height="${v}"/>`)}this.#si&&(a.push("</g></svg>')"),r.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${p})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=this.#ri=new Zr({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){gn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:s,exportValues:r}of i){if(-1===e)continue;if(s===t)continue;const i="string"===typeof r?r:null,a=document.querySelector(`[data-element-id="${s}"]`);!a||zr.has(a)?n.push({id:s,exportValue:i,domElement:a}):fn(`_getElementsByName - element not allowed: ${s}`)}return n}for(const i of document.getElementsByName(e)){const{exportValue:e}=i,s=i.getAttribute("data-element-id");s!==t&&(zr.has(i)&&n.push({id:s,exportValue:e,domElement:i}))}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",(()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})}))}}class Wr extends Ur{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(n,e.action),i=!0):e.attachment?(this.#oi(n,e.attachment,e.attachmentDest),i=!0):e.setOCGState?(this.#li(n,e.setOCGState),i=!0):e.dest?(this._bindLink(n,e.dest),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),i=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}#ci(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&this.#ci()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#ci()}#oi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,n),!1),this.#ci()}#li(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#ci()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const s=n.get(i);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}e.onclick||(e.onclick=()=>!1),this.#ci()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#ci(),!this._fieldObjects)return fn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{n?.();const{fields:e,refs:i,include:s}=t,r=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===s&&r.push(n)}else for(const t of Object.values(this._fieldObjects))r.push(...t);const a=this.annotationStorage,o=[];for(const t of r){const{id:e}=t;switch(o.push(e),t.type){case"text":{const n=t.defaultValue||"";a.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;a.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";a.setValue(e,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${e}"]`);n&&(zr.has(n)?n.dispatchEvent(new Event("resetform")):fn(`_bindResetFormAction - element not allowed: ${e}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}),!1}}}class Vr extends Ur{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Gr extends Ur{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&("CANVAS"===e.previousSibling?.nodeName&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Mn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,s){n.includes("mouse")?e.addEventListener(n,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(n,(e=>{if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(e)}})}))}_setEventListeners(e,t,n,i){for(const[s,r]of n)("Action"===r||this.data.actions?.[r])&&("Focus"!==r&&"Blur"!==r||(t||={focused:!1}),this._setEventListener(e,t,s,r,i),"Focus"!==r||this.data.actions?.Blur?"Blur"!==r||this.data.actions?.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":Ln.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,s=e.style;let r;const a=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(vt*i))||1);r=Math.min(i,a(t/vt))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);r=Math.min(i,a(e/vt))}s.fontSize=`calc(${r}px * var(--scale-factor))`,s.color=Ln.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class qr extends Gr{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,i){const s=this.annotationStorage;for(const r of this._getElementsByName(e.name,e.id))r.domElement&&(r.domElement[t]=n),s.setValue(r.id,{[i]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const i=e.getValue(t,{value:this.data.fieldValue});let s=i.value||"";const r=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;r&&s.length>r&&(s=s.slice(0,r));let a=i.formattedValue||this.data.textContent?.join("\n")||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));const o={userValue:s,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=a??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",a??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),zr.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=jr,this._setRequired(n,this.data.required),r&&(n.maxLength=r),n.addEventListener("input",(i=>{e.setValue(t,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),o.formattedValue=null})),n.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue??"";n.value=o.userValue=t,o.formattedValue=null}));let l=e=>{const{formattedValue:t}=o;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(e=>{if(o.focused)return;const{target:t}=e;o.userValue&&(t.value=o.userValue),o.lastCommittedValue=t.value,o.commitKey=1,this.data.actions?.Focus||(o.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const i={value(n){o.userValue=n.detail.value??"",e.setValue(t,{value:o.userValue.toString()}),n.target.value=o.userValue},formattedValue(n){const{formattedValue:i}=n.detail;o.formattedValue=i,null!==i&&void 0!==i&&n.target!==document.activeElement&&(n.target.value=i),e.setValue(t,{formattedValue:i})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{const{charLimit:i}=n.detail,{target:s}=n;if(0===i)return void s.removeAttribute("maxLength");s.setAttribute("maxLength",i);let r=o.userValue;!r||r.length<=i||(r=r.slice(0,i),s.value=o.userValue=r,e.setValue(t,{value:r}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)})),n.addEventListener("keydown",(e=>{o.commitKey=1;let n=-1;if("Escape"===e.key?n=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(o.commitKey=3):n=2,-1===n)return;const{value:i}=e.target;o.lastCommittedValue!==i&&(o.lastCommittedValue=i,o.userValue=i,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const i=l;l=null,n.addEventListener("blur",(e=>{if(!o.focused||!e.relatedTarget)return;this.data.actions?.Blur||(o.focused=!1);const{value:n}=e.target;o.userValue=n,o.lastCommittedValue!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:o.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),i(e)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(e=>{o.lastCommittedValue=null;const{data:n,target:i}=e,{value:s,selectionStart:r,selectionEnd:a}=i;let l=r,c=a;switch(e.inputType){case"deleteWordBackward":{const e=s.substring(0,r).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=s.substring(r).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":r===a&&(l-=1);break;case"deleteContentForward":r===a&&(c+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,change:n||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(l&&n.addEventListener("blur",l),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/r;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class $r extends Gr{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Xr extends Gr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return zr.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=jr,s.addEventListener("change",(i=>{const{name:s,checked:r}=i.target;for(const a of this._getElementsByName(s,n)){const n=r&&a.exportValue===t.exportValue;a.domElement&&(a.domElement.checked=n),e.setValue(a.id,{value:n})}e.setValue(n,{value:r})})),s.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",(t=>{const i={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Kr extends Gr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof i&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const r of this._getElementsByName(t.fieldName,n))e.setValue(r.id,{value:!1});const s=document.createElement("input");if(zr.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=jr,s.addEventListener("change",(t=>{const{name:i,checked:s}=t.target;for(const r of this._getElementsByName(i,n))e.setValue(r.id,{value:!1});e.setValue(n,{value:s})})),s.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const i=t.buttonValue;s.addEventListener("updatefromsandbox",(t=>{const s={value:t=>{const s=i===t.detail.value;for(const i of this._getElementsByName(t.target.name)){const t=s&&i.id===n;i.domElement&&(i.domElement.checked=t),e.setValue(i.id,{value:t})}}};this._dispatchEventFromSandbox(s,t)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Yr extends Wr{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class Qr extends Gr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");zr.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=jr;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===t}));for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),s=!1),i.append(e)}let r=null;if(s){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),i.prepend(e),r=()=>{e.remove(),i.removeEventListener("input",r),r=null},i.addEventListener("input",r)}const a=e=>{const t=e?"value":"textContent",{options:n,multiple:s}=i;return s?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=a(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(n=>{const s={value(n){r?.();const s=n.detail.value,l=new Set(Array.isArray(s)?s:[s]);for(const e of i.options)e.selected=l.has(e.value);e.setValue(t,{value:a(!0)}),o=a(!1)},multipleSelection(e){i.multiple=!0},remove(n){const s=i.options,r=n.detail.remove;if(s[r].selected=!1,i.remove(r),s.length>0){-1===Array.prototype.findIndex.call(s,(e=>e.selected))&&(s[0].selected=!0)}e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},clear(n){for(;0!==i.length;)i.remove(0);e.setValue(t,{value:null,items:[]}),o=a(!1)},insert(n){const{index:s,displayValue:r,exportValue:c}=n.detail.insert,d=i.children[s],u=document.createElement("option");u.textContent=r,u.value=c,d?d.before(u):i.append(u),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},items(n){const{items:s}=n.detail;for(;0!==i.length;)i.remove(0);for(const e of s){const{displayValue:t,exportValue:n}=e,s=document.createElement("option");s.textContent=t,s.value=n,i.append(s)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},indices(n){const i=new Set(n.detail.indices);for(const e of n.target.options)e.selected=i.has(e.index);e.setValue(t,{value:a(!0)}),o=a(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(s,n)})),i.addEventListener("input",(n=>{const i=a(!0),s=a(!1);e.setValue(t,{value:i}),n.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:s,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):i.addEventListener("input",(function(n){e.setValue(t,{value:a(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Zr extends Ur{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Ur._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Jr({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map((e=>`${Nn}${e}`)).join(",")),this.container}}class Jr{#di=this.#ui.bind(this);#hi=this.#pi.bind(this);#fi=this.#gi.bind(this);#mi=this.#vi.bind(this);#bi=null;#me=null;#yi=null;#Ai=null;#wi=null;#xi=null;#Ei=null;#Si=!1;#Ci=null;#S=null;#ki=null;#_i=null;#Ti=null;#ii=null;#Pi=!1;constructor(e){let{container:t,color:n,elements:i,titleObj:s,modificationDate:r,contentsObj:a,richText:o,parent:l,rect:c,parentRect:d,open:u}=e;this.#me=t,this.#Ti=s,this.#yi=a,this.#_i=o,this.#xi=l,this.#bi=n,this.#ki=c,this.#Ei=d,this.#wi=i,this.#Ai=fi.toDateObject(r),this.trigger=i.flatMap((e=>e.getElementsToTriggerPopup()));for(const h of this.trigger)h.addEventListener("click",this.#mi),h.addEventListener("mouseenter",this.#fi),h.addEventListener("mouseleave",this.#hi),h.classList.add("popupTriggerArea");for(const h of i)h.container?.addEventListener("keydown",this.#di);this.#me.hidden=!0,u&&this.#vi()}render(){if(this.#Ci)return;const e=this.#Ci=document.createElement("div");if(e.className="popup",this.#bi){const t=e.style.outlineColor=Ln.makeHexColor(...this.#bi);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))e.style.backgroundColor=`color-mix(in srgb, ${t} 30%, white)`;else{const t=.7;e.style.backgroundColor=Ln.makeHexColor(...this.#bi.map((e=>Math.floor(t*(255-e)+e))))}}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),({dir:n.dir,str:n.textContent}=this.#Ti),e.append(t),this.#Ai){const e=document.createElement("span");e.classList.add("popupDate"),e.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),e.setAttribute("data-l10n-args",JSON.stringify({date:this.#Ai.toLocaleDateString(),time:this.#Ai.toLocaleTimeString()})),t.append(e)}const i=this.#Mi;if(i)Or.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const t=this._formatContents(this.#yi);e.append(t)}this.#me.append(e)}get#Mi(){const e=this.#_i,t=this.#yi;return!e?.str||t?.str&&t.str!==e.str?null:this.#_i.html||null}get#Ri(){return this.#Mi?.attributes?.style?.fontSize||0}get#Li(){return this.#Mi?.attributes?.style?.color||null}#Di(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:this.#Li,fontSize:this.#Ri?`calc(${this.#Ri}px * var(--scale-factor))`:""}};for(const s of e.split("\n"))t.push({name:"span",value:s,attributes:i});return n}_formatContents(e){let{str:t,dir:n}=e;const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const s=t.split(/(?:\r\n?|\n)/);for(let r=0,a=s.length;r<a;++r){const e=s[r];i.append(document.createTextNode(e)),r<a-1&&i.append(document.createElement("br"))}return i}#ui(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&this.#Si)&&this.#vi()}updateEdited(e){let{rect:t,popupContent:n}=e;this.#ii||={contentsObj:this.#yi,richText:this.#_i},t&&(this.#S=null),n&&(this.#_i=this.#Di(n),this.#yi=null),this.#Ci?.remove(),this.#Ci=null}resetEdited(){this.#ii&&(({contentsObj:this.#yi,richText:this.#_i}=this.#ii),this.#ii=null,this.#Ci?.remove(),this.#Ci=null,this.#S=null)}#Ii(){if(null!==this.#S)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:s}}}=this.#xi;let r=!!this.#Ei,a=r?this.#Ei:this.#ki;for(const h of this.#wi)if(!a||null!==Ln.intersect(h.data.rect,a)){a=h.data.rect,r=!0;break}const o=Ln.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),l=r?a[2]-a[0]+5:0,c=o[0]+l,d=o[1];this.#S=[100*(c-i)/t,100*(d-s)/n];const{style:u}=this.#me;u.left=`${this.#S[0]}%`,u.top=`${this.#S[1]}%`}#vi(){this.#Si=!this.#Si,this.#Si?(this.#gi(),this.#me.addEventListener("click",this.#mi),this.#me.addEventListener("keydown",this.#di)):(this.#pi(),this.#me.removeEventListener("click",this.#mi),this.#me.removeEventListener("keydown",this.#di))}#gi(){this.#Ci||this.render(),this.isVisible?this.#Si&&this.#me.classList.add("focused"):(this.#Ii(),this.#me.hidden=!1,this.#me.style.zIndex=parseInt(this.#me.style.zIndex)+1e3)}#pi(){this.#me.classList.remove("focused"),!this.#Si&&this.isVisible&&(this.#me.hidden=!0,this.#me.style.zIndex=parseInt(this.#me.style.zIndex)-1e3)}forceHide(){this.#Pi=this.isVisible,this.#Pi&&(this.#me.hidden=!0)}maybeShow(){this.#Pi&&(this.#Ci||this.#gi(),this.#Pi=!1,this.#me.hidden=!1)}get isVisible(){return!1===this.#me.hidden}}class ea extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=kt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class ta extends Ur{#Fi=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:n}=Br(e.rect),i=this.svgFactory.create(t,n,!0),s=this.#Fi=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Fi}addHighlightArea(){this.container.classList.add("highlightArea")}}class na extends Ur{#Ni=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:n}=Br(e.rect),i=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,r=this.#Ni=this.svgFactory.createElement("svg:rect");return r.setAttribute("x",s/2),r.setAttribute("y",s/2),r.setAttribute("width",t-s),r.setAttribute("height",n-s),r.setAttribute("stroke-width",s||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Ni}addHighlightArea(){this.container.classList.add("highlightArea")}}class ia extends Ur{#Oi=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:n}=Br(e.rect),i=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,r=this.#Oi=this.svgFactory.createElement("svg:ellipse");return r.setAttribute("cx",t/2),r.setAttribute("cy",n/2),r.setAttribute("rx",t/2-s/2),r.setAttribute("ry",n/2-s/2),r.setAttribute("stroke-width",s||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Oi}addHighlightArea(){this.container.classList.add("highlightArea")}}class sa extends Ur{#ji=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:i}}=this;if(!t)return this.container;const{width:s,height:r}=Br(e),a=this.svgFactory.create(s,r,!0);let o=[];for(let c=0,d=t.length;c<d;c+=2){const n=t[c]-e[0],i=e[3]-t[c+1];o.push(`${n},${i}`)}o=o.join(" ");const l=this.#ji=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#ji}addHighlightArea(){this.container.classList.add("highlightArea")}}class ra extends sa{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class aa extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class oa extends Ur{#zi=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=kt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:t,borderStyle:n,popupRef:i}}=this,{width:s,height:r}=Br(e),a=this.svgFactory.create(s,r,!0);for(const o of t){let t=[];for(let n=0,i=o.length;n<i;n+=2){const i=o[n]-e[0],s=e[3]-o[n+1];t.push(`${i},${s}`)}t=t.join(" ");const s=this.svgFactory.createElement(this.svgElementName);this.#zi.push(s),s.setAttribute("points",t),s.setAttribute("stroke-width",n.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),!i&&this.hasPopupData&&this._createPopup(),a.append(s)}return this.container.append(a),this.container}getElementsToTriggerPopup(){return this.#zi}addHighlightArea(){this.container.classList.add("highlightArea")}}class la extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ca extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class da extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ua extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ha extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class pa extends Ur{#Bi=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),n.addEventListener("dblclick",this.#Hi.bind(this)),this.#Bi=n;const{isMac:i}=Mn.platform;return e.addEventListener("keydown",(e=>{"Enter"===e.key&&(i?e.metaKey:e.ctrlKey)&&this.#Hi()})),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#Bi}addHighlightArea(){this.container.classList.add("highlightArea")}#Hi(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class fa{#Ui=null;#Wi=null;#Vi=(()=>new Map)();constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:s,page:r,viewport:a}=e;this.div=t,this.#Ui=n,this.#Wi=i,this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s}#Gi(e,t){const n=e.firstChild||e;n.id=`${Nn}${t}`,this.div.append(e),this.#Ui?.moveElementInDOM(this.div,e,n,!1)}async render(e){const{annotations:t}=e,n=this.div;yi(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new ni,annotationStorage:e.annotationStorage||new Oi,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const r of t){if(r.noHTML)continue;const e=r.annotationType===Qt;if(e){const e=i.get(r.id);if(!e)continue;s.elements=e}else{const{width:e,height:t}=Br(r.rect);if(e<=0||t<=0)continue}s.data=r;const t=Hr.create(s);if(!t.isRenderable)continue;if(!e&&r.popupRef){const e=i.get(r.popupRef);e?e.push(t):i.set(r.popupRef,[t])}const n=t.render();r.hidden&&(n.style.visibility="hidden"),this.#Gi(n,r.id),t.annotationEditorType>0&&(this.#Vi.set(t.data.id,t),this._annotationEditorUIManager?.renderAnnotationElement(t))}this.#qi()}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,yi(n,{rotation:t.rotation}),this.#qi(),n.hidden=!1}#qi(){if(!this.#Wi)return;const e=this.div;for(const[t,n]of this.#Wi){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:s}=i;s?"CANVAS"===s.nodeName?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):i.append(n)}this.#Wi.clear()}getEditableAnnotations(){return Array.from(this.#Vi.values())}getEditableAnnotation(e){return this.#Vi.get(e)}}const ga=/\r\n?|\n/g;class ma extends Mi{#$i=this.editorDivBlur.bind(this);#Xi=this.editorDivFocus.bind(this);#Ki=this.editorDivInput.bind(this);#Yi=this.editorDivKeydown.bind(this);#Qi=this.editorDivPaste.bind(this);#bi;#Zi="";#Ji=`${this.id}-editor`;#Ri;#es=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=ma.prototype,t=e=>e.isEmpty(),n=Ti.TRANSLATE_SMALL,i=Ti.TRANSLATE_BIG;return bn(this,"_keyboardManager",new ki([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";static _editorType=(()=>kt.FREETEXT)();constructor(e){super({...e,name:"freeTextEditor"}),this.#bi=e.color||ma._defaultColor||Mi._defaultLineColor,this.#Ri=e.fontSize||ma._defaultFontSize}static initialize(e,t){Mi.initialize(e,t,{strings:["pdfjs-free-text-default-content"]});const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case _t.FREETEXT_SIZE:ma._defaultFontSize=t;break;case _t.FREETEXT_COLOR:ma._defaultColor=t}}updateParams(e,t){switch(e){case _t.FREETEXT_SIZE:this.#ts(t);break;case _t.FREETEXT_COLOR:this.#ns(t)}}static get defaultPropertiesToUpdate(){return[[_t.FREETEXT_SIZE,ma._defaultFontSize],[_t.FREETEXT_COLOR,ma._defaultColor||Mi._defaultLineColor]]}get propertiesToUpdate(){return[[_t.FREETEXT_SIZE,this.#Ri],[_t.FREETEXT_COLOR,this.#bi]]}#ts(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#Ri)*this.parentScale),this.#Ri=e,this.#is()},n=this.#Ri;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#ns(e){const t=e=>{this.#bi=this.editorDiv.style.color=e},n=this.#bi;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-ma._internalPadding*e,-(ma._internalPadding+this.#Ri)*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(kt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const e=this._uiManager._signal;this.editorDiv.addEventListener("keydown",this.#Yi,{signal:e}),this.editorDiv.addEventListener("focus",this.#Xi,{signal:e}),this.editorDiv.addEventListener("blur",this.#$i,{signal:e}),this.editorDiv.addEventListener("input",this.#Ki,{signal:e}),this.editorDiv.addEventListener("paste",this.#Qi,{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#Ji),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#Yi),this.editorDiv.removeEventListener("focus",this.#Xi),this.editorDiv.removeEventListener("blur",this.#$i),this.editorDiv.removeEventListener("input",this.#Ki),this.editorDiv.removeEventListener("paste",this.#Qi),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#ss(){const e=[];this.editorDiv.normalize();for(const t of this.editorDiv.childNodes)e.push(ma.#rs(t));return e.join("\n")}#is(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,i=t.style.display,s=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=i,t.classList.toggle("hidden",s)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#Zi,t=this.#Zi=this.#ss().trimEnd();if(e===t)return;const n=e=>{this.#Zi=e,e?(this.#as(),this._uiManager.rebuild(this),this.#is()):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#is()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){ma._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#Ji),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Mi._l10nPromise.get("pdfjs-free-text-default-content").then((e=>this.editorDiv?.setAttribute("default-content",e))),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#Ri}px * var(--scale-factor))`,n.color=this.#bi,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),xi(this,this.div,["dblclick","keydown"]),this.width){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this.#es;let[r,a]=this.getInitialTranslation();[r,a]=this.pageTranslationToScreen(r,a);const[o,l]=this.pageDimensions,[c,d]=this.pageTranslation;let u,h;switch(this.rotation){case 0:u=e+(s[0]-c)/o,h=t+this.height-(s[1]-d)/l;break;case 90:u=e+(s[0]-c)/o,h=t-(s[1]-d)/l,[r,a]=[a,-r];break;case 180:u=e-this.width+(s[0]-c)/o,h=t-(s[1]-d)/l,[r,a]=[-r,-a];break;case 270:u=e+(s[0]-c-this.height*l)/o,h=t+(s[1]-d-this.width*o)/l,[r,a]=[-a,r]}this.setAt(u*n,h*i,r,a)}else this.setAt(e*n,t*i,this.width*n,this.height*i);this.#as(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#rs(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(ga,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const i=ma.#os(t.getData("text")||"").replaceAll(ga,"\n");if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const r=s.getRangeAt(0);if(!i.includes("\n"))return r.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void s.collapseToStart();const{startContainer:a,startOffset:o}=r,l=[],c=[];if(a.nodeType===Node.TEXT_NODE){const e=a.parentElement;if(c.push(a.nodeValue.slice(o).replaceAll(ga,"")),e!==this.editorDiv){let t=l;for(const n of this.editorDiv.childNodes)n!==e?t.push(ma.#rs(n)):t=c}l.push(a.nodeValue.slice(0,o).replaceAll(ga,""))}else if(a===this.editorDiv){let e=l,t=0;for(const n of this.editorDiv.childNodes)t++===o&&(e=c),e.push(ma.#rs(n))}this.#Zi=`${l.join("\n")}${i}${c.join("\n")}`,this.#as();const d=new Range;let u=l.reduce(((e,t)=>e+t.length),0);for(const{firstChild:h}of this.editorDiv.childNodes)if(h.nodeType===Node.TEXT_NODE){const e=h.nodeValue.length;if(u<=e){d.setStart(h,u),d.setEnd(h,u);break}u-=e}s.removeAllRanges(),s.addRange(d)}#as(){if(this.editorDiv.replaceChildren(),this.#Zi)for(const e of this.#Zi.split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#ls(){return this.#Zi.replaceAll("\xa0"," ")}static#os(e){return e.replaceAll(" ","\xa0")}get contentDiv(){return this.editorDiv}static deserialize(e,t,n){let i=null;if(e instanceof ea){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:s,rotation:r,id:a},textContent:o,textPosition:l,parent:{page:{pageNumber:c}}}=e;if(!o||0===o.length)return null;i=e={annotationType:kt.FREETEXT,color:Array.from(n),fontSize:t,value:o.join("\n"),position:l,pageIndex:c-1,rect:s.slice(0),rotation:r,id:a,deleted:!1}}const s=super.deserialize(e,t,n);return s.#Ri=e.fontSize,s.#bi=Ln.makeHexColor(...e.color),s.#Zi=ma.#os(e.value),s.annotationElementId=e.id||null,s.#es=i,s}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const t=ma._internalPadding*this.parentScale,n=this.getRect(t,t),i=Mi._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#bi),s={annotationType:kt.FREETEXT,color:i,fontSize:this.#Ri,value:this.#ls(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?s:this.annotationElementId&&!this.#cs(s)?null:(s.id=this.annotationElementId,s)}#cs(e){const{value:t,fontSize:n,color:i,pageIndex:s}=this.#es;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some(((e,t)=>e!==i[t]))||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize=`calc(${this.#Ri}px * var(--scale-factor))`,n.color=this.#bi,t.replaceChildren();for(const s of this.#Zi.split("\n")){const e=document.createElement("div");e.append(s?document.createTextNode(s):document.createElement("br")),t.append(e)}const i=ma._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(i,i),popupContent:this.#Zi}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class va{#ds;#us=[];#hs=[];constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=1/0,r=-1/0,a=1/0,o=-1/0;const l=10**-4;for(const{x:g,y:m,width:v,height:b}of e){const e=Math.floor((g-t)/l)*l,n=Math.ceil((g+v+t)/l)*l,i=Math.floor((m-t)/l)*l,c=Math.ceil((m+b+t)/l)*l,d=[e,i,c,!0],u=[n,i,c,!1];this.#us.push(d,u),s=Math.min(s,e),r=Math.max(r,n),a=Math.min(a,i),o=Math.max(o,c)}const c=r-s+2*n,d=o-a+2*n,u=s-n,h=a-n,p=this.#us.at(i?-1:-2),f=[p[0],p[2]];for(const g of this.#us){const[e,t,n]=g;g[0]=(e-u)/c,g[1]=(t-h)/d,g[2]=(n-h)/d}this.#ds={x:u,y:h,width:c,height:d,lastPoint:f}}getOutlines(){this.#us.sort(((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]));const e=[];for(const t of this.#us)t[3]?(e.push(...this.#ps(t)),this.#fs(t)):(this.#gs(t),e.push(...this.#ps(t)));return this.#ms(e)}#ms(e){const t=[],n=new Set;for(const r of e){const[e,n,i]=r;t.push([e,n,r],[e,i,r])}t.sort(((e,t)=>e[1]-t[1]||e[0]-t[0]));for(let r=0,a=t.length;r<a;r+=2){const e=t[r][2],i=t[r+1][2];e.push(i),i.push(e),n.add(e),n.add(i)}const i=[];let s;for(;n.size>0;){const e=n.values().next().value;let[t,r,a,o,l]=e;n.delete(e);let c=t,d=r;for(s=[t,a],i.push(s);;){let e;if(n.has(o))e=o;else{if(!n.has(l))break;e=l}n.delete(e),[t,r,a,o,l]=e,c!==t&&(s.push(c,d,t,d===r?r:a),c=t),d=d===r?a:r}s.push(c,d)}return new ya(i,this.#ds)}#vs(e){const t=this.#hs;let n=0,i=t.length-1;for(;n<=i;){const s=n+i>>1,r=t[s][0];if(r===e)return s;r<e?n=s+1:i=s-1}return i+1}#fs(e){let[,t,n]=e;const i=this.#vs(t);this.#hs.splice(i,0,[t,n])}#gs(e){let[,t,n]=e;const i=this.#vs(t);for(let s=i;s<this.#hs.length;s++){const[e,i]=this.#hs[s];if(e!==t)break;if(e===t&&i===n)return void this.#hs.splice(s,1)}for(let s=i-1;s>=0;s--){const[e,i]=this.#hs[s];if(e!==t)break;if(e===t&&i===n)return void this.#hs.splice(s,1)}}#ps(e){const[t,n,i]=e,s=[[t,n,i]],r=this.#vs(i);for(let a=0;a<r;a++){const[e,n]=this.#hs[a];for(let i=0,r=s.length;i<r;i++){const[,a,o]=s[i];if(!(n<=a||o<=e))if(a>=e)if(o>n)s[i][1]=n;else{if(1===r)return[];s.splice(i,1),i--,r--}else s[i][2]=e,o>n&&s.push([t,n,o])}}return s}}class ba{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof wa}}class ya extends ba{#ds;#bs;constructor(e,t){super(),this.#bs=e,this.#ds=t}toSVGPath(){const e=[];for(const t of this.#bs){let[n,i]=t;e.push(`M${n} ${i}`);for(let s=2;s<t.length;s+=2){const r=t[s],a=t[s+1];r===n?(e.push(`V${a}`),i=a):a===i&&(e.push(`H${r}`),n=r)}e.push("Z")}return e.join(" ")}serialize(e,t){let[n,i,s,r]=e;const a=[],o=s-n,l=r-i;for(const c of this.#bs){const e=new Array(c.length);for(let t=0;t<c.length;t+=2)e[t]=n+c[t]*o,e[t+1]=r-c[t+1]*l;a.push(e)}return a}get box(){return this.#ds}}class Aa{#ds;#ys=[];#As;#ws;#xs=[];#Es=(()=>new Float64Array(18))();#Ss;#Cs;#ks;#_s;#Ts;#Ps;#Ms=[];static#Rs=8;static#Ls=2;static#Ds=(()=>Aa.#Rs+Aa.#Ls)();constructor(e,t,n,i,s){let{x:r,y:a}=e,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.#ds=t,this.#Ps=i*n,this.#ws=s,this.#Es.set([NaN,NaN,NaN,NaN,r,a],6),this.#As=o,this.#_s=Aa.#Rs*n,this.#ks=Aa.#Ds*n,this.#Ts=n,this.#Ms.push(r,a)}get free(){return!0}isEmpty(){return isNaN(this.#Es[8])}#Is(){const e=this.#Es.subarray(4,6),t=this.#Es.subarray(16,18),[n,i,s,r]=this.#ds;return[(this.#Ss+(e[0]-t[0])/2-n)/s,(this.#Cs+(e[1]-t[1])/2-i)/r,(this.#Ss+(t[0]-e[0])/2-n)/s,(this.#Cs+(t[1]-e[1])/2-i)/r]}add(e){let{x:t,y:n}=e;this.#Ss=t,this.#Cs=n;const[i,s,r,a]=this.#ds;let[o,l,c,d]=this.#Es.subarray(8,12);const u=t-c,h=n-d,p=Math.hypot(u,h);if(p<this.#ks)return!1;const f=p-this.#_s,g=f/p,m=g*u,v=g*h;let b=o,y=l;o=c,l=d,c+=m,d+=v,this.#Ms?.push(t,n);const A=m/f,w=-v/f*this.#Ps,x=A*this.#Ps;if(this.#Es.set(this.#Es.subarray(2,8),0),this.#Es.set([c+w,d+x],4),this.#Es.set(this.#Es.subarray(14,18),12),this.#Es.set([c-w,d-x],16),isNaN(this.#Es[6]))return 0===this.#xs.length&&(this.#Es.set([o+w,l+x],2),this.#xs.push(NaN,NaN,NaN,NaN,(o+w-i)/r,(l+x-s)/a),this.#Es.set([o-w,l-x],14),this.#ys.push(NaN,NaN,NaN,NaN,(o-w-i)/r,(l-x-s)/a)),this.#Es.set([b,y,o,l,c,d],6),!this.isEmpty();this.#Es.set([b,y,o,l,c,d],6);return Math.abs(Math.atan2(y-l,b-o)-Math.atan2(v,m))<Math.PI/2?([o,l,c,d]=this.#Es.subarray(2,6),this.#xs.push(NaN,NaN,NaN,NaN,((o+c)/2-i)/r,((l+d)/2-s)/a),[o,l,b,y]=this.#Es.subarray(14,18),this.#ys.push(NaN,NaN,NaN,NaN,((b+o)/2-i)/r,((y+l)/2-s)/a),!0):([b,y,o,l,c,d]=this.#Es.subarray(0,6),this.#xs.push(((b+5*o)/6-i)/r,((y+5*l)/6-s)/a,((5*o+c)/6-i)/r,((5*l+d)/6-s)/a,((o+c)/2-i)/r,((l+d)/2-s)/a),[c,d,o,l,b,y]=this.#Es.subarray(12,18),this.#ys.push(((b+5*o)/6-i)/r,((y+5*l)/6-s)/a,((5*o+c)/6-i)/r,((5*l+d)/6-s)/a,((o+c)/2-i)/r,((l+d)/2-s)/a),!0)}toSVGPath(){if(this.isEmpty())return"";const e=this.#xs,t=this.#ys,n=this.#Es.subarray(4,6),i=this.#Es.subarray(16,18),[s,r,a,o]=this.#ds,[l,c,d,u]=this.#Is();if(isNaN(this.#Es[6])&&!this.isEmpty())return`M${(this.#Es[2]-s)/a} ${(this.#Es[3]-r)/o} L${(this.#Es[4]-s)/a} ${(this.#Es[5]-r)/o} L${l} ${c} L${d} ${u} L${(this.#Es[16]-s)/a} ${(this.#Es[17]-r)/o} L${(this.#Es[14]-s)/a} ${(this.#Es[15]-r)/o} Z`;const h=[];h.push(`M${e[4]} ${e[5]}`);for(let p=6;p<e.length;p+=6)isNaN(e[p])?h.push(`L${e[p+4]} ${e[p+5]}`):h.push(`C${e[p]} ${e[p+1]} ${e[p+2]} ${e[p+3]} ${e[p+4]} ${e[p+5]}`);h.push(`L${(n[0]-s)/a} ${(n[1]-r)/o} L${l} ${c} L${d} ${u} L${(i[0]-s)/a} ${(i[1]-r)/o}`);for(let p=t.length-6;p>=6;p-=6)isNaN(t[p])?h.push(`L${t[p+4]} ${t[p+5]}`):h.push(`C${t[p]} ${t[p+1]} ${t[p+2]} ${t[p+3]} ${t[p+4]} ${t[p+5]}`);return h.push(`L${t[4]} ${t[5]} Z`),h.join(" ")}getOutlines(){const e=this.#xs,t=this.#ys,n=this.#Es,i=n.subarray(4,6),s=n.subarray(16,18),[r,a,o,l]=this.#ds,c=new Float64Array((this.#Ms?.length??0)+2);for(let m=0,v=c.length-2;m<v;m+=2)c[m]=(this.#Ms[m]-r)/o,c[m+1]=(this.#Ms[m+1]-a)/l;c[c.length-2]=(this.#Ss-r)/o,c[c.length-1]=(this.#Cs-a)/l;const[d,u,h,p]=this.#Is();if(isNaN(n[6])&&!this.isEmpty()){const e=new Float64Array(36);return e.set([NaN,NaN,NaN,NaN,(n[2]-r)/o,(n[3]-a)/l,NaN,NaN,NaN,NaN,(n[4]-r)/o,(n[5]-a)/l,NaN,NaN,NaN,NaN,d,u,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(n[16]-r)/o,(n[17]-a)/l,NaN,NaN,NaN,NaN,(n[14]-r)/o,(n[15]-a)/l],0),new wa(e,c,this.#ds,this.#Ts,this.#As,this.#ws)}const f=new Float64Array(this.#xs.length+24+this.#ys.length);let g=e.length;for(let m=0;m<g;m+=2)isNaN(e[m])?f[m]=f[m+1]=NaN:(f[m]=e[m],f[m+1]=e[m+1]);f.set([NaN,NaN,NaN,NaN,(i[0]-r)/o,(i[1]-a)/l,NaN,NaN,NaN,NaN,d,u,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(s[0]-r)/o,(s[1]-a)/l],g),g+=24;for(let m=t.length-6;m>=6;m-=6)for(let e=0;e<6;e+=2)isNaN(t[m+e])?(f[g]=f[g+1]=NaN,g+=2):(f[g]=t[m+e],f[g+1]=t[m+e+1],g+=2);return f.set([NaN,NaN,NaN,NaN,t[4],t[5]],g),new wa(f,c,this.#ds,this.#Ts,this.#As,this.#ws)}}class wa extends ba{#ds;#Fs=null;#As;#ws;#Ms;#Ts;#Ns;constructor(e,t,n,i,s,r){super(),this.#Ns=e,this.#Ms=t,this.#ds=n,this.#Ts=i,this.#As=s,this.#ws=r,this.#Os(r);const{x:a,y:o,width:l,height:c}=this.#Fs;for(let d=0,u=e.length;d<u;d+=2)e[d]=(e[d]-a)/l,e[d+1]=(e[d+1]-o)/c;for(let d=0,u=t.length;d<u;d+=2)t[d]=(t[d]-a)/l,t[d+1]=(t[d+1]-o)/c}toSVGPath(){const e=[`M${this.#Ns[4]} ${this.#Ns[5]}`];for(let t=6,n=this.#Ns.length;t<n;t+=6)isNaN(this.#Ns[t])?e.push(`L${this.#Ns[t+4]} ${this.#Ns[t+5]}`):e.push(`C${this.#Ns[t]} ${this.#Ns[t+1]} ${this.#Ns[t+2]} ${this.#Ns[t+3]} ${this.#Ns[t+4]} ${this.#Ns[t+5]}`);return e.push("Z"),e.join(" ")}serialize(e,t){let[n,i,s,r]=e;const a=s-n,o=r-i;let l,c;switch(t){case 0:l=this.#js(this.#Ns,n,r,a,-o),c=this.#js(this.#Ms,n,r,a,-o);break;case 90:l=this.#zs(this.#Ns,n,i,a,o),c=this.#zs(this.#Ms,n,i,a,o);break;case 180:l=this.#js(this.#Ns,s,i,-a,o),c=this.#js(this.#Ms,s,i,-a,o);break;case 270:l=this.#zs(this.#Ns,s,r,-a,-o),c=this.#zs(this.#Ms,s,r,-a,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}#js(e,t,n,i,s){const r=new Float64Array(e.length);for(let a=0,o=e.length;a<o;a+=2)r[a]=t+e[a]*i,r[a+1]=n+e[a+1]*s;return r}#zs(e,t,n,i,s){const r=new Float64Array(e.length);for(let a=0,o=e.length;a<o;a+=2)r[a]=t+e[a+1]*i,r[a+1]=n+e[a]*s;return r}#Os(e){const t=this.#Ns;let n=t[4],i=t[5],s=n,r=i,a=n,o=i,l=n,c=i;const d=e?Math.max:Math.min;for(let g=6,m=t.length;g<m;g+=6){if(isNaN(t[g]))s=Math.min(s,t[g+4]),r=Math.min(r,t[g+5]),a=Math.max(a,t[g+4]),o=Math.max(o,t[g+5]),c<t[g+5]?(l=t[g+4],c=t[g+5]):c===t[g+5]&&(l=d(l,t[g+4]));else{const e=Ln.bezierBoundingBox(n,i,...t.slice(g,g+6));s=Math.min(s,e[0]),r=Math.min(r,e[1]),a=Math.max(a,e[2]),o=Math.max(o,e[3]),c<e[3]?(l=e[2],c=e[3]):c===e[3]&&(l=d(l,e[2]))}n=t[g+4],i=t[g+5]}const u=s-this.#As,h=r-this.#As,p=a-s+2*this.#As,f=o-r+2*this.#As;this.#Fs={x:u,y:h,width:p,height:f,lastPoint:[l,c]}}get box(){return this.#Fs}getNewOutline(e,t){const{x:n,y:i,width:s,height:r}=this.#Fs,[a,o,l,c]=this.#ds,d=s*l,u=r*c,h=n*l+a,p=i*c+o,f=new Aa({x:this.#Ms[0]*d+h,y:this.#Ms[1]*u+p},this.#ds,this.#Ts,e,this.#ws,t??this.#As);for(let g=2;g<this.#Ms.length;g+=2)f.add({x:this.#Ms[g]*d+h,y:this.#Ms[g+1]*u+p});return f.getOutlines()}}class xa{#di=this.#ui.bind(this);#Bs=this.#o.bind(this);#Hs=null;#Us=null;#Ws;#Vs=null;#Gs=!1;#qs=!1;#r=null;#$s;#p=null;#Xs;static get _keyboardManager(){return bn(this,"_keyboardManager",new ki([[["Escape","mac+Escape"],xa.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],xa.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],xa.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],xa.prototype._moveToPrevious],[["Home","mac+Home"],xa.prototype._moveToBeginning],[["End","mac+End"],xa.prototype._moveToEnd]]))}constructor(e){let{editor:t=null,uiManager:n=null}=e;t?(this.#qs=!1,this.#Xs=_t.HIGHLIGHT_COLOR,this.#r=t):(this.#qs=!0,this.#Xs=_t.HIGHLIGHT_DEFAULT_COLOR),this.#p=t?._uiManager||n,this.#$s=this.#p._eventBus,this.#Ws=t?.color||this.#p?.highlightColors.values().next().value||"#FFFF98"}renderButton(){const e=this.#Hs=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=this.#p._signal;e.addEventListener("click",this.#Ks.bind(this),{signal:t}),e.addEventListener("keydown",this.#di,{signal:t});const n=this.#Us=document.createElement("span");return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=this.#Ws,e.append(n),e}renderMainDropdown(){const e=this.#Vs=this.#Ys();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#Ys(){const e=document.createElement("div"),t=this.#p._signal;e.addEventListener("contextmenu",ui,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of this.#p.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const r=document.createElement("span");s.append(r),r.className="swatch",r.style.backgroundColor=i,s.setAttribute("aria-selected",i===this.#Ws),s.addEventListener("click",this.#Qs.bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#di,{signal:t}),e}#Qs(e,t){t.stopPropagation(),this.#$s.dispatch("switchannotationeditorparams",{source:this,type:this.#Xs,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#Hs)return void this.#Ks(e);const t=e.target.getAttribute("data-color");t&&this.#Qs(t,e)}_moveToNext(e){this.#Zs?e.target!==this.#Hs?e.target.nextSibling?.focus():this.#Vs.firstChild?.focus():this.#Ks(e)}_moveToPrevious(e){e.target!==this.#Vs?.firstChild&&e.target!==this.#Hs?(this.#Zs||this.#Ks(e),e.target.previousSibling?.focus()):this.#Zs&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){this.#Zs?this.#Vs.firstChild?.focus():this.#Ks(e)}_moveToEnd(e){this.#Zs?this.#Vs.lastChild?.focus():this.#Ks(e)}#ui(e){xa._keyboardManager.exec(this,e)}#Ks(e){if(this.#Zs)return void this.hideDropdown();if(this.#Gs=0===e.detail,window.addEventListener("pointerdown",this.#Bs,{signal:this.#p._signal}),this.#Vs)return void this.#Vs.classList.remove("hidden");const t=this.#Vs=this.#Ys();this.#Hs.append(t)}#o(e){this.#Vs?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#Vs?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#Bs)}get#Zs(){return this.#Vs&&!this.#Vs.classList.contains("hidden")}_hideDropdownFromKeyboard(){this.#qs||(this.#Zs?(this.hideDropdown(),this.#Hs.focus({preventScroll:!0,focusVisible:this.#Gs})):this.#r?.unselect())}updateColor(e){if(this.#Us&&(this.#Us.style.backgroundColor=e),!this.#Vs)return;const t=this.#p.highlightColors.values();for(const n of this.#Vs.children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#Hs?.remove(),this.#Hs=null,this.#Us=null,this.#Vs?.remove(),this.#Vs=null}}class Ea extends Mi{#Js=null;#er=0;#tr;#nr=null;#s=null;#ir=null;#sr=null;#rr=0;#ar=null;#or=null;#v=null;#lr=!1;#oe=this.#cr.bind(this);#dr=null;#ur;#hr=null;#pr="";#Ps;#fr="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=(()=>kt.HIGHLIGHT)();static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Ea.prototype;return bn(this,"_keyboardManager",new ki([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Ea._defaultColor,this.#Ps=e.thickness||Ea._defaultThickness,this.#ur=e.opacity||Ea._defaultOpacity,this.#tr=e.boxes||null,this.#fr=e.methodOfCreation||"",this.#pr=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#lr=!0,this.#gr(e),this.#mr()):(this.#Js=e.anchorNode,this.#er=e.anchorOffset,this.#sr=e.focusNode,this.#rr=e.focusOffset,this.#vr(),this.#mr(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#lr?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#Ps,methodOfCreation:this.#fr}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#vr(){const e=new va(this.#tr,.001);this.#or=e.getOutlines(),({x:this.x,y:this.y,width:this.width,height:this.height}=this.#or.box);const t=new va(this.#tr,.0025,.001,"ltr"===this._uiManager.direction);this.#ir=t.getOutlines();const{lastPoint:n}=this.#ir.box;this.#dr=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#gr(e){let{highlightOutlines:t,highlightId:n,clipPathId:i}=e;this.#or=t;if(this.#ir=t.getNewOutline(this.#Ps/2+1.5,.0025),n>=0)this.#v=n,this.#nr=i,this.parent.drawLayer.finalizeLine(n,t),this.#hr=this.parent.drawLayer.highlightOutline(this.#ir);else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#v,t),this.parent.drawLayer.updateBox(this.#v,Ea.#br(this.#or.box,(e-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#hr,this.#ir),this.parent.drawLayer.updateBox(this.#hr,Ea.#br(this.#ir.box,e))}const{x:s,y:r,width:a,height:o}=t.box;switch(this.rotation){case 0:this.x=s,this.y=r,this.width=a,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=r,this.y=1-s,this.width=a*t/e,this.height=o*e/t;break}case 180:this.x=1-s,this.y=1-r,this.width=a,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-r,this.y=s,this.width=a*t/e,this.height=o*e/t;break}}const{lastPoint:l}=this.#ir.box;this.#dr=[(l[0]-s)/a,(l[1]-r)/o]}static initialize(e,t){Mi.initialize(e,t),Ea._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case _t.HIGHLIGHT_DEFAULT_COLOR:Ea._defaultColor=t;break;case _t.HIGHLIGHT_THICKNESS:Ea._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return this.#dr}updateParams(e,t){switch(e){case _t.HIGHLIGHT_COLOR:this.#ns(t);break;case _t.HIGHLIGHT_THICKNESS:this.#yr(t)}}static get defaultPropertiesToUpdate(){return[[_t.HIGHLIGHT_DEFAULT_COLOR,Ea._defaultColor],[_t.HIGHLIGHT_THICKNESS,Ea._defaultThickness]]}get propertiesToUpdate(){return[[_t.HIGHLIGHT_COLOR,this.color||Ea._defaultColor],[_t.HIGHLIGHT_THICKNESS,this.#Ps||Ea._defaultThickness],[_t.HIGHLIGHT_FREE,this.#lr]]}#ns(e){const t=e=>{this.color=e,this.parent?.drawLayer.changeColor(this.#v,e),this.#s?.updateColor(e)},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#yr(e){const t=this.#Ps,n=e=>{this.#Ps=e,this.#Ar(e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(this.#s=new xa({editor:this}),e.addColorPicker(this.#s)),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#wr())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#wr())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#xr(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#mr(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#xr():e&&(this.#mr(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#Ar(e){if(!this.#lr)return;this.#gr({highlightOutlines:this.#or.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}#xr(){null!==this.#v&&this.parent&&(this.parent.drawLayer.remove(this.#v),this.#v=null,this.parent.drawLayer.remove(this.#hr),this.#hr=null)}#mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===this.#v&&(({id:this.#v,clipPathId:this.#nr}=e.drawLayer.highlight(this.#or,this.color,this.#ur)),this.#hr=e.drawLayer.highlightOutline(this.#ir),this.#ar&&(this.#ar.style.clipPath=this.#nr))}static#br(e,t){let{x:n,y:i,width:s,height:r}=e;switch(t){case 90:return{x:1-i-r,y:n,width:r,height:s};case 180:return{x:1-n-s,y:1-i-r,width:s,height:r};case 270:return{x:i,y:1-n-s,width:r,height:s}}return{x:n,y:i,width:s,height:r}}rotate(e){const{drawLayer:t}=this.parent;let n;this.#lr?(e=(e-this.rotation+360)%360,n=Ea.#br(this.#or.box,e)):n=Ea.#br(this,e),t.rotate(this.#v,e),t.rotate(this.#hr,e),t.updateBox(this.#v,n),t.updateBox(this.#hr,Ea.#br(this.#ir.box,e))}render(){if(this.div)return this.div;const e=super.render();this.#pr&&(e.setAttribute("aria-label",this.#pr),e.setAttribute("role","mark")),this.#lr?e.classList.add("free"):this.div.addEventListener("keydown",this.#oe,{signal:this._uiManager._signal});const t=this.#ar=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#nr;const[n,i]=this.parentDimensions;return this.setDims(this.width*n,this.height*i),xi(this,this.#ar,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(this.#hr,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#hr,"hovered")}#cr(e){Ea._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#Er(!0);break;case 1:case 3:this.#Er(!1)}}#Er(e){if(!this.#Js)return;const t=window.getSelection();e?t.setPosition(this.#Js,this.#er):t.setPosition(this.#sr,this.#rr)}select(){super.select(),this.#hr&&(this.parent?.drawLayer.removeClass(this.#hr,"hovered"),this.parent?.drawLayer.addClass(this.#hr,"selected"))}unselect(){super.unselect(),this.#hr&&(this.parent?.drawLayer.removeClass(this.#hr,"selected"),this.#lr||this.#Er(!1))}get _mustFixPosition(){return!this.#lr}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(e),this.parent&&(this.parent.drawLayer.show(this.#v,e),this.parent.drawLayer.show(this.#hr,e))}#wr(){return this.#lr?this.rotation:0}#Sr(){if(this.#lr)return null;const[e,t]=this.pageDimensions,n=this.#tr,i=new Float32Array(8*n.length);let s=0;for(const{x:r,y:a,width:o,height:l}of n){const n=r*e,c=(1-a-l)*t;i[s]=i[s+4]=n,i[s+1]=i[s+3]=c,i[s+2]=i[s+6]=n+o*e,i[s+5]=i[s+7]=c+l*t,s+=8}return i}#Cr(e){return this.#or.serialize(e,this.#wr())}static startHighlighting(e,t,n){let{target:i,x:s,y:r}=n;const{x:a,y:o,width:l,height:c}=i.getBoundingClientRect(),d=t=>{this.#kr(e,t)},u=e._signal,h={capture:!0,passive:!1,signal:u},p=e=>{e.preventDefault(),e.stopPropagation()},f=t=>{i.removeEventListener("pointermove",d),window.removeEventListener("blur",f),window.removeEventListener("pointerup",f),window.removeEventListener("pointerdown",p,h),window.removeEventListener("contextmenu",ui),this.#_r(e,t)};window.addEventListener("blur",f,{signal:u}),window.addEventListener("pointerup",f,{signal:u}),window.addEventListener("pointerdown",p,h),window.addEventListener("contextmenu",ui,{signal:u}),i.addEventListener("pointermove",d,{signal:u}),this._freeHighlight=new Aa({x:s,y:r},[a,o,l,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static#kr(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#_r(e,t){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,n){const i=super.deserialize(e,t,n),{rect:[s,r,a,o],color:l,quadPoints:c}=e;i.color=Ln.makeHexColor(...l),i.#ur=e.opacity;const[d,u]=i.pageDimensions;i.width=(a-s)/d,i.height=(o-r)/u;const h=i.#tr=[];for(let p=0;p<c.length;p+=8)h.push({x:(c[4]-a)/d,y:(o-(1-c[p+5]))/u,width:(c[p+2]-c[p])/d,height:(c[p+5]-c[p+1])/u});return i.#vr(),i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;const t=this.getRect(0,0),n=Mi._colorManager.convert(this.color);return{annotationType:kt.HIGHLIGHT,color:n,opacity:this.#ur,thickness:this.#Ps,quadPoints:this.#Sr(),outlines:this.#Cr(t),pageIndex:this.pageIndex,rect:t,rotation:this.#wr(),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}class Sa extends Mi{#Tr=0;#Pr=0;#Mr=this.canvasPointermove.bind(this);#Rr=this.canvasPointerleave.bind(this);#Lr=this.canvasPointerup.bind(this);#Dr=this.canvasPointerdown.bind(this);#Ir=null;#Fr=(()=>new Path2D)();#Nr=!1;#Or=!1;#jr=!1;#zr=null;#Br=0;#Hr=0;#Ur=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=(()=>kt.INK)();constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){Mi.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case _t.INK_THICKNESS:Sa._defaultThickness=t;break;case _t.INK_COLOR:Sa._defaultColor=t;break;case _t.INK_OPACITY:Sa._defaultOpacity=t/100}}updateParams(e,t){switch(e){case _t.INK_THICKNESS:this.#yr(t);break;case _t.INK_COLOR:this.#ns(t);break;case _t.INK_OPACITY:this.#Wr(t)}}static get defaultPropertiesToUpdate(){return[[_t.INK_THICKNESS,Sa._defaultThickness],[_t.INK_COLOR,Sa._defaultColor||Mi._defaultLineColor],[_t.INK_OPACITY,Math.round(100*Sa._defaultOpacity)]]}get propertiesToUpdate(){return[[_t.INK_THICKNESS,this.thickness||Sa._defaultThickness],[_t.INK_COLOR,this.color||Sa._defaultColor||Mi._defaultLineColor],[_t.INK_OPACITY,Math.round(100*(this.opacity??Sa._defaultOpacity))]]}#yr(e){const t=e=>{this.thickness=e,this.#Vr()},n=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#ns(e){const t=e=>{this.color=e,this.#Gr()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#Wr(e){const t=e=>{this.opacity=e,this.#Gr()};e/=100;const n=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#qr(),this.#$r()),this.isAttachedToDOM||(this.parent.add(this),this.#Xr()),this.#Vr()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#Ir&&(clearTimeout(this.#Ir),this.#Ir=null),this.#zr?.disconnect(),this.#zr=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,i=this.height*t;this.setDimensions(n,i)}enableEditMode(){this.#Nr||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#Dr,{signal:this._uiManager._signal}))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#Dr))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#Kr(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}#Yr(){const{ctx:e,color:t,opacity:n,thickness:i,parentScale:s,scaleFactor:r}=this;e.lineWidth=i*s/r,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}(n)}`}#Qr(e,t){const n=this._uiManager._signal;this.canvas.addEventListener("contextmenu",ui,{signal:n}),this.canvas.addEventListener("pointerleave",this.#Rr,{signal:n}),this.canvas.addEventListener("pointermove",this.#Mr,{signal:n}),this.canvas.addEventListener("pointerup",this.#Lr,{signal:n}),this.canvas.removeEventListener("pointerdown",this.#Dr),this.isEditing=!0,this.#jr||(this.#jr=!0,this.#Xr(),this.thickness||=Sa._defaultThickness,this.color||=Sa._defaultColor||Mi._defaultLineColor,this.opacity??=Sa._defaultOpacity),this.currentPath.push([e,t]),this.#Or=!1,this.#Yr(),this.#Ur=()=>{this.#Zr(),this.#Ur&&window.requestAnimationFrame(this.#Ur)},window.requestAnimationFrame(this.#Ur)}#Jr(e,t){const[n,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===i)return;const s=this.currentPath;let r=this.#Fr;if(s.push([e,t]),this.#Or=!0,s.length<=2)return r.moveTo(...s[0]),void r.lineTo(e,t);3===s.length&&(this.#Fr=r=new Path2D,r.moveTo(...s[0])),this.#ea(r,...s.at(-3),...s.at(-2),e,t)}#ta(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);this.#Fr.lineTo(...e)}#na(e,t){let n;if(this.#Ur=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#Jr(e,t),this.#ta(),1!==this.currentPath.length)n=this.#ia();else{const i=[e,t];n=[[i,i.slice(),i.slice(),i]]}const i=this.#Fr,s=this.currentPath;this.currentPath=[],this.#Fr=new Path2D;this.addCommands({cmd:()=>{this.allRawPaths.push(s),this.paths.push(n),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#qr(),this.#$r()),this.#Vr())},mustExec:!0})}#Zr(){if(!this.#Or)return;this.#Or=!1;const e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),n=t.map((e=>e[0])),i=t.map((e=>e[1])),{ctx:s}=(Math.min(...n),Math.max(...n),Math.min(...i),Math.max(...i),this);s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const r of this.bezierPath2D)s.stroke(r);s.stroke(this.#Fr),s.restore()}#ea(e,t,n,i,s,r,a){const o=(t+i)/2,l=(n+s)/2,c=(i+r)/2,d=(s+a)/2;e.bezierCurveTo(o+2*(i-o)/3,l+2*(s-l)/3,c+2*(i-c)/3,d+2*(s-d)/3,c,d)}#ia(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let n,[i,s]=e[0];for(n=1;n<e.length-2;n++){const[r,a]=e[n],[o,l]=e[n+1],c=(r+o)/2,d=(a+l)/2,u=[i+2*(r-i)/3,s+2*(a-s)/3],h=[c+2*(r-c)/3,d+2*(a-d)/3];t.push([[i,s],u,h,[c,d]]),[i,s]=[c,d]}const[r,a]=e[n],[o,l]=e[n+1],c=[i+2*(r-i)/3,s+2*(a-s)/3],d=[o+2*(r-o)/3,l+2*(a-l)/3];return t.push([[i,s],c,d,[o,l]]),t}#Gr(){if(this.isEmpty())return void this.#sa();this.#Yr();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#sa();for(const n of this.bezierPath2D)t.stroke(n)}commit(){this.#Nr||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#Nr=!0,this.div.classList.add("disabled"),this.#Vr(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!this.#Nr&&(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#Qr(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#Jr(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#ra(e)}canvasPointerleave(e){this.#ra(e)}#ra(e){this.canvas.removeEventListener("pointerleave",this.#Rr),this.canvas.removeEventListener("pointermove",this.#Mr),this.canvas.removeEventListener("pointerup",this.#Lr),this.canvas.addEventListener("pointerdown",this.#Dr,{signal:this._uiManager._signal}),this.#Ir&&clearTimeout(this.#Ir),this.#Ir=setTimeout((()=>{this.#Ir=null,this.canvas.removeEventListener("contextmenu",ui)}),10),this.#na(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#qr(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#$r(){this.#zr=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)})),this.#zr.observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{this.#zr?.disconnect(),this.#zr=null}),{once:!0})}get isResizable(){return!this.isEmpty()&&this.#Nr}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,i,s,r]=this.#Kr();if(this.setAt(n,i,0,0),this.setDims(s,r),this.#qr(),this.width){const[n,i]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*i),this.setAt(e*n,t*i,this.width*n,this.height*i),this.#jr=!0,this.#Xr(),this.setDims(this.width*n,this.height*i),this.#Gr(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#$r(),this.div}#Xr(){if(!this.#jr)return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#sa()}setDimensions(e,t){const n=Math.round(e),i=Math.round(t);if(this.#Br===n&&this.#Hr===i)return;this.#Br=n,this.#Hr=i,this.canvas.style.visibility="hidden";const[s,r]=this.parentDimensions;this.width=e/s,this.height=t/r,this.fixAndSetPosition(),this.#Nr&&this.#aa(e,t),this.#Xr(),this.#Gr(),this.canvas.style.visibility="visible",this.fixDims()}#aa(e,t){const n=this.#oa(),i=(e-n)/this.#Pr,s=(t-n)/this.#Tr;this.scaleFactor=Math.min(i,s)}#sa(){const e=this.#oa()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#la(e){const t=new Path2D;for(let n=0,i=e.length;n<i;n++){const[i,s,r,a]=e[n];0===n&&t.moveTo(...i),t.bezierCurveTo(s[0],s[1],r[0],r[1],a[0],a[1])}return t}static#ca(e,t,n){const[i,s,r,a]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]+=i,e[t+1]=a-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]+i,e[t+1]=n+s}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=r-e[t],e[t+1]+=s;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=r-e[t+1],e[t+1]=a-n}break;default:throw new Error("Invalid rotation")}return e}static#da(e,t,n){const[i,s,r,a]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]-=i,e[t+1]=a-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]-s,e[t+1]=n-i}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=r-e[t],e[t+1]-=s;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=a-e[t+1],e[t+1]=r-n}break;default:throw new Error("Invalid rotation")}return e}#ua(e,t,n,i){const s=[],r=this.thickness/2,a=e*t+r,o=e*n+r;for(const l of this.paths){const t=[],n=[];for(let i=0,s=l.length;i<s;i++){const[r,c,d,u]=l[i];if(r[0]===u[0]&&r[1]===u[1]&&1===s){const i=e*r[0]+a,s=e*r[1]+o;t.push(i,s),n.push(i,s);break}const h=e*r[0]+a,p=e*r[1]+o,f=e*c[0]+a,g=e*c[1]+o,m=e*d[0]+a,v=e*d[1]+o,b=e*u[0]+a,y=e*u[1]+o;0===i&&(t.push(h,p),n.push(h,p)),t.push(f,g,m,v,b,y),n.push(f,g),i===s-1&&n.push(b,y)}s.push({bezier:Sa.#ca(t,i,this.rotation),points:Sa.#ca(n,i,this.rotation)})}return s}#ha(){let e=1/0,t=-1/0,n=1/0,i=-1/0;for(const s of this.paths)for(const[r,a,o,l]of s){const s=Ln.bezierBoundingBox(...r,...a,...o,...l);e=Math.min(e,s[0]),n=Math.min(n,s[1]),t=Math.max(t,s[2]),i=Math.max(i,s[3])}return[e,n,t,i]}#oa(){return this.#Nr?Math.ceil(this.thickness*this.parentScale):0}#Vr(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!this.#Nr)return void this.#Gr();const t=this.#ha(),n=this.#oa();this.#Pr=Math.max(Mi.MIN_SIZE,t[2]-t[0]),this.#Tr=Math.max(Mi.MIN_SIZE,t[3]-t[1]);const i=Math.ceil(n+this.#Pr*this.scaleFactor),s=Math.ceil(n+this.#Tr*this.scaleFactor),[r,a]=this.parentDimensions;this.width=i/r,this.height=s/a,this.setAspectRatio(i,s);const o=this.translationX,l=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#Xr(),this.#Gr(),this.#Br=i,this.#Hr=s,this.setDims(i,s);const c=e?n/this.scaleFactor/2:0;this.translate(o-this.translationX-c,l-this.translationY-c)}static deserialize(e,t,n){if(e instanceof oa)return null;const i=super.deserialize(e,t,n);i.thickness=e.thickness,i.color=Ln.makeHexColor(...e.color),i.opacity=e.opacity;const[s,r]=i.pageDimensions,a=i.width*s,o=i.height*r,l=i.parentScale,c=e.thickness/2;i.#Nr=!0,i.#Br=Math.round(a),i.#Hr=Math.round(o);const{paths:d,rect:u,rotation:h}=e;for(let{bezier:f}of d){f=Sa.#da(f,u,h);const e=[];i.paths.push(e);let t=l*(f[0]-c),n=l*(f[1]-c);for(let i=2,r=f.length;i<r;i+=6){const s=l*(f[i]-c),r=l*(f[i+1]-c),a=l*(f[i+2]-c),o=l*(f[i+3]-c),d=l*(f[i+4]-c),u=l*(f[i+5]-c);e.push([[t,n],[s,r],[a,o],[d,u]]),t=d,n=u}const s=this.#la(e);i.bezierPath2D.push(s)}const p=i.#ha();return i.#Pr=Math.max(Mi.MIN_SIZE,p[2]-p[0]),i.#Tr=Math.max(Mi.MIN_SIZE,p[3]-p[1]),i.#aa(a,o),i}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=Mi._colorManager.convert(this.ctx.strokeStyle);return{annotationType:kt.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#ua(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class Ca extends Mi{#pa=null;#fa=null;#ga=null;#ma=null;#va=null;#ba="";#ya=null;#zr=null;#Aa=null;#wa=!1;#xa=!1;static _type="stamp";static _editorType=(()=>kt.STAMP)();constructor(e){super({...e,name:"stampEditor"}),this.#ma=e.bitmapUrl,this.#va=e.bitmapFile}static initialize(e,t){Mi.initialize(e,t)}static get supportedTypes(){return bn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((e=>`image/${e}`)))}static get supportedTypesStr(){return bn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(kt.STAMP,{bitmapFile:e.getAsFile()})}#Ea(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(this.#pa=e.bitmap,t||(this.#fa=e.id,this.#wa=e.isSvg),e.file&&(this.#ba=e.file.name),this.#qr()):this.remove()}#Sa(){this.#ga=null,this._uiManager.enableWaiting(!1),this.#ya&&this.div.focus()}#Ca(){if(this.#fa)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#fa).then((e=>this.#Ea(e,!0))).finally((()=>this.#Sa()));if(this.#ma){const e=this.#ma;return this.#ma=null,this._uiManager.enableWaiting(!0),void(this.#ga=this._uiManager.imageManager.getFromUrl(e).then((e=>this.#Ea(e))).finally((()=>this.#Sa())))}if(this.#va){const e=this.#va;return this.#va=null,this._uiManager.enableWaiting(!0),void(this.#ga=this._uiManager.imageManager.getFromFile(e).then((e=>this.#Ea(e))).finally((()=>this.#Sa())))}const e=document.createElement("input");e.type="file",e.accept=Ca.supportedTypesStr;const t=this._uiManager._signal;this.#ga=new Promise((n=>{e.addEventListener("change",(async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this.#Ea(t)}else this.remove();n()}),{signal:t}),e.addEventListener("cancel",(()=>{this.remove(),n()}),{signal:t})})).finally((()=>this.#Sa())),e.click()}remove(){this.#fa&&(this.#pa=null,this._uiManager.imageManager.deleteId(this.#fa),this.#ya?.remove(),this.#ya=null,this.#zr?.disconnect(),this.#zr=null,this.#Aa&&(clearTimeout(this.#Aa),this.#Aa=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#fa&&null===this.#ya&&this.#Ca(),this.isAttachedToDOM||this.parent.add(this))):this.#fa&&this.#Ca()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#ga||this.#pa||this.#ma||this.#va||this.#fa)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#pa?this.#qr():this.#Ca(),this.width){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i)}return this.div}#qr(){const{div:e}=this;let{width:t,height:n}=this.#pa;const[i,s]=this.pageDimensions,r=.75;if(this.width)t=this.width*i,n=this.height*s;else if(t>r*i||n>r*s){const e=Math.min(r*i/t,r*s/n);t*=e,n*=e}const[a,o]=this.parentDimensions;this.setDims(t*a/i,n*o/s),this._uiManager.enableWaiting(!1);const l=this.#ya=document.createElement("canvas");e.append(l),e.hidden=!1,this.#ka(t,n),this.#$r(),this.#xa||(this.parent.addUndoableEditor(this),this.#xa=!0),this._reportTelemetry({action:"inserted_image"}),this.#ba&&l.setAttribute("aria-label",this.#ba)}#_a(e,t){const[n,i]=this.parentDimensions;this.width=e/n,this.height=t/i,this.setDims(e,t),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#Aa&&clearTimeout(this.#Aa);this.#Aa=setTimeout((()=>{this.#Aa=null,this.#ka(e,t)}),200)}#Ta(e,t){const{width:n,height:i}=this.#pa;let s=n,r=i,a=this.#pa;for(;s>2*e||r>2*t;){const n=s,i=r;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const o=new OffscreenCanvas(s,r);o.getContext("2d").drawImage(a,0,0,n,i,0,0,s,r),a=o.transferToImageBitmap()}return a}#ka(e,t){e=Math.ceil(e),t=Math.ceil(t);const n=this.#ya;if(!n||n.width===e&&n.height===t)return;n.width=e,n.height=t;const i=this.#wa?this.#pa:this.#Ta(e,t);if(this._uiManager.hasMLManager&&!this.hasAltText()){const n=new OffscreenCanvas(e,t).getContext("2d");n.drawImage(i,0,0,i.width,i.height,0,0,e,t),this._uiManager.mlGuess({service:"image-to-text",request:{data:n.getImageData(0,0,e,t).data,width:e,height:t,channels:4}}).then((e=>{const t=e?.output||"";this.parent&&t&&!this.hasAltText()&&(this.altTextData={altText:t,decorative:!1})}))}const s=n.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(i,0,0,i.width,i.height,0,0,e,t)}getImageForAltText(){return this.#ya}#Pa(e){if(e){if(this.#wa){const e=this._uiManager.imageManager.getSvgUrl(this.#fa);if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=this.#pa);return e.getContext("2d").drawImage(this.#pa,0,0),e.toDataURL()}if(this.#wa){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*Zn.PDF_TO_CSS_UNITS),i=Math.round(this.height*t*Zn.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(n,i);return s.getContext("2d").drawImage(this.#pa,0,0,this.#pa.width,this.#pa.height,0,0,n,i),s.transferToImageBitmap()}return structuredClone(this.#pa)}#$r(){this._uiManager._signal&&(this.#zr=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.#_a(t.width,t.height)})),this.#zr.observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{this.#zr?.disconnect(),this.#zr=null}),{once:!0}))}static deserialize(e,t,n){if(e instanceof ha)return null;const i=super.deserialize(e,t,n),{rect:s,bitmapUrl:r,bitmapId:a,isSvg:o,accessibilityData:l}=e;a&&n.imageManager.isValidId(a)?i.#fa=a:i.#ma=r,i.#wa=o;const[c,d]=i.pageDimensions;return i.width=(s[2]-s[0])/c,i.height=(s[3]-s[1])/d,l&&(i.altTextData=l),i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;const n={annotationType:kt.STAMP,bitmapId:this.#fa,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#wa,structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=this.#Pa(!0),n.accessibilityData=this.altTextData,n;const{decorative:i,altText:s}=this.altTextData;if(!i&&s&&(n.accessibilityData={type:"Figure",alt:s}),null===t)return n;t.stamps||=new Map;const r=this.#wa?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(this.#fa)){if(this.#wa){const e=t.stamps.get(this.#fa);r>e.area&&(e.area=r,e.serialized.bitmap.close(),e.serialized.bitmap=this.#Pa(!1))}}else t.stamps.set(this.#fa,{area:r,serialized:n}),n.bitmap=this.#Pa(!1);return n}}class ka{#Ui;#Ma=!1;#Ra=null;#La=null;#Da=null;#Ia=null;#Fa=null;#Na=(()=>new Map)();#Oa=!1;#ja=!1;#za=!1;#Ba=null;#p;static _initialized=!1;static#O=(()=>new Map([ma,Sa,Ca,Ea].map((e=>[e._editorType,e]))))();constructor(e){let{uiManager:t,pageIndex:n,div:i,accessibilityManager:s,annotationLayer:r,drawLayer:a,textLayer:o,viewport:l,l10n:c}=e;const d=[...ka.#O.values()];if(!ka._initialized){ka._initialized=!0;for(const e of d)e.initialize(c,t)}t.registerEditorTypes(d),this.#p=t,this.pageIndex=n,this.div=i,this.#Ui=s,this.#Ra=r,this.viewport=l,this.#Ba=o,this.drawLayer=a,this.#p.addLayer(this)}get isEmpty(){return 0===this.#Na.size}get isInvisible(){return this.isEmpty&&this.#p.getMode()===kt.NONE}updateToolbar(e){this.#p.updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.#p.getMode();switch(this.#Ha(),e){case kt.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case kt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case kt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of ka.#O.values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#Ba?.div}addInkEditorIfNeeded(e){if(this.#p.getMode()!==kt.INK)return;if(!e)for(const t of this.#Na.values())if(t.isEmpty())return void t.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){this.#p.setEditingState(e)}addCommands(e){this.#p.addCommands(e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Ra?.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of this.#Na.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#p.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!this.#Ra)return;const t=this.#Ra.getEditableAnnotations();for(const n of t){if(n.hide(),this.#p.isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){this.#za=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of this.#Na.values())i.disableEditing(),i.annotationElementId&&(null===i.serialize()?(t.set(i.annotationElementId,i),this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()):e.set(i.annotationElementId,i));if(this.#Ra){const n=this.#Ra.getEditableAnnotations();for(const i of n){const{id:n}=i.data;if(this.#p.isDeletedAnnotationElement(n))continue;let s=t.get(n);s?(s.resetAnnotationElement(i),s.show(!1),i.show()):(s=e.get(n),s&&(this.#p.addChangedExistingAnnotation(s),s.renderAnnotationElement(i),s.show(!1)),i.show())}}this.#Ha(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of ka.#O.values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#za=!1}getEditableAnnotation(e){return this.#Ra?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#p.getActive()!==e&&this.#p.setActiveEditor(e)}enableTextSelection(){this.div.tabIndex=-1,this.#Ba?.div&&!this.#Ia&&(this.#Ia=this.#Ua.bind(this),this.#Ba.div.addEventListener("pointerdown",this.#Ia,{signal:this.#p._signal}),this.#Ba.div.classList.add("highlighting"))}disableTextSelection(){this.div.tabIndex=0,this.#Ba?.div&&this.#Ia&&(this.#Ba.div.removeEventListener("pointerdown",this.#Ia),this.#Ia=null,this.#Ba.div.classList.remove("highlighting"))}#Ua(e){if(this.#p.unselectAll(),e.target===this.#Ba.div){const{isMac:t}=Mn.platform;if(0!==e.button||e.ctrlKey&&t)return;this.#p.showAllEditors("highlight",!0,!0),this.#Ba.div.classList.add("free"),Ea.startHighlighting(this,"ltr"===this.#p.direction,e),this.#Ba.div.addEventListener("pointerup",(()=>{this.#Ba.div.classList.remove("free")}),{once:!0,signal:this.#p._signal}),e.preventDefault()}}enableClick(){if(this.#Da)return;const e=this.#p._signal;this.#Da=this.pointerdown.bind(this),this.#La=this.pointerup.bind(this),this.div.addEventListener("pointerdown",this.#Da,{signal:e}),this.div.addEventListener("pointerup",this.#La,{signal:e})}disableClick(){this.#Da&&(this.div.removeEventListener("pointerdown",this.#Da),this.div.removeEventListener("pointerup",this.#La),this.#Da=null,this.#La=null)}attach(e){this.#Na.set(e.id,e);const{annotationElementId:t}=e;t&&this.#p.isDeletedAnnotationElement(t)&&this.#p.removeDeletedAnnotationElement(e)}detach(e){this.#Na.delete(e.id),this.#Ui?.removePointerInTextLayer(e.contentDiv),!this.#za&&e.annotationElementId&&this.#p.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#p.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,this.#ja||this.addInkEditorIfNeeded(!1)}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#p.addDeletedAnnotationElement(e.annotationElementId),Mi.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),this.#p.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),this.#p.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#Fa&&(e._focusEventsAllowed=!1,this.#Fa=setTimeout((()=>{this.#Fa=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this.#p._signal}),t.focus())}),0)),e._structTreeParentId=this.#Ui?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#p.getId()}get#Wa(){return ka.#O.get(this.#p.getMode())}get _signal(){return this.#p._signal}#Va(e){const t=this.#Wa;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#Wa?.canCreateNewEmptyEditor()}pasteEditor(e,t){this.#p.updateToolbar(e),this.#p.updateMode(e);const{offsetX:n,offsetY:i}=this.#Ga(),s=this.getNextId(),r=this.#Va({parent:this,id:s,x:n,y:i,uiManager:this.#p,isCentered:!0,...t});r&&this.add(r)}deserialize(e){return ka.#O.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#p)||null}createAndAddNewEditor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getNextId(),s=this.#Va({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#p,isCentered:t,...n});return s&&this.add(s),s}#Ga(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),r=Math.max(0,t),a=(s+Math.min(window.innerWidth,e+n))/2-e,o=(r+Math.min(window.innerHeight,t+i))/2-t,[l,c]=this.viewport.rotation%180===0?[a,o]:[o,a];return{offsetX:l,offsetY:c}}addNewEditor(){this.createAndAddNewEditor(this.#Ga(),!0)}setSelected(e){this.#p.setSelected(e)}toggleSelected(e){this.#p.toggleSelected(e)}isSelected(e){return this.#p.isSelected(e)}unselect(e){this.#p.unselect(e)}pointerup(e){const{isMac:t}=Mn.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&this.#Oa&&(this.#Oa=!1,this.#Ma?this.#p.getMode()!==kt.STAMP?this.createAndAddNewEditor(e,!1):this.#p.unselectAll():this.#Ma=!0)}pointerdown(e){if(this.#p.getMode()===kt.HIGHLIGHT&&this.enableTextSelection(),this.#Oa)return void(this.#Oa=!1);const{isMac:t}=Mn.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;this.#Oa=!0;const n=this.#p.getActive();this.#Ma=!n||n.isEmpty()}findNewParent(e,t,n){const i=this.#p.findParent(t,n);return null!==i&&i!==this&&(i.changeParent(e),!0)}destroy(){this.#p.getActive()?.parent===this&&(this.#p.commitOrRemove(),this.#p.setActiveEditor(null)),this.#Fa&&(clearTimeout(this.#Fa),this.#Fa=null);for(const e of this.#Na.values())this.#Ui?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#Na.clear(),this.#p.removeLayer(this)}#Ha(){this.#ja=!0;for(const e of this.#Na.values())e.isEmpty()&&e.remove();this.#ja=!1}render(e){let{viewport:t}=e;this.viewport=t,yi(this.div,t);for(const n of this.#p.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(e){let{viewport:t}=e;this.#p.commitOrRemove(),this.#Ha();const n=this.viewport.rotation,i=t.rotation;if(this.viewport=t,yi(this.div,{rotation:i}),n!==i)for(const s of this.#Na.values())s.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#p.viewParameters.realScale}}class _a{#xi=null;#v=0;#qa=(()=>new Map)();#$a=(()=>new Map)();constructor(e){let{pageIndex:t}=e;this.pageIndex=t}setParent(e){if(this.#xi){if(this.#xi!==e){if(this.#qa.size>0)for(const t of this.#qa.values())t.remove(),e.append(t);this.#xi=e}}else this.#xi=e}static get _svgFactory(){return bn(this,"_svgFactory",new ni)}static#Xa(e){let{x:t=0,y:n=0,width:i=1,height:s=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{style:r}=e;r.top=100*n+"%",r.left=100*t+"%",r.width=100*i+"%",r.height=100*s+"%"}#Ka(e){const t=_a._svgFactory.create(1,1,!0);return this.#xi.append(t),t.setAttribute("aria-hidden",!0),_a.#Xa(t,e),t}#Ya(e,t){const n=_a._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=_a._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i}highlight(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=this.#v++,r=this.#Ka(e.box);r.classList.add("highlight"),e.free&&r.classList.add("free");const a=_a._svgFactory.createElement("defs");r.append(a);const o=_a._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",l),o.setAttribute("d",e.toSVGPath()),i&&this.#$a.set(s,o);const c=this.#Ya(a,l),d=_a._svgFactory.createElement("use");return r.append(d),r.setAttribute("fill",t),r.setAttribute("fill-opacity",n),d.setAttribute("href",`#${l}`),this.#qa.set(s,r),{id:s,clipPathId:`url(#${c})`}}highlightOutline(e){const t=this.#v++,n=this.#Ka(e.box);n.classList.add("highlightOutline");const i=_a._svgFactory.createElement("defs");n.append(i);const s=_a._svgFactory.createElement("path");i.append(s);const r=`path_p${this.pageIndex}_${t}`;let a;if(s.setAttribute("id",r),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke"),e.free){n.classList.add("free");const e=_a._svgFactory.createElement("mask");i.append(e),a=`mask_p${this.pageIndex}_${t}`,e.setAttribute("id",a),e.setAttribute("maskUnits","objectBoundingBox");const s=_a._svgFactory.createElement("rect");e.append(s),s.setAttribute("width","1"),s.setAttribute("height","1"),s.setAttribute("fill","white");const o=_a._svgFactory.createElement("use");e.append(o),o.setAttribute("href",`#${r}`),o.setAttribute("stroke","none"),o.setAttribute("fill","black"),o.setAttribute("fill-rule","nonzero"),o.classList.add("mask")}const o=_a._svgFactory.createElement("use");n.append(o),o.setAttribute("href",`#${r}`),a&&o.setAttribute("mask",`url(#${a})`);const l=o.cloneNode();return n.append(l),o.classList.add("mainOutline"),l.classList.add("secondaryOutline"),this.#qa.set(t,n),t}finalizeLine(e,t){const n=this.#$a.get(e);this.#$a.delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#qa.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),this.#$a.delete(e)}updatePath(e,t){this.#$a.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){_a.#Xa(this.#qa.get(e),t)}show(e,t){this.#qa.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#qa.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#qa.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#qa.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#qa.get(e).classList.add(t)}removeClass(e,t){this.#qa.get(e).classList.remove(t)}remove(e){null!==this.#xi&&(this.#qa.get(e).remove(),this.#qa.delete(e))}destroy(){this.#xi=null;for(const e of this.#qa.values())e.remove();this.#qa.clear()}}var Ta=pt.AnnotationLayer,Pa=pt.AnnotationMode,Ma=pt.GlobalWorkerOptions,Ra=pt.PDFDataRangeTransport,La=pt.TextLayer,Da=pt.getDocument,Ia=function(e,t,n){if(n||2===arguments.length)for(var i,s=0,r=t.length;s<r;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))},Fa=Ia(Ia(Ia(Ia(Ia(Ia(Ia(Ia(Ia(Ia(Ia(Ia(Ia(Ia(Ia(Ia(Ia(Ia([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),["onFocus","onBlur"],!0),["onInput","onInvalid","onReset","onSubmit"],!0),["onLoad","onError"],!0),["onKeyDown","onKeyPress","onKeyUp"],!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],!0),["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],!0),["onSelect"],!0),["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onScroll"],!0),["onWheel"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onChange"],!0),["onToggle"],!0);function Na(e,t){var n={};return Fa.forEach((function(i){var s=e[i];s&&(n[i]=t?function(e){return s(e,t(i))}:s)})),n}function Oa(e){var t=!1;return{promise:new Promise((function(n,i){e.then((function(e){return!t&&n(e)})).catch((function(e){return!t&&i(e)}))})),cancel:function(){t=!0}}}function ja(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=ja(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const za=function(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=ja(e))&&(i&&(i+=" "),i+=t);return i};var Ba="Invariant failed";function Ha(e,t){if(!e)throw new Error(Ba)}var Ua=n(440),Wa=Object.prototype.hasOwnProperty;function Va(e,t,n){for(n of e.keys())if(Ga(n,t))return n}function Ga(e,t){var n,i,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&Ga(e[i],t[i]););return-1===i}if(n===Set){if(e.size!==t.size)return!1;for(i of e){if((s=i)&&"object"===typeof s&&!(s=Va(t,s)))return!1;if(!t.has(s))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(i of e){if((s=i[0])&&"object"===typeof s&&!(s=Va(t,s)))return!1;if(!Ga(i[1],t.get(s)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((i=e.byteLength)===t.byteLength)for(;i--&&e.getInt8(i)===t.getInt8(i););return-1===i}if(ArrayBuffer.isView(e)){if((i=e.byteLength)===t.byteLength)for(;i--&&e[i]===t[i];);return-1===i}if(!n||"object"===typeof e){for(n in i=0,e){if(Wa.call(e,n)&&++i&&!Wa.call(t,n))return!1;if(!(n in t)||!Ga(e[n],t[n]))return!1}return Object.keys(t).length===i}}return e!==e&&t!==t}const qa=(0,r.createContext)(null);function $a(e){let{children:t,type:n}=e;return(0,Me.jsx)("div",{className:`react-pdf__message react-pdf__message--${n}`,children:t})}class Xa{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ha(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Ha(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise((t=>{Ha(this.pdfDocument),Ha(e),"string"===typeof e?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)})).then((e=>{Ha(Array.isArray(e));const t=e[0];new Promise((e=>{Ha(this.pdfDocument),t instanceof Object?this.pdfDocument.getPageIndex(t).then((t=>{e(t)})).catch((()=>{Ha(!1)})):"number"===typeof t?e(t):Ha(!1)})).then((t=>{const n=t+1;Ha(this.pdfViewer),Ha(n>=1&&n<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:t,pageNumber:n})}))}))}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Ha(this.pdfViewer),Ha(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Ka={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Ya="undefined"!==typeof window,Qa=Ya&&"file:"===window.location.protocol;function Za(e){return function(e){return"undefined"!==typeof e}(e)&&null!==e}function Ja(e){return function(e){return"string"===typeof e}(e)&&/^data:/.test(e)}function eo(e){Ha(Ja(e));const[t="",n=""]=e.split(",");return-1!==t.split(";").indexOf("base64")?atob(n):unescape(n)}function to(){return Ya&&window.devicePixelRatio||1}const no="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function io(){Ua(!Qa,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${no}`)}function so(e){(null===e||void 0===e?void 0:e.cancel)&&e.cancel()}function ro(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function ao(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function oo(){return(0,r.useReducer)(ao,{value:void 0,error:void 0})}var lo=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function o(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((i=i.apply(e,t||[])).next())}))},co=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const{Tm:uo}=i,ho=(e,t)=>{switch(t){case Ka.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case Ka.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."));break}};function po(e){return"object"===typeof e&&null!==e&&("data"in e||"range"in e||"url"in e)}const fo=(0,r.forwardRef)((function(e,t){var{children:n,className:i,error:s="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:d,loading:u="Loading PDF\u2026",noData:h="No PDF file specified.",onItemClick:p,onLoadError:f,onLoadProgress:g,onLoadSuccess:m,onPassword:v=ho,onSourceError:b,onSourceSuccess:y,options:A,renderMode:w,rotate:x}=e,E=co(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[S,C]=oo(),{value:k,error:_}=S,[T,P]=oo(),{value:M,error:R}=T,L=(0,r.useRef)(new Xa),D=(0,r.useRef)([]),I=(0,r.useRef)(void 0),F=(0,r.useRef)(void 0);l&&l!==I.current&&po(l)&&(Ua(!Ga(l,I.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),I.current=l),A&&A!==F.current&&(Ua(!Ga(A,F.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),F.current=A);const N=(0,r.useRef)({scrollPageIntoView:e=>{const{dest:t,pageNumber:n,pageIndex:i=n-1}=e;if(p)return void p({dest:t,pageIndex:i,pageNumber:n});const s=D.current[i];s?s.scrollIntoView():Ua(!1,`An internal link leading to page ${n} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});(0,r.useImperativeHandle)(t,(()=>({linkService:L,pages:D,viewer:N})),[]),(0,r.useEffect)((function(){C({type:"RESET"})}),[l,C]);const O=(0,r.useCallback)((()=>lo(this,void 0,void 0,(function*(){if(!l)return null;if("string"===typeof l){if(Ja(l)){return{data:eo(l)}}return io(),{url:l}}if(l instanceof uo)return{range:l};if(l instanceof ArrayBuffer)return{data:l};if(Ya&&function(e){return Ha(Ya),e instanceof Blob}(l)){const e=yield function(e){return new Promise(((t,n)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return n(new Error("Error while reading a file."));t(i.result)},i.onerror=e=>{if(!e.target)return n(new Error("Error while reading a file."));const{error:t}=e.target;if(!t)return n(new Error("Error while reading a file."));switch(t.code){case t.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},i.readAsArrayBuffer(e)}))}(l);return{data:e}}if(Ha("object"===typeof l),Ha(po(l)),"url"in l&&"string"===typeof l.url){if(Ja(l.url)){const{url:e}=l,t=co(l,["url"]),n=eo(e);return Object.assign({data:n},t)}io()}return l}))),[l]);(0,r.useEffect)((()=>{const e=Oa(O());return e.promise.then((e=>{C({type:"RESOLVE",value:e})})).catch((e=>{C({type:"REJECT",error:e})})),()=>{so(e)}}),[O,C]),(0,r.useEffect)((()=>{"undefined"!==typeof k&&(!1!==k?y&&y():_&&(Ua(!1,_.toString()),b&&b(_)))}),[k]),(0,r.useEffect)((function(){P({type:"RESET"})}),[P,k]),(0,r.useEffect)((function(){if(!k)return;const e=A?Object.assign(Object.assign({},k),A):k,t=Da(e);g&&(t.onProgress=g),v&&(t.onPassword=v);const n=t,i=n.promise.then((e=>{P({type:"RESOLVE",value:e})})).catch((e=>{n.destroyed||P({type:"REJECT",error:e})}));return()=>{i.finally((()=>n.destroy()))}}),[A,P,k]),(0,r.useEffect)((()=>{"undefined"!==typeof M&&(!1!==M?M&&(m&&m(M),D.current=new Array(M.numPages),L.current.setDocument(M)):R&&(Ua(!1,R.toString()),f&&f(R)))}),[M]),(0,r.useEffect)((function(){L.current.setViewer(N.current),L.current.setExternalLinkRel(a),L.current.setExternalLinkTarget(o)}),[a,o]);const j=(0,r.useCallback)(((e,t)=>{D.current[e]=t}),[]),z=(0,r.useCallback)((e=>{delete D.current[e]}),[]),B=(0,r.useMemo)((()=>({imageResourcesPath:d,linkService:L.current,onItemClick:p,pdf:M,registerPage:j,renderMode:w,rotate:x,unregisterPage:z})),[d,p,M,j,w,x,z]),H=(0,r.useMemo)((()=>Na(E,(()=>M))),[E,M]);return(0,Me.jsx)("div",Object.assign({className:za("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},H,{children:l?void 0===M||null===M?(0,Me.jsx)($a,{type:"loading",children:"function"===typeof u?u():u}):!1===M?(0,Me.jsx)($a,{type:"error",children:"function"===typeof s?s():s}):(0,Me.jsx)(qa.Provider,{value:B,children:n}):(0,Me.jsx)($a,{type:"no-data",children:"function"===typeof h?h():h})}))}));function go(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);return n.length<=1?n[0]||null:function(e){n.forEach((function(t){"function"===typeof t?t(e):t&&(t.current=e)}))}}const mo=(0,r.createContext)(null),vo={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},bo=/^H(\d+)$/;function yo(e){return"children"in e}function Ao(e){return!!yo(e)&&(1===e.children.length&&0 in e.children&&"id"in e.children[0])}function wo(e){const t={};if(yo(e)){const{role:n}=e,i=n.match(bo);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(function(e){return e in vo}(n)){const e=vo[n];e&&(t.role=e)}}return t}function xo(e){const t={};if(yo(e)){if(void 0!==e.alt&&(t["aria-label"]=e.alt),void 0!==e.lang&&(t.lang=e.lang),Ao(e)){const[n]=e.children;if(n){const e=xo(n);return Object.assign(Object.assign({},t),e)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function Eo(e){return e?Object.assign(Object.assign({},wo(e)),xo(e)):null}function So(e){let{className:t,node:n}=e;const i=(0,r.useMemo)((()=>Eo(n)),[n]),s=(0,r.useMemo)((()=>yo(n)?Ao(n)?null:n.children.map(((e,t)=>(0,Me.jsx)(So,{node:e},t))):null),[n]);return(0,Me.jsx)("span",Object.assign({className:t},i,{children:s}))}function Co(){return(0,r.useContext)(mo)}function ko(){const e=Co();Ha(e);const{onGetStructTreeError:t,onGetStructTreeSuccess:n}=e,[i,s]=oo(),{value:a,error:o}=i,{customTextRenderer:l,page:c}=e;return(0,r.useEffect)((function(){s({type:"RESET"})}),[s,c]),(0,r.useEffect)((function(){if(l)return;if(!c)return;const e=Oa(c.getStructTree()),t=e;return e.promise.then((e=>{s({type:"RESOLVE",value:e})})).catch((e=>{s({type:"REJECT",error:e})})),()=>so(t)}),[l,c,s]),(0,r.useEffect)((()=>{void 0!==a&&(!1!==a?a&&n&&n(a):o&&(Ua(!1,o.toString()),t&&t(o)))}),[a]),a?(0,Me.jsx)(So,{className:"react-pdf__Page__structTree structTree",node:a}):null}const _o=Pa;function To(e){const t=Co();Ha(t);const n=Object.assign(Object.assign({},t),e),{_className:i,canvasBackground:s,devicePixelRatio:a=to(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:d,renderTextLayer:u,rotate:h,scale:p}=n,{canvasRef:f}=e;Ha(c);const g=(0,r.useRef)(null);function m(e){(function(e){return"RenderingCancelledException"===e.name})(e)||(Ua(!1,e.toString()),o&&o(e))}const v=(0,r.useMemo)((()=>c.getViewport({scale:p*a,rotation:h})),[a,c,h,p]),b=(0,r.useMemo)((()=>c.getViewport({scale:p,rotation:h})),[c,h,p]);(0,r.useEffect)((function(){if(!c)return;c.cleanup();const{current:e}=g;if(!e)return;e.width=v.width,e.height=v.height,e.style.width=`${Math.floor(b.width)}px`,e.style.height=`${Math.floor(b.height)}px`,e.style.visibility="hidden";const t={annotationMode:d?_o.ENABLE_FORMS:_o.ENABLE,canvasContext:e.getContext("2d",{alpha:!1}),viewport:v};s&&(t.background=s);const n=c.render(t),i=n;return n.promise.then((()=>{e.style.visibility="",c&&l&&l(ro(c,p))})).catch(m),()=>so(i)}),[s,c,d,v,b]);const y=(0,r.useCallback)((()=>{const{current:e}=g;e&&(e.width=0,e.height=0)}),[]);return(0,r.useEffect)((()=>y),[y]),(0,Me.jsx)("canvas",{className:`${i}__canvas`,dir:"ltr",ref:go(f,g),style:{display:"block",userSelect:"none"},children:u?(0,Me.jsx)(ko,{}):null})}function Po(){const e=Co();Ha(e);const{customTextRenderer:t,onGetTextError:n,onGetTextSuccess:i,onRenderTextLayerError:s,onRenderTextLayerSuccess:a,page:o,pageIndex:l,pageNumber:c,rotate:d,scale:u}=e;Ha(o);const[h,p]=oo(),{value:f,error:g}=h,m=(0,r.useRef)(null),v=(0,r.useRef)(void 0);Ua(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,r.useEffect)((function(){p({type:"RESET"})}),[o,p]),(0,r.useEffect)((function(){if(!o)return;const e=Oa(o.getTextContent()),t=e;return e.promise.then((e=>{p({type:"RESOLVE",value:e})})).catch((e=>{p({type:"REJECT",error:e})})),()=>so(t)}),[o,p]),(0,r.useEffect)((()=>{void 0!==f&&(!1!==f?f&&i&&i(f):g&&(Ua(!1,g.toString()),n&&n(g)))}),[f]);const b=(0,r.useCallback)((()=>{a&&a()}),[a]),y=(0,r.useCallback)((e=>{Ua(!1,e.toString()),s&&s(e)}),[s]);const A=(0,r.useMemo)((()=>o.getViewport({scale:u,rotation:d})),[o,d,u]);return(0,r.useLayoutEffect)((function(){if(!o||!f)return;const{current:e}=m;if(!e)return;e.innerHTML="";const n=o.streamTextContent({includeMarkedContent:!0}),i=new La({container:e,textContentSource:n,viewport:A}),s=i;return i.render().then((()=>{const n=document.createElement("div");n.className="endOfContent",e.append(n),v.current=n;const i=e.querySelectorAll('[role="presentation"]');if(t){let e=0;f.items.forEach(((n,s)=>{if(!function(e){return"str"in e}(n))return;const r=i[e];if(!r)return;const a=t(Object.assign({pageIndex:l,pageNumber:c,itemIndex:s},n));r.innerHTML=a,e+=n.str&&n.hasEOL?2:1}))}b()})).catch(y),()=>so(s)}),[t,y,b,o,l,c,f,A]),(0,Me.jsx)("div",{className:za("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const e=v.current;e&&e.classList.remove("active")},onMouseDown:function(){const e=v.current;e&&e.classList.add("active")},ref:m})}function Mo(){return(0,r.useContext)(qa)}function Ro(){const e=Mo(),t=Co();Ha(t);const n=Object.assign(Object.assign({},e),t),{imageResourcesPath:i,linkService:s,onGetAnnotationsError:a,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:d,pdf:u,renderForms:h,rotate:p,scale:f=1}=n;Ha(u),Ha(d),Ha(s);const[g,m]=oo(),{value:v,error:b}=g,y=(0,r.useRef)(null);Ua(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,r.useEffect)((function(){m({type:"RESET"})}),[m,d]),(0,r.useEffect)((function(){if(!d)return;const e=Oa(d.getAnnotations()),t=e;return e.promise.then((e=>{m({type:"RESOLVE",value:e})})).catch((e=>{m({type:"REJECT",error:e})})),()=>{so(t)}}),[m,d]),(0,r.useEffect)((()=>{void 0!==v&&(!1!==v?v&&o&&o(v):b&&(Ua(!1,b.toString()),a&&a(b)))}),[v]);const A=(0,r.useMemo)((()=>d.getViewport({scale:f,rotation:p})),[d,p,f]);return(0,r.useEffect)((function(){if(!u||!d||!s||!v)return;const{current:e}=y;if(!e)return;const t=A.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:e,l10n:null,page:d,viewport:t},r={annotations:v,annotationStorage:u.annotationStorage,div:e,imageResourcesPath:i,linkService:s,page:d,renderForms:h,viewport:t};e.innerHTML="";try{new Ta(n).render(r),c&&c()}catch(a){!function(e){Ua(!1,`${e}`),l&&l(e)}(a)}return()=>{}}),[v,i,s,d,u,h,A]),(0,Me.jsx)("div",{className:za("react-pdf__Page__annotations","annotationLayer"),ref:y})}var Lo=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n};const Do=1;function Io(e){const t=Mo(),n=Object.assign(Object.assign({},t),e),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:a,canvasRef:o,children:l,className:c,customRenderer:d,customTextRenderer:u,devicePixelRatio:h,error:p="Failed to load the page.",height:f,inputRef:g,loading:m="Loading page\u2026",noData:v="No page specified.",onGetAnnotationsError:b,onGetAnnotationsSuccess:y,onGetStructTreeError:A,onGetStructTreeSuccess:w,onGetTextError:x,onGetTextSuccess:E,onLoadError:S,onLoadSuccess:C,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:_,onRenderError:T,onRenderSuccess:P,onRenderTextLayerError:M,onRenderTextLayerSuccess:R,pageIndex:L,pageNumber:D,pdf:I,registerPage:F,renderAnnotationLayer:N=!0,renderForms:O=!1,renderMode:j="canvas",renderTextLayer:z=!0,rotate:B,scale:H=Do,unregisterPage:U,width:W}=n,V=Lo(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[G,q]=oo(),{value:$,error:X}=G,K=(0,r.useRef)(null);Ha(I);const Y=Za(D)?D-1:null!==L&&void 0!==L?L:null,Q=null!==D&&void 0!==D?D:Za(L)?L+1:null,Z=null!==B&&void 0!==B?B:$?$.rotate:null,J=(0,r.useMemo)((()=>{if(!$)return null;let e=1;const t=null!==H&&void 0!==H?H:Do;if(W||f){const t=$.getViewport({scale:1,rotation:Z});W?e=W/t.width:f&&(e=f/t.height)}return t*e}),[f,$,Z,H,W]);(0,r.useEffect)((function(){return()=>{Za(Y)&&s&&U&&U(Y)}}),[s,I,Y,U]),(0,r.useEffect)((function(){q({type:"RESET"})}),[q,I,Y]),(0,r.useEffect)((function(){if(!I||!Q)return;const e=Oa(I.getPage(Q)),t=e;return e.promise.then((e=>{q({type:"RESOLVE",value:e})})).catch((e=>{q({type:"REJECT",error:e})})),()=>so(t)}),[q,I,Q]),(0,r.useEffect)((()=>{void 0!==$&&(!1!==$?function(){if(C){if(!$||!J)return;C(ro($,J))}if(s&&F){if(!Za(Y)||!K.current)return;F(Y,K.current)}}():X&&(Ua(!1,X.toString()),S&&S(X)))}),[$,J]);const ee=(0,r.useMemo)((()=>$&&Za(Y)&&Q&&Za(Z)&&Za(J)?{_className:i,canvasBackground:a,customTextRenderer:u,devicePixelRatio:h,onGetAnnotationsError:b,onGetAnnotationsSuccess:y,onGetStructTreeError:A,onGetStructTreeSuccess:w,onGetTextError:x,onGetTextSuccess:E,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:_,onRenderError:T,onRenderSuccess:P,onRenderTextLayerError:M,onRenderTextLayerSuccess:R,page:$,pageIndex:Y,pageNumber:Q,renderForms:O,renderTextLayer:z,rotate:Z,scale:J}:null),[i,a,u,h,b,y,A,w,x,E,k,_,T,P,M,R,$,Y,Q,O,z,Z,J]),te=(0,r.useMemo)((()=>Na(V,(()=>$?J?ro($,J):void 0:$))),[V,$,J]),ne=`${Y}@${J}/${Z}`;function ie(){switch(j){case"custom":return Ha(d),(0,Me.jsx)(d,{},`${ne}_custom`);case"none":return null;default:return(0,Me.jsx)(To,{canvasRef:o},`${ne}_canvas`)}}return(0,Me.jsx)("div",Object.assign({className:za(i,c),"data-page-number":Q,ref:go(g,K),style:{"--scale-factor":`${J}`,backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},te,{children:Q?null===I||void 0===$||null===$?(0,Me.jsx)($a,{type:"loading",children:"function"===typeof m?m():m}):!1===I||!1===$?(0,Me.jsx)($a,{type:"error",children:"function"===typeof p?p():p}):(0,Me.jsxs)(mo.Provider,{value:ee,children:[ie(),z?(0,Me.jsx)(Po,{},`${ne}_text`):null,N?(0,Me.jsx)(Ro,{},`${ne}_annotations`):null,l]}):(0,Me.jsx)($a,{type:"no-data",children:"function"===typeof v?v():v})}))}const Fo=n.p+"static/media/charte-epfl-sic.27472a6654585be60e42.pdf";Ma.workerSrc=new URL(n(749),n.b).toString();const No=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,r.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,r.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"notre engagement":"our engagement")+" | EPFL Sustainable Innovation Challenge"}),[]);const[a,o]=(0,r.useState)(0),[l,c]=(0,r.useState)(1),[d,u]=(0,r.useState)(1),h=(0,r.useRef)();return(0,r.useEffect)((()=>{function e(){if(h.current){const e=h.current.offsetWidth;u(e/600)}}return e(),window.addEventListener("resize",(()=>e())),()=>{window.removeEventListener("resize",e)}}),[]),(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsxs)("main",{children:[(0,Me.jsxs)("h1",{children:[{FR:"Notre engagement",EN:"Our engagement"}[n]," (",(0,Me.jsx)("a",{href:Fo,children:"pdf"}),")"]}),(0,Me.jsx)("div",{className:"pdf-container",ref:h,children:(0,Me.jsx)(fo,{file:Fo,onLoadSuccess:function(e){let{numPages:t}=e;o(t)},children:Array(a).fill(0).map(((e,t)=>(0,Me.jsx)(Io,{scale:d,renderTextLayer:!1,renderAnnotationLayer:!1,pageNumber:t+1},`page-${t}`)))})})]})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})})},Oo=(n.p,n.p+"static/media/status-epfl-sic-signed.45536677b6cae8523ddd.pdf"),jo=n.p+"static/media/ag-epfl-sic-signed.a2bf679f82cfc03c9ada.pdf";Ma.workerSrc=new URL(n(749),n.b).toString();const zo=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,r.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,r.useEffect)((function(){window.scrollTo(0,0),document.title="status | EPFL Sustainable Innovation Challenge"}),[]);const a={description:{FR:"Nous sommes une association \xe0 but non lucratif de l'EPFL. Vous pouvez trouver les documents sign\xe9s de nos statuts ainsi que du compte rendu de notre derni\xe8re assembl\xe9e g\xe9n\xe9rale en cliquant sur les boutons ci-dessous.",EN:"We are a nonprofit association at EPFL. You can find the signed documents for both our statutes and the minutes of our most recent general assembly by clicking the buttons below."},"ag-title":{FR:"PV AG",EN:"GA minutes"},"status-title":{FR:"Statuts",EN:"Statutes"}},[o,l]=(0,r.useState)(0),[c,d]=(0,r.useState)(1),[u,h]=(0,r.useState)(1),p=(0,r.useRef)();return(0,r.useEffect)((()=>{function e(){if(p.current){const e=p.current.offsetWidth;h(e/600)}}return e(),window.addEventListener("resize",(()=>e())),()=>{window.removeEventListener("resize",e)}}),[]),(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsxs)("main",{children:[(0,Me.jsx)("h1",{children:a.description[n]}),(0,Me.jsxs)("h1",{children:[" (",(0,Me.jsx)("a",{href:jo,children:a["ag-title"][n]}),") - (",(0,Me.jsx)("a",{href:Oo,children:a["status-title"][n]}),")"]})]})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})})};const Bo=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,r.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,r.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"nous contacter":"contact us")+" | EPFL Sustainable Innovation Challenge"}),[]);const a={title:{FR:"Nous Contacter",EN:"Contact Us"},object:{FR:"objet",EN:"object"},"your-message":{FR:"votre message ici *",EN:"your message here *"}};return(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsx)("main",{children:(0,Me.jsxs)("form",{action:"https://formsubmit.co/sic@epfl.ch",method:"POST",children:[(0,Me.jsx)("h1",{children:a.title[n]}),(0,Me.jsx)("input",{type:"email",name:"email",placeholder:"email *",required:!0}),(0,Me.jsx)("input",{type:"text",name:"objet",placeholder:a.object[n]}),(0,Me.jsx)("textarea",{name:"message",rows:"7",placeholder:a["your-message"][n],required:!0}),(0,Me.jsx)("input",{type:"submit",value:"submit"})]})})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})})};const Ho=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,r.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}return(0,r.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"le blog":"the blog")+" | EPFL Sustainable Innovation Challenge"}),[]),(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsx)("main",{children:(0,Me.jsx)("p",{children:{EN:"Welcome to our blog gallery \u2014 a curated collection of inspiring moments, stories, and visuals that capture the essence of our journey.",FR:"Bienvenue dans notre galerie de blog \u2014 une collection soigneusement s\xe9lectionn\xe9e de moments inspirants, d'histoires et de visuels qui capturent l'essence de notre parcours."}[n]})})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})};const Uo=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,r.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,r.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"article du blog":"blog post")+" | EPFL Sustainable Innovation Challenge"}),[]);const{blogPostId:a}=re();return(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsxs)("main",{children:["this is a blog post with id '",a,"'"]})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})};n.p,n.p,n.p;n.p;n.p,n.p,n.p,n.p;const Wo=function(e){let{option1:t,option2:n,selectedOption:i,handleOptionSwitchCallBack:s}=e;return(0,Me.jsxs)("div",{className:"switch-button","selected-option":i,children:[(0,Me.jsx)("p",{onClick:()=>s(0),children:t}),(0,Me.jsx)("p",{onClick:()=>s(1),children:n}),(0,Me.jsx)("div",{})]})};const Vo=function(e){let{scheduleData:t}=e,n=[];for(let r=8;r<=20;r++)n.push(`${r}h00`),n.push(`${r}h15`),n.push(`${r}h30`),n.push(`${r}h45`);function i(e,t){let[n,i]=e.split("h");e=60*+n+ +i;let[s,r]=t.split("h");return e<(t=60*+s+ +r)}function s(e){let[t,n]=e.split("h");return"00"===n}return(0,Me.jsx)(Me.Fragment,{children:(0,Me.jsxs)("table",{children:[(0,Me.jsx)("thead",{children:(0,Me.jsxs)("tr",{children:[(0,Me.jsx)("th",{}),t.locations.map((e=>(0,Me.jsx)("th",{children:e.name})))]})}),(0,Me.jsx)("tbody",{children:n.map((e=>(0,Me.jsxs)("tr",{children:[(0,Me.jsx)("td",{children:s(e)?e:""}),t.locations.map((t=>function(e,t){let s=e.events.find((e=>t===e.start));if(s){let e=("onwards"===s.end?n.length:n.findIndex((e=>e===s.end)))-n.findIndex((e=>e===s.start));return(0,Me.jsxs)("td",{className:s.type,rowSpan:e,children:[s.event," ",(0,Me.jsx)("br",{}),s.start," - ",s.end]})}return e.events.find((e=>i(e.start,t)&&("onwards"===e.end||i(t,e.end))))?(console.log("no cell at",t," for location: ",e.name),null):(0,Me.jsx)("td",{})}(t,e)))]})))})]})})},Go=JSON.parse('{"_":[{"date":"13/04","locations":[{"name":"Rolex Forum","events":[{"start":"8h00","end":"8h45","event":"Registration","type":"marked-as-diverse"},{"start":"8h45","end":"9h00","event":"Opening statement with Edouard Bugnion","type":"marked-as-diverse"},{"start":"9h00","end":"9h45","event":"Kai Gehring","type":"marked-as-speakers"},{"start":"10h00","end":"10h45","event":"Alexander Mathys","type":"marked-as-speakers"},{"start":"10h45","end":"11h15","event":"Coffee Break","type":"marked-as-diverse"},{"start":"11h15","end":"12h00","event":"Christophe Ballif","type":"marked-as-speakers"},{"start":"12h15","end":"13h00","event":"C\xe9dric Tard","type":"marked-as-speakers"},{"start":"13h00","end":"14h00","event":"Lunch","type":"marked-as-diverse"},{"start":"14h00","end":"14h45","event":"Gr\xe9gory Nocton","type":"marked-as-speakers"},{"start":"15h00","end":"15h45","event":"Claudia Binder","type":"marked-as-speakers"},{"start":"16h00","end":"16h45","event":"Sascha Nick","type":"marked-as-speakers"},{"start":"16h45","end":"17h15","event":"Coffee Break","type":"marked-as-diverse"},{"start":"17h15","end":"18h00","event":"Massimo Tavoni","type":"marked-as-speakers"},{"start":"18h00","end":"20h00","event":"Challenge","type":"marked-as-special-format-event"},{"start":"20h00","end":"onwards","event":"Apero","type":"marked-as-diverse"}]},{"name":"MED and Rolex Hall","events":[{"start":"9h00","end":"onwards","event":"industry, academia and student exhibition + showcase","type":"marked-as-showcase"}]}]},{"date":"14/04","locations":[{"name":"Rolex Forum","events":[{"start":"9h00","end":"9h45","event":"Monika Roeling","type":"marked-as-speakers"},{"start":"10h00","end":"10h45","event":"Satu Huuhka","type":"marked-as-speakers"},{"start":"12h00","end":"12h45","event":"Giacomo D\'Alisa","type":"marked-as-speakers"},{"start":"12h45","end":"13h30","event":"Lunch","type":"marked-as-diverse"},{"start":"15h30","end":"16h15","event":"Julia Steinberger","type":"marked-as-speakers"},{"start":"16h30","end":"18h30","event":"Academic Citizen\'s Assembly + Coffee","type":"marked-as-special-format-event"},{"start":"18h30","end":"19h00","event":"Prizes and closing statement","type":"marked-as-diverse"}]},{"name":"Rolex Hodler","events":[{"start":"10h45","end":"11h15","event":"Coffee Break","type":"marked-as-diverse"},{"start":"11h15","end":"11h45","event":"Workshop: careers in sustainability, e4s","type":"marked-as-workshops"},{"start":"13h30","end":"14h15","event":"Workshop: sustainability and industrial development, Deloitte","type":"marked-as-workshops"},{"start":"14h30","end":"15h15","event":"Workshop: ZEG (internal people)","type":"marked-as-workshops"},{"start":"16h30","end":"18h30","event":"Workshop: ZEG (external people)","type":"marked-as-workshops"}]}]}]}');const qo=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,r.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,r.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"horaires & billets":"schedule & tickets")+" | EPFL Sustainable Innovation Challenge"}),[]);const a="13/03",o="14/03";let[l,c]=(0,r.useState)(0);return(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsxs)("main",{children:[(0,Me.jsx)(Wo,{option1:a,option2:o,selectedOption:l,handleOptionSwitchCallBack:function(e){c(e)}}),(0,Me.jsx)(Vo,{scheduleData:Go._[l]}),(0,Me.jsxs)("div",{className:"schedule-legend",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"marked-as-speakers"}),(0,Me.jsx)("p",{children:"Speakers"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"marked-as-showcase"}),(0,Me.jsx)("p",{children:"Showcase"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"marked-as-special-format-event"}),(0,Me.jsx)("p",{children:"Special format event"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"marked-as-workshops"}),(0,Me.jsx)("p",{children:"Workshops"})]})]})]})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})};const $o=function(e){let{team_data:t,is_honorific:n}=e,i=(n?"/honorific-team/":"/selected-team/")+t.id;return(0,Me.jsxs)(_e,{className:"team-card",to:i,children:[(0,Me.jsx)("h2",{children:t.name}),(0,Me.jsx)("p",{children:t["short-description"]})]},t.id)};const Xo=function(e){let{jury_data:t}=e;return(0,Me.jsx)("div",{children:t.name})},Ko=[{name:"AEther Swiss Kite",id:"aether-swiss-kite",country:"Switzerland",university:"EPFL","short-description":"Autonomous kites to cut shipping emissions","long-description":"\xc6ther Swiss Kite is an EPFL association aiming to create an autonomous                                 kite piloting system. Founded in 2024 by former members of the SP80 sailing                                 speed record project, the team aims to use its expertise to generate electricity                                  by using the kite as a wind turbine, or to save energy by towing freight boats.                                 To meet this challenge, the \xc6ther team is made up of some fifteen EPFL students, all                                 passionate about their work. Most of them even carry out their semester projects,                                 which are credited and recognized towards their diploma. The research and development                                 carried out at \xc6ther gives students the opportunity to deepen their knowledge in an environment                                 conducive to innovation.",linkedin:"http://linkedin.com/company/%C3%A6ther-swiss-kite/",instagram:"https://www.instagram.com/aether.swiss.kite/"},{name:"EPFL Carbon Team",id:"epfl-carbon-team",country:"Switzerland",university:"EPFL","short-description":"Direct Air Capture","long-description":"We are a student MAKE project supported by several renowned professors and laboratories at EPFL.                                 We are developing a new durable, low-cost, scalable, and sustainable solution for Direct-Air-Capture                                 Our prototype consists of three parts : Ast\xe9rix, Pneumatix and Id\xe9fix. Ast\xe9rix contains adsorbants                                 and works with a periodic air flow. It releases two air fluxes : one rich in CO2 and one poor in CO2                                 (since it has been removed) thanks to filtration via the adsorbants. Id\xe9fix works continously as it                                 contains graphene membranes that act like a filter trapping CO2 from the incoming air. Pneumatix connects                                 both other parts whose combination allows for this CO2 capture process optimisation.",linkedin:"https://www.linkedin.com/company/epfl-carbon-team/",instagram:"https://www.instagram.com/epflcarbonteam/"},{name:"Genorobotics",id:"genorobotics",country:"Switzerland",university:"EPFL","short-description":"Holistic technological innovation for botanical conservation","long-description":"Biodiversity preservation has become a major challenge of the XXIst century. Biodiversity identification                                 and monitoring are the cornerstones for preservation actions. However, the classical conservation and                                 taxonomy approaches no longer fit with the emergency of the situation. In response to these great upheavals                                 and the opportunities given by the latest biotechnology advances conservationists have enlarged their toolbox.                                The use of DNA has deeply impacted taxonomy over the last decade, evolving from a species detection method to                                 a tool for the identification and discovery of new species. However, the full exploitation of genomic technologies                                requires high sequencing costs and expensively equipped facilities only available in developed countries.                                 Furthermore, exportation of biological samples between countries has been largely restricted by the NAGOYA                                 protocol in order to protect the access to genetic resources and the sharing of their benefits. This creates                                 an impasse for conservation efforts and scientific research, since both directly work with biological samples to                                 study or reference them. The need for on-site genomic tools has become urgent ! In this way, to fill the gap                                between new genomic conservation approaches and DNA sequencing technologies, we are developing a miniaturized tool                                to automatically process botanical samples into the field and accelerate biodiversity identification.",linkedin:"https://www.linkedin.com/company/genorobotics/",instagram:"https://www.instagram.com/genorobotics/"},{name:"GUST",id:"gust",country:"Poland",university:"University of Lodz","short-description":"Biocomposite wind turbines","long-description":"GUST (Generative Urban Small Turbine) is a student project launched in October 2015. The project is implemented by                                 members of the Student Scientific Circle of Energy Scientists (SKNE) located at the Institute of Flow Machinery of the Faculty of Mechanical                                 Engineering of the Technical University of Lodz. The project is designed to promote the harvesting of renewable energy from wind for prosumers.                                 To this end, a prototype of a domestic wind turbine has been designed and constructed, It is intended to cover a significant portion of a                                 household's daily electricity needs, as well as contribute to cost reduction and increased savings.",linkedin:"https://www.linkedin.com/company/generative-urban-small-turbine/",instagram:null},{name:"NeoMineX",id:"neominex",country:"Belgium",university:"KU Leuven","short-description":"Biomining metals with engineered bacteria","long-description":"We engineered bacteria to take up metals from the environment by expressing proteins with a high affinity for specific metals.                               Our engineered bacteria are mixed with wastewater where they bind to their target metals. Our project encourages a circular                               economy and contributes to less metal pollution in the environment and more place for nature, by reducing the amount of mining                               cites needed. We highly value our sustainability collaborations as well. Synthetic biology will shape all of our futures,                               it is therefore important that everyone has the ability to learn about it. In order to have truly sustainable changes,                               science and industry need to be representative. We want to show that science is for everyone.",linkedin:"https://www.linkedin.com/company/kuleuvenigem/",instagram:"https://www.instagram.com/igemkuleuven/"},{name:"RebuiLT",id:"rebuilt",country:"Switzerland",university:"EPFL","short-description":"Sustainable construction with reused materials","long-description":"RebuiLT is a MAKE EPFL project whose objective is to propose in a concrete way a new method of construction more respectful                                 of the environment, in line with the circularity of materials and low-tech. Currently, rebuiLT is building a pavilion in                                 Ecublens from reused concrete elements",linkedin:"https://www.linkedin.com/company/rebuilt-epfl/",instagram:"https://www.instagram.com/rebuilt_epfl/"},{name:"Sailowtech",id:"sailowtech",country:"Switzerland",university:"EPFL","short-description":"Low-cost device for water analysis","long-description":"Sailowtech is a scientific sailing expedition program. Its mission is to combine low-tech and frugal innovations,                                 Open Sciences, awareness and spirit of adventure to encourage current and future generations to understand and                                 invest in the preservation of the oceans. DISCOVERY - PRESERVATION - TRANSMISSION. Composed of committed young people,                                 Sailowtech is rooted in scientific and social solidarity. It encourages participatory science through free access to                                 its resources. It cultivates a pragmatic and rigorous approach to ecological issues by benefiting from expert advice.                                 Finally, it includes sustainability in all its actions to propose a model of scientific expedition with minimum environmental                                 impact",linkedin:"https://www.linkedin.com/company/sailowtech/ ",instagram:"https://www.instagram.com/sailowtech/"},{name:"Solar Team Eindhoven",id:"solar-team-eindhoven",country:"The Netherlands",university:"TU Eindhoven","short-description":"Solar powered off-road car","long-description":"Solar Team Eindhoven (STE) is a team of enthusiastic students who want to show the world that driving on solar energy is not just a                                 pipe dream, but is already possible today. We are getting closer and closer to our sustainable future, and we are happy to contribute                                 to this with the development of a practical passenger car. More than 20 students, many of them Honors students and coming from almost all                                 faculties, are working full-time on the development of the car. The practical electric car, powered by solar energy, will be built from the                                 ground up. The design of the car of the future meets the wishes of the normal consumer. The knowledge present at Eindhoven University of Technology                                 combined with insights from the high-tech industry will be implemented in the design, in production and during testing. This cooperation makes the                                 group of top students into a powerful team that will participate in the 'Cruiser class' of the World Solar Challenge. This is the beginning of a                                 tradition in which Solar Team Eindhoven successfully participates in this race in Australia, leading to the car of the future. We like to share                                 our enthusiasm for technology and a sustainable future with others by actively seeking contact with the general public. In this way we show the Netherlands                                the value and possibilities of renewable energy and want to inspire new innovations.",linkedin:"https://www.linkedin.com/company/solar-team-eindhoven/",instagram:"https://www.instagram.com/solarteameindh"},{name:"Team Daedalus",id:"team-deadalus",country:"The Netherlands",university:"TU Eindhoven","short-description":"Solar-powered UAV for continuous wildfire monitoring","long-description":"Team Daedalus is developing a solar-powered unmanned aircraft to be used in the detection and monitoring of wildfires. Using solar-power, the aircraft has                                 no need to land and refuel, and can therefore remain in the air for much longer time periods. The team is currently working on deploying a 3m wingspan                                 prototype that will validate the key technologies, while simultaenously designing a 4m wingspan prototype that will aim for at least 12h of continuous flight.",linkedin:"https://www.linkedin.com/company/team-daedalus-tue/",instagram:null},{name:"The SARA Project",id:"the-sara-project",country:"Switzerland",university:"ETHZ","short-description":"Smartphone-based river monitoring application utilizing computer vision to detect and track environmental waste.","long-description":"The proposed project focuses on developing a smartphone-based river monitoring application utilizing computer vision to detect and track environmental waste,                                 particularly in river systems. This innovative solution offers an accessible, scalable and cost-effective approach to addressing river pollution, aiding in                                 data collection, environmental awareness and decision-making for clean-up initiatives. The project's impact lies in its potential to significantly enhance                                 environmental monitoring, promote sustainable practices and empower local communities and authorities with actionable insights to combat water pollution.                                 By participating in this challenge, the project could gain visibility, foster collaborations and access critical resources to advance its development and                                 implementation, driving global efforts toward cleaner waterways and improved environmental health.",linkedin:"https://www.linkedin.com/company/autonomous-river-cleanup-project/",instagram:"https://www.instagram.com/autonomousrivercleanup/"},{name:"Trovador",id:"trovador",country:"Portugal",university:"T\xe9cnico Lisboa","short-description":"Autonomous robots for reforestation","long-description":"Trovador enables reforestation in hard-to-access areas through robotic platforms that guarantee high tree survival rates. Our planting methods rely on planning                                 the plantation site, deploying the robot, and monitoring it from a distance. We deploy hexapod robots that not only offer stability, they also achieve a high                                 efficiency and speed performance.",linkedin:"https://www.linkedin.com/company/trovador-eu/",instagram:"https://www.instagram.com/trovador.eu/"},{name:"TUM Green Tech - Desalination",id:"tum-green-tech-desalination",country:"Germany",university:"TU M\xfcnchen","short-description":"Energy-efficient desalination for remote areas","long-description":"The TUM Green Tech Initiative is developing a sustainable desalination system to provide clean water to water-scarce regions, particularly in Africa.                                 The project aims to create an accessible, cost-effective, and solar-powered desalination system using Ion-Concentration Polarization (ICP) technology,                                 which is energy-efficient and scalable. Unlike traditional desalination methods, ICP operates without high-pressure pumps, making it ideal for off-grid                                 communities. The system will be designed for local maintenance and will include brine management solutions to minimize environmental impact. The team is                                 competing in the Water Abundance XPRIZE and plans to build a 1000-liter/day prototype by August.",linkedin:"https://www.linkedin.com/company/tum-green-tech-initiative/",instagram:"https://www.instagram.com/tum_greentech/"}],Yo=[{name:"TUM Green Tech - SailGen",id:"tum-green-tech-sailGen",country:"Germany",university:"TU M\xfcnchen","short-description":"Harvesting offshore wind energy","long-description":"Using innovative sailboats to collect sustainable energy on waters, tapping into the 71% of Earth's                                 surface covered by oceans and unleash the vast potential for renewable wind energy!                                 The goal: Develop a prototype that helps preserve our environment and takes a bold step toward a greener, better world.",linkedin:"https://www.linkedin.com/company/tum-green-tech-initiative/",instagram:"https://www.instagram.com/tum_greentech/"},{name:"TUM Carbon Removal Initiative e.V.",id:"tum-carbon-removal-initiative",country:"Germany",university:"TU M\xfcnchen","short-description":"Direct Air Capture","long-description":"We envision a sustainable and carbon-neutral world by mitigating the effects of climate change through carbon removal. To do so,                                 we iteratively develop carbon removal technologies and store carbon dioxide as dry ice for decades. Over the next year, we aim                                 to finish development and construction of our first pilot plant, which is set out to remove 20 tonnes of CO2 out of the atmosphere                                 per year. We reduce the atmospheric levels of CO2 (0.04%) by directly removing it from earth's atmosphere (\u201eDirect Air Capture\u201c)                                  and storing it as dry ice for long periods of time. This is a necessary step to reach international climate goals of limiting global                                 warming to 1.5 \xb0C.",linkedin:"https://www.linkedin.com/company/tum-carbon-removal-initiative/",instagram:"https://www.instagram.com/tum_carbon/"},{name:"Swiss Solar Boat",id:"swiss-solar-boat",country:"Switzerland",university:"EPFL","short-description":"Solar and hydrogen powered foiling boat","long-description":"Swiss Solar Boat is a Swiss project created by EPFL engineering students eager to contribute to the new momentum the world needs in terms of                                 technology, innovation, sustainability, and ecology. Driven by our passion for the maritime world and the desire to share knowledge, our goal                                 is to design and build boats that address the key challenges of future maritime transportation. We believe that combining hydrogen and                                 solar energy is the solution for more sustainable and efficient sailing. We are constantly striving for improvement by participating in                                 competitions like the Monaco Energy Boat Challenge, with much more to come.",linkedin:"https://www.linkedin.com/company/swiss-solar-boat/",instagram:"https://www.instagram.com/swiss_solar_boat/"},{name:"Ecolens",id:"ecolens",country:"Switzerland",university:"EPFL","short-description":"App guiding sustainable food choices","long-description":"EcoLens is a mobile app designed to incentivize students to eat more sustainably. Utilizing a game-like interface, the app encourages users to make                                 more eco-conscious choices at university restaurants. Students can track their food-related carbon emissions, earn rewards, and participate in challenges.",linkedin:"https://www.linkedin.com/company/ecolens-challenge/about/",instagram:"https://www.instagram.com/ecolens_epfl/"}],Qo=[{name:"Dunia Brunner",role:"Project Officer, UNIL",details:"Laborator for Applied Circular Economy",picture:null},{name:"Sacha Nick",role:"Scientist & Lecturer, EPFL",details:"Laboratory of Environmental and Urban Economics",picture:null},{name:"Fr\xe9d\xe9ric Dreyer",role:"Innovation & Ecosystems Manager, EPFL",details:null,picture:null},{name:"Yves Letterier",role:"Senior Scientist, EPFL",details:"Laboratory for Processinf of Advanced Composites",picture:null},{name:"Julia Bory",role:"Lead of Innovation at E4S, a jooint venture of UNIL, IMD and EPFL",details:"",picture:null},{name:"Karen Scrivener",role:"Full Professor, EPFL",details:"Laboratory of Construction Materials",picture:null},{name:"Michka M\xe9lo",role:"Sustainability Coach, EPFL Sustainability",details:"",picture:null}];const Zo=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,r.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,r.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"le challenge":"the challenge")+" | EPFL Sustainable Innovation Challenge"}),[]);const a={jury:{EN:"The Jury",FR:"Le jury"},"selected-teams":{EN:"Selected Teams",FR:"\xc9quipes s\xe9lectionn\xe9es"},"honorific-teams":{EN:"Honorific teams",FR:"S\xe9lections honorifiques"},"introduction-to-jury-1":{EN:"A huge thank you to our esteemed jury members, whose expertise and dedication have helped select the 12 winning teams for this year's Sustainable Innovation Challenge.",FR:"Un immense merci \xe0 nos \xe9minents membres du jury, dont l\u2019expertise et le d\xe9vouement ont permis de s\xe9lectionner les 12 \xe9quipes laur\xe9ates de cette \xe9dition du Sustainable Innovation Challenge."},"introduction-to-jury-2":{EN:"Their insights are shaping the future of sustainability-driven innovation, ensuring that each project stays true to its mission of making a positive impact.",FR:"Leurs perspectives fa\xe7onnent l'avenir de l'innovation ax\xe9e sur la durabilit\xe9, garantissant que chaque projet reste fid\xe8le \xe0 sa mission d'avoir un impact positif."},"introduction-to-jury-3":{EN:"We are proud to have such an incredible lineup of professionals guiding the next generation of innovators.",FR:"Nous sommes fiers de pouvoir compter sur un groupe aussi exceptionnel de professionnels pour guider la prochaine g\xe9n\xe9ration d'innovateurs."}};return(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsxs)("main",{children:[(0,Me.jsx)("h2",{children:a["selected-teams"][n]}),(0,Me.jsx)("div",{className:"gallery",children:Ko.map((e=>(0,Me.jsx)($o,{is_honorific:!1,team_data:e})))}),(0,Me.jsx)("h2",{children:a["honorific-teams"][n]}),(0,Me.jsx)("div",{className:"gallery",children:Yo.map((e=>(0,Me.jsx)($o,{is_honorific:!0,team_data:e})))}),(0,Me.jsx)("h2",{children:a.jury[n]}),(0,Me.jsxs)("p",{children:[a["introduction-to-jury-1"][n],(0,Me.jsx)("br",{}),a["introduction-to-jury-2"][n],(0,Me.jsx)("br",{}),a["introduction-to-jury-3"][n],(0,Me.jsx)("br",{})]}),(0,Me.jsx)("div",{className:"gallery",children:Qo.map((e=>(0,Me.jsx)(Xo,{jury_data:e})))})]})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})};const Jo=function(e){let{speaker_data:t}=e,n=`/speaker/${t.id}`;return(0,Me.jsxs)(_e,{className:"team-card",to:n,children:[(0,Me.jsx)("h2",{children:t.name}),(0,Me.jsx)("p",{children:t.title})]},t.id)},el=[{name:"Massimo Tavoni",id:"massimo-tavoni",role:"Full Professor at Politecnico di Milano and Director of the \u201cEuropean Institute on Economics and the Environment\u201d",title:"Keeping the Paris agreement alive: scenarios of climate stabilization",abstract:"Despite increasing risks from climate change, progress on climate policy                     remains insufficient. Growing geopolitical tensions risk exacerbating delays                     in mitigation to a point of no return. In this talk, we discuss future scenarios                    of emissions and their compatibility with climate stabilization at safe levels.                     We discuss the role of technology, society and economics to keep the Paris agreement                     climate goals alive, and compare the efforts of mitigation with their benefits to society."},{name:"Monika Roeling",id:"monika-roeling",role:"Researcher in Sustainability in Education at TUDelft",title:"A roadmap to sustainability and climate education at TU Delft?",abstract:"In 2019, TU Delft decided to become carbon neutral, circular, climate adaptive, and a                     living lab by 2030 while contributing to the quality of life. Creating a roadmap to sustainability                     and climate change within education at TU Delft is essential. We are currently working on a better                     implementation of both topics in all education programmes. The project initially started with an                     inventory of over 1800 BSc, Msc and minor courses on keywords and SDGs. The results were then                     gathered in an online (Green) Database that helps both students and teaching staff to have an                     overview of sustainability and climate change education at TU Delft and to choose wisely. With                     this newly acquired information it was possible to start the discussions with the executive                     board and other stakeholders on improving the educational programs. Next to these conversations,                     we worked on a university wide framework based on frameworks from literature. A first pilot was                     started with the BSc renewal of Building and Architecture started in 2022. During this revision,                     all Building and Architecture courses were linked to at least one SDG. The renewed BSc is currently                     running for its first year and will soon be evaluated with the help of students and staff. Furthermore,                     in January 2025 a community of practice was started in cooperation with The Teaching Lab. From now on,                     lecturers, students and support staff interested in sustainability and climate change education will work                     together more and more, showing the importance of collaboration and interdisciplinary science."},{name:"Kai Gehring",id:"kai-gehring",role:"Prof. Dr. Kai Gehring is currently a professor for political economy and sustainable development                 at the University of Bern in addition to being a member of the Wyss Academy for Nature.                 He is also associated with the Institute for Economic Research in Munich.",title:"Insuring Peace: Index-Based Livestock Insurance, Droughts, and Conflict",abstract:"We provide quasi-experimental evidence of how an innovative market-based solution using                     remote-sensing technology can mitigate drought-induced conflict. Droughts are a major driver                     of conflict in Africa, particularly between nomadic pastoralists and sedentary farmers.                     The IndexBased Livestock Insurance (IBLI) piloted in Kenya provides automated, preemptive                     payouts to pastoralists affected by droughts. Combining plausible exogenous variation in                     rainfall and the staggered rollout of IBLI in Kenya over the 2001-2020 period, we find                     that IBLI strongly reduces drought-induced conflict. Key mechanisms are an income smoothing                     effect and reduced migratory pressure for pastoralists, reducing the likelihood of miscoordination                     with other land users. Our study suggests that market-based solutions are a scalable, cost-effective                    pathway to mitigate conflict, complementing political solutions such as institutional reforms."},{name:"Alexander Mathys",id:"alexander-mathys",role:"Associate Professor at the Department of Health Sciences and Technology, and Deputy head of Institute of Food, Nutrition, and Health at ETH Z\xfcrich",title:"Emerging Food Production for more Sustainable Food Systems",abstract:"Innovations in food systems can support all 17 Sustainable Development Goals. The wide scope of the                     SDGs calls for holistic approaches that integrate 'siloed' food sustainability assessments in order to develop                     solutions able to change complex food systems. Here we present a multi-indicator sustainability assessment to                     quantify the performance of food systems, products, and services. Specifically, the integration of nutritional                     quality is crucial for a fair assessment. This data shows the need for nutritional equivalent, more sustainable                     alternatives to animal-based food and feed. Several aspects regarding affordability of such products need to be                     considered and include scalability, need for economy of scale, reduction of capital (CAPEX) and operational expenditures (OPEX).                     Centered on this framework, selected solutions by using polyextremophilic microalgae for nutritious food and black soldier fly                     larvae (BSFL) for more sustainable feed systems are suggested. The nutrient rich microalgae biomass of Galdieria sulphuraria                     grows in low pH (0-3) and at high temperatures up to 56\xb0C without cooling. The selective habitat of G. sulphuraria inhibits                     the growth of other microbial species, saving decontamination costs, simplifying the process, enabling circular residue                     stream utilization and continuous cultivation. On top of that, our developed emerging nanosecond pulsed electric field                     based single cell stimulation enabled up to 40% more biomass production in comparison to the control. All these aspects                     significantly minimize CAPEX and OPEX. Integration of up to 50% bright yellow microalgae protein concentrate with significantly                     more micronutrients such as vitamin E, B1, B2, B3, and B6 in comparison to soy demonstrated the potential of heterotrophic                     microalgae-based meat substitutes. For feed applications, resilient BSFL can effectively convert residue and waste streams                     into high quality feed in urban and rural areas. This supports potentially more sustainable feeds for needed livestock in                     developing areas. Selected implementation initiatives of these science-driven innovations with relevant industry partners and                     start-ups demonstrate the impact and relevance for the food sector."},{name:"Gr\xe9gory Nocton",id:"gregory-nocton",role:"Director of the Organo-f-Synthesis Laboratory, CNRS and professor at Ecole Polytechnique, President of the Center for Rare Earth and Actinide Research",title:"Carbon Removal by Direct Air Capture",abstract:"Direct Air Capture (DAC), which consists of directly and selectively capturing the CO2 in the atmosphere in                     relatively low concentrations (424 ppm), is a tremendous scientific challenge. The hurdles that impede the widespread                     adoption of amine-based technologies and the regeneration of adsorbent materials capable of carrying out this DAC at                     moderate energy cost are other complex challenges against the prohibitive energy cost of thermal regeneration techniques.                     Within the field, there is interest in capturing CO2 at temperatures closer to those of many industrial exhaust streams. However,                     metal oxide sorbents operating at these temperatures generally exhibit slow CO2 uptake kinetics and cycle instability. A final                     question remains about the fate of CO2, which has been captured. It is either buried to achieve a negative net cycle or transformed                     and valorized in a net zero cycle. During the conference, we will introduce you to the players and technologies in the field, and                     discuss their limitations. We will also present our approaches to developing original studies with various metals, cold plasmas,                     and photochemical methods to capture, regenerate, and transform captured CO2 efficiently."},{name:"C\xe9dric Tard",id:"cedric-tard",role:"CNRS Scientist and Professor at Ecole Polytechnique, and Director of the Laboratoire de Chimie Mol\xe9culaire and its research group",title:"CO2 Extraction from seawater: from Lab Bench to Ocean Depths",abstract:"This presentation explores innovative technologies for extracting carbon dioxide from aqueous media, focusing on electrochemical                     methods and techniques that redistribute and dilute acidity from the surface ocean to deeper layers. These approaches aim to reduce surface                     acidification and accelerate carbonate homeostasis, addressing the critical issue of ocean acidification and its impact on marine wildlife.                     Key technologies discussed include advanced electrochemical processes and novel methods for acidity redistribution, each with its unique                     advantages and challenges. Specific case studies will be presented to illustrate the real-world applications and effectiveness of these                     technologies. The main challenges, such as sustainability, energy consumption, or salinity, will be addressed, along with potential solutions                     to overcome these obstacles. The potential impacts of these technologies are significant, including a reduction in ocean acidification and an                     increase in the ocean's capacity to act as a carbon sink, thereby mitigating atmospheric carbon dioxide concentrations. By highlighting these                     cutting-edge methods and their practical implementations, this talk aims to inspire further research and adoption of these technologies to protect                     our oceans and combat climate change."},{name:"Christophe Ballif",id:"christophe-ballif",role:"",title:"Energy transition made easy: a quick travel between myths and reality, between Switzerland and China, with a closer look to photovoltaics",abstract:"In the first part of the presentation, we'll illustrate the enormous challenge for a transition to a carbon neutral world. Through simple,                    but often ignored, calculations, we'll show that the core of the transition worldwide must realistically be based mostly on solar and wind electricity.                     We'll discuss how, because or thanks to the hundreds of billions of dollars invested in manufacturing assets in Asia, it is now possible to deploy over                     thousand gigawatt of new renewable energy production assets every year as well as the batteries required to manage the grids. We'll discuss the impact of                     energy transition on minerals and mining, and the cost in terms of CO2 emission. We'll also show that, if the right route is not chosen, the fossil fuel                     industry we'll ensure we continue to warm up the world. We'll show how technological innovation, competition and volume, make for a permanent increase in                     the component efficiency, a decrease in the manufacturing costs as well as a decrease in the carbon footprint of all clean energy assets. In particular,                     we'll discuss the various improvements in the chain of photovoltaics, as well as the constant change and evolutions of silicon solar cells (from Al-BSF to PERC,                     Heterojunction, Topcon, tandem and much more). After discussing shortly the situation of Switzerland with close to 11% solar electricity production for 2024,                     we'll illustrate with multiple examples the amazing possibilities offered by specialty PV products: from white solar modules for the building to local Swiss                     manufacturing, from stratospheric balloons carrying ultra-light weight silicon modules to connected high performance Swiss solar watches, from floating solar                     to agrivoltaics, there seem to be no boundaries for solarizing our world!"},{name:"Claudia Binder and Ankita Singhvi",id:"claudia-binder-and-ankita-singhvi",role:"Full Professor at Laboratory for Human-Environment-Relations in Urban Systems at EPFL, and a researcher at the same lab",title:"Where should we innovate? Insights from Material Flow Analyses.",abstract:"The transition towards more sustainable material systems requires innovation at product, urban and national levels. However, it is not always clear where                     we should innovate, which technologies we should foster and what the side effects of the innovations could be. Whereas life cycle assessment supports in comparing                     different products from cradle to grave, it lacks in providing a holistic view on the overall material system. Material Flow Analysis (MFA) is a systemic tool based                     on the law of mass balance which quantifies the stocks and flows of a system providing the basis for scenario modeling. The results of an MFA can aid in prioritizing                     innovations and interventions. We provide a short insight into the methodology and focus on two examples, phosphorous and circularity of rare earths with respect to                     renewable energy technologies (e.g., PV, wind), to show the utility of MFA for supporting a more sustainable material management. "},{name:"Julia Steinberger",id:"julia-steinberger",role:"Professor of Societal Challenges of Climate Change at UNIL",title:"Living Well Within Limits: is it possible? And what will it take?",abstract:"The Living Well Within Limits project investigates the energy requirements of well-being, from quantitative, participatory and                     provisioning systems perspectives. In this presentation, I will communicate individual and cross-cutting findings from the project, and their                     implications. In particular, I will share our results on the international distribution of energy footprints by country, consumption category,                     and income classes, as well as modelling the minimum energy demand that would provide decent living standards for everyone on earth by 2050.                     I will show that achieving low-carbon well-being, both from the beneficiary (\u201cconsumer\u201d) and supply-chain (producer) sides, involves strong                     distributional and political elements. Political economy research is thus necessary to diagnose reasons for poor outcomes, and identify the                     most promising avenues for positive change. I thus argue for the active (as in activist) engagement of the research community."},{name:"Giacomo D'Alisa",id:"giacomo-d-alisa",role:"Researcher ICTA_UAB, co-director of the Master in Political Ecology, Autonomous University of Barcelona",title:"The case for degrowth and the Universal Care Income",abstract:"The talk consists of two parts. First, I will defend degrowth -  living well with less through a different way of living and                     prioritizing well-being, equity and sustainability. Based on emerging initiatives and traditions worldwide, we propose a radical vision                     of degrowth and outline policies to transform work and care, income and investment, avoiding exploitative and unsustainable practices.                     Degrowth can be achieved through transformative strategies that allow societies to become more sustainable by design, not by disaster.                     Secondly, I will present one of the proposals within the range of degrowth policies: universal care income. I will explain how it aligns                     with the universal basic income proposal and what aspects it differs from it"},{name:"Sascha Nick",id:"sascha-nick",role:"Scientist and Lecturer, EPFL, Laboratory of Environmental and Urban Economics, Prof at Business School of Lausanne. Scientific Director of the DAS in Sustainable Business.",title:"When is innovation beneficial to society? A systems perspective",abstract:"While the physical limits of innovation and technology often lie orders of magnitude beyond current capabilities, their                     immediate consequences are frequently overlooked. Who will use these innovations, and for what purpose? Who will be excluded? How will                     they impact society, ecosystem resilience, and broader society? Who will deploy them, and how long will that take? What unfolds in the meantime?                     These seemingly simple questions are deeply connected to the dynamics of complex adaptive systems. Understanding and shaping these system-wide effects                     is just as critical as developing the innovations themselves. Often, the most transformative breakthroughs lie not in technology but in social                     and governance innovations. In this talk, we will explore what meaningful, positive innovation looks like across mobility, housing, aviation,                     renewable energy, and climate action."},{name:"Satu Huuhka",id:"satu-huuhka",role:"Professor of Sustainable Renovation at Tampere University",title:"What is a sustainable building?",abstract:"Construction and buildings are a major contributor to climate change, biodiversity loss, resource depletion and waste generation worldwide.                     All buildings cause emissions, so is there such a thing as a sustainable building? In my presentation, I will discuss where the environmental                     impacts of buildings and cities stem from, how they accumulate temporally, and how to apply consequential thinking when trying to determine the                     lower-impact choice from multiple competing alternatives. Using case studies, I will elaborate how the circular economy, such as building and                     materials reuse, can help to reduce the environmental burden of the construction industry. Furthermore, I will propose what it takes to transition                     the sector from linear to circular."}];const tl=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,r.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,r.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"activit\xe9s":"activities")+" | EPFL Sustainable Innovation Challenge"}),[]);const a={speakers:{EN:"Speakers",FR:"Intervernants"},workshops:{EN:"Workshops",FR:"Ateliers"},stands:{EN:"Stands",FR:"Stands"}};return(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsxs)("main",{children:[(0,Me.jsx)("h2",{children:a.speakers[n]}),(0,Me.jsx)("div",{className:"gallery",children:el.map((e=>(0,Me.jsx)(Jo,{speaker_data:e})))}),(0,Me.jsx)("h2",{children:a.workshops[n]}),(0,Me.jsx)("div",{className:"gallery"}),(0,Me.jsx)("h2",{children:a.stands[n]}),(0,Me.jsx)("div",{className:"gallery"})]})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})};const nl=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,r.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}(0,r.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"pr\xe9sentation d'\xe9quipe":"team presentation")+" | EPFL Sustainable Innovation Challenge"}),[]);const{teamId:a}=re();return(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsx)("main",{})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})};const il=function(){var e;let t=null!==(e=localStorage.getItem("prefered-language"))&&void 0!==e?e:"EN",[n,i]=(0,r.useState)(t);function s(e){switch(e){case"FR":case"EN":break;default:e="EN"}localStorage.setItem("prefered-language",e),i(e)}return(0,r.useEffect)((function(){window.scrollTo(0,0),document.title=("FR"===n?"intervenant":"speaker")+" | EPFL Sustainable Innovation Challenge"}),[]),(0,Me.jsxs)("div",{className:"flexer",children:[(0,Me.jsxs)("section",{className:"main",children:[(0,Me.jsx)(De,{lang:n,saveAndChangeLang:s}),(0,Me.jsx)("main",{})]}),(0,Me.jsx)(Ie,{lang:n,saveAndChangeLang:s})]})};o.createRoot(document.getElementById("root")).render((0,Me.jsx)(r.StrictMode,{children:(0,Me.jsx)(Se,{children:(0,Me.jsxs)(be,{children:[(0,Me.jsx)(me,{path:"/",element:(0,Me.jsx)(Qe,{})}),(0,Me.jsx)(me,{path:"/our-engagement",element:(0,Me.jsx)(No,{})}),(0,Me.jsx)(me,{path:"/pv-status-ag",element:(0,Me.jsx)(zo,{})}),(0,Me.jsx)(me,{path:"/members",element:(0,Me.jsx)(ut,{})}),(0,Me.jsx)(me,{path:"/contact",element:(0,Me.jsx)(Bo,{})}),(0,Me.jsx)(me,{path:"/blog",element:(0,Me.jsx)(Ho,{})}),(0,Me.jsx)(me,{path:"/blog/:blogPostId",element:(0,Me.jsx)(Uo,{})}),[(0,Me.jsx)(me,{path:"/event-schedule",element:(0,Me.jsx)(qo,{})}),(0,Me.jsx)(me,{path:"/activities",element:(0,Me.jsx)(tl,{})}),(0,Me.jsx)(me,{path:"/the-challenge",element:(0,Me.jsx)(Zo,{})}),(0,Me.jsx)(me,{path:"/selected-team/:teamId",element:(0,Me.jsx)(nl,{})}),(0,Me.jsx)(me,{path:"/honorific-team/:teamId",element:(0,Me.jsx)(nl,{})}),(0,Me.jsx)(me,{path:"/speaker/:speakerId",element:(0,Me.jsx)(il,{})})],(0,Me.jsx)(me,{path:"*",element:(0,Me.jsx)(ge,{to:"/",replace:!0})})]})})}))})();
//# sourceMappingURL=main.2f542326.js.map